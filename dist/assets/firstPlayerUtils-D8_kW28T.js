const n=(r,e,s)=>{if(console.log(`ðŸŽ¯ Determining first player for turn ${r}`,{firstPlayerOverride:e,firstPasserOfPreviousRound:s}),e)return console.log(`âœ… Using first player override: ${e}`),e;if(r===1){const t=Math.random()<.5?"player1":"player2";return console.log(`ðŸŽ² Turn 1: Random first player selected: ${t}`),t}const o=s||"player1";return console.log(`ðŸ“‹ Turn ${r}: First passer from previous round goes first: ${o}`),o},l=(r,e,s)=>e?"First player was set by game effect.":r===1?"The first player is determined randomly for the first round.":`The first player is ${s?"the player who passed first last round":"determined by previous round results"}.`,i=r=>{console.log("ðŸŽ¯ Processing first player determination");const e=n(r.turn,r.firstPlayerOverride,r.firstPasserOfPreviousRound),s=l(r.turn,r.firstPlayerOverride,r.firstPasserOfPreviousRound),o={currentPlayer:e,firstPlayerOfRound:e};r.firstPlayerOverride&&(o.firstPlayerOverride=null),o.passInfo={firstPasser:null,player1Passed:!1,player2Passed:!1};const t={stateUpdates:o,firstPlayer:e,reasonText:s,effects:{showFirstPlayerModal:!0,modalData:{firstPlayer:e,reasonText:s}}};return console.log("âœ… First player determination completed:",t),t};export{n as determineFirstPlayer,l as getFirstPlayerReasonText,i as processFirstPlayerDetermination};
