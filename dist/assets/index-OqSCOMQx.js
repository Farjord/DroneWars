function $w(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function qr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jm={exports:{}},Pc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aA;function Kj(){if(aA)return Pc;aA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var c=null;if(s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:c,ref:i!==void 0?i:null,props:s}}return Pc.Fragment=t,Pc.jsx=n,Pc.jsxs=n,Pc}var iA;function Vj(){return iA||(iA=1,Jm.exports=Kj()),Jm.exports}var v=Vj(),eg={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oA;function Xj(){if(oA)return Le;oA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(L){return L===null||typeof L!="object"?null:(L=m&&L[m]||L["@@iterator"],typeof L=="function"?L:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function P(L,Q,V){this.props=L,this.context=Q,this.refs=A,this.updater=V||x}P.prototype.isReactComponent={},P.prototype.setState=function(L,Q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Q,"setState")},P.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function E(){}E.prototype=P.prototype;function _(L,Q,V){this.props=L,this.context=Q,this.refs=A,this.updater=V||x}var O=_.prototype=new E;O.constructor=_,S(O,P.prototype),O.isPureReactComponent=!0;var j=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function N(L,Q,V,ue,xe,q){return V=q.ref,{$$typeof:e,type:L,key:Q,ref:V!==void 0?V:null,props:q}}function M(L,Q){return N(L.type,Q,void 0,void 0,void 0,L.props)}function z(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function re(L){var Q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(V){return Q[V]})}var W=/\/+/g;function ee(L,Q){return typeof L=="object"&&L!==null&&L.key!=null?re(""+L.key):Q.toString(36)}function pe(){}function de(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(pe,pe):(L.status="pending",L.then(function(Q){L.status==="pending"&&(L.status="fulfilled",L.value=Q)},function(Q){L.status==="pending"&&(L.status="rejected",L.reason=Q)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function ie(L,Q,V,ue,xe){var q=typeof L;(q==="undefined"||q==="boolean")&&(L=null);var se=!1;if(L===null)se=!0;else switch(q){case"bigint":case"string":case"number":se=!0;break;case"object":switch(L.$$typeof){case e:case t:se=!0;break;case p:return se=L._init,ie(se(L._payload),Q,V,ue,xe)}}if(se)return xe=xe(L),se=ue===""?"."+ee(L,0):ue,j(xe)?(V="",se!=null&&(V=se.replace(W,"$&/")+"/"),ie(xe,Q,V,"",function(le){return le})):xe!=null&&(z(xe)&&(xe=M(xe,V+(xe.key==null||L&&L.key===xe.key?"":(""+xe.key).replace(W,"$&/")+"/")+se)),Q.push(xe)),1;se=0;var Se=ue===""?".":ue+":";if(j(L))for(var ye=0;ye<L.length;ye++)ue=L[ye],q=Se+ee(ue,ye),se+=ie(ue,Q,V,q,xe);else if(ye=y(L),typeof ye=="function")for(L=ye.call(L),ye=0;!(ue=L.next()).done;)ue=ue.value,q=Se+ee(ue,ye++),se+=ie(ue,Q,V,q,xe);else if(q==="object"){if(typeof L.then=="function")return ie(de(L),Q,V,ue,xe);throw Q=String(L),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return se}function U(L,Q,V){if(L==null)return L;var ue=[],xe=0;return ie(L,ue,"","",function(q){return Q.call(V,q,xe++)}),ue}function ae(L){if(L._status===-1){var Q=L._result;Q=Q(),Q.then(function(V){(L._status===0||L._status===-1)&&(L._status=1,L._result=V)},function(V){(L._status===0||L._status===-1)&&(L._status=2,L._result=V)}),L._status===-1&&(L._status=0,L._result=Q)}if(L._status===1)return L._result.default;throw L._result}var ge=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function me(){}return Le.Children={map:U,forEach:function(L,Q,V){U(L,function(){Q.apply(this,arguments)},V)},count:function(L){var Q=0;return U(L,function(){Q++}),Q},toArray:function(L){return U(L,function(Q){return Q})||[]},only:function(L){if(!z(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Le.Component=P,Le.Fragment=n,Le.Profiler=i,Le.PureComponent=_,Le.StrictMode=r,Le.Suspense=d,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Le.__COMPILER_RUNTIME={__proto__:null,c:function(L){return k.H.useMemoCache(L)}},Le.cache=function(L){return function(){return L.apply(null,arguments)}},Le.cloneElement=function(L,Q,V){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ue=S({},L.props),xe=L.key,q=void 0;if(Q!=null)for(se in Q.ref!==void 0&&(q=void 0),Q.key!==void 0&&(xe=""+Q.key),Q)!D.call(Q,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&Q.ref===void 0||(ue[se]=Q[se]);var se=arguments.length-2;if(se===1)ue.children=V;else if(1<se){for(var Se=Array(se),ye=0;ye<se;ye++)Se[ye]=arguments[ye+2];ue.children=Se}return N(L.type,xe,void 0,void 0,q,ue)},Le.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:s,_context:L},L},Le.createElement=function(L,Q,V){var ue,xe={},q=null;if(Q!=null)for(ue in Q.key!==void 0&&(q=""+Q.key),Q)D.call(Q,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(xe[ue]=Q[ue]);var se=arguments.length-2;if(se===1)xe.children=V;else if(1<se){for(var Se=Array(se),ye=0;ye<se;ye++)Se[ye]=arguments[ye+2];xe.children=Se}if(L&&L.defaultProps)for(ue in se=L.defaultProps,se)xe[ue]===void 0&&(xe[ue]=se[ue]);return N(L,q,void 0,void 0,null,xe)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(L){return{$$typeof:u,render:L}},Le.isValidElement=z,Le.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:ae}},Le.memo=function(L,Q){return{$$typeof:h,type:L,compare:Q===void 0?null:Q}},Le.startTransition=function(L){var Q=k.T,V={};k.T=V;try{var ue=L(),xe=k.S;xe!==null&&xe(V,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(me,ge)}catch(q){ge(q)}finally{k.T=Q}},Le.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Le.use=function(L){return k.H.use(L)},Le.useActionState=function(L,Q,V){return k.H.useActionState(L,Q,V)},Le.useCallback=function(L,Q){return k.H.useCallback(L,Q)},Le.useContext=function(L){return k.H.useContext(L)},Le.useDebugValue=function(){},Le.useDeferredValue=function(L,Q){return k.H.useDeferredValue(L,Q)},Le.useEffect=function(L,Q,V){var ue=k.H;if(typeof V=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(L,Q)},Le.useId=function(){return k.H.useId()},Le.useImperativeHandle=function(L,Q,V){return k.H.useImperativeHandle(L,Q,V)},Le.useInsertionEffect=function(L,Q){return k.H.useInsertionEffect(L,Q)},Le.useLayoutEffect=function(L,Q){return k.H.useLayoutEffect(L,Q)},Le.useMemo=function(L,Q){return k.H.useMemo(L,Q)},Le.useOptimistic=function(L,Q){return k.H.useOptimistic(L,Q)},Le.useReducer=function(L,Q,V){return k.H.useReducer(L,Q,V)},Le.useRef=function(L){return k.H.useRef(L)},Le.useState=function(L){return k.H.useState(L)},Le.useSyncExternalStore=function(L,Q,V){return k.H.useSyncExternalStore(L,Q,V)},Le.useTransition=function(){return k.H.useTransition()},Le.version="19.1.1",Le}var sA;function al(){return sA||(sA=1,eg.exports=Xj()),eg.exports}var C=al();const Bw=qr(C),Wj=$w({__proto__:null,default:Bw},[C]);var tg={exports:{}},Ec={},ng={exports:{}},rg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lA;function Qj(){return lA||(lA=1,(function(e){function t(U,ae){var ge=U.length;U.push(ae);e:for(;0<ge;){var me=ge-1>>>1,L=U[me];if(0<i(L,ae))U[me]=ae,U[ge]=L,ge=me;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var ae=U[0],ge=U.pop();if(ge!==ae){U[0]=ge;e:for(var me=0,L=U.length,Q=L>>>1;me<Q;){var V=2*(me+1)-1,ue=U[V],xe=V+1,q=U[xe];if(0>i(ue,ge))xe<L&&0>i(q,ue)?(U[me]=q,U[xe]=ge,me=xe):(U[me]=ue,U[V]=ge,me=V);else if(xe<L&&0>i(q,ge))U[me]=q,U[xe]=ge,me=xe;else break e}}return ae}function i(U,ae){var ge=U.sortIndex-ae.sortIndex;return ge!==0?ge:U.id-ae.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var d=[],h=[],p=1,m=null,y=3,x=!1,S=!1,A=!1,P=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function j(U){for(var ae=n(h);ae!==null;){if(ae.callback===null)r(h);else if(ae.startTime<=U)r(h),ae.sortIndex=ae.expirationTime,t(d,ae);else break;ae=n(h)}}function k(U){if(A=!1,j(U),!S)if(n(d)!==null)S=!0,D||(D=!0,ee());else{var ae=n(h);ae!==null&&ie(k,ae.startTime-U)}}var D=!1,N=-1,M=5,z=-1;function re(){return P?!0:!(e.unstable_now()-z<M)}function W(){if(P=!1,D){var U=e.unstable_now();z=U;var ae=!0;try{e:{S=!1,A&&(A=!1,_(N),N=-1),x=!0;var ge=y;try{t:{for(j(U),m=n(d);m!==null&&!(m.expirationTime>U&&re());){var me=m.callback;if(typeof me=="function"){m.callback=null,y=m.priorityLevel;var L=me(m.expirationTime<=U);if(U=e.unstable_now(),typeof L=="function"){m.callback=L,j(U),ae=!0;break t}m===n(d)&&r(d),j(U)}else r(d);m=n(d)}if(m!==null)ae=!0;else{var Q=n(h);Q!==null&&ie(k,Q.startTime-U),ae=!1}}break e}finally{m=null,y=ge,x=!1}ae=void 0}}finally{ae?ee():D=!1}}}var ee;if(typeof O=="function")ee=function(){O(W)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,de=pe.port2;pe.port1.onmessage=W,ee=function(){de.postMessage(null)}}else ee=function(){E(W,0)};function ie(U,ae){N=E(function(){U(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(U){switch(y){case 1:case 2:case 3:var ae=3;break;default:ae=y}var ge=y;y=ae;try{return U()}finally{y=ge}},e.unstable_requestPaint=function(){P=!0},e.unstable_runWithPriority=function(U,ae){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ge=y;y=U;try{return ae()}finally{y=ge}},e.unstable_scheduleCallback=function(U,ae,ge){var me=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?me+ge:me):ge=me,U){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ge+L,U={id:p++,callback:ae,priorityLevel:U,startTime:ge,expirationTime:L,sortIndex:-1},ge>me?(U.sortIndex=ge,t(h,U),n(d)===null&&U===n(h)&&(A?(_(N),N=-1):A=!0,ie(k,ge-me))):(U.sortIndex=L,t(d,U),S||x||(S=!0,D||(D=!0,ee()))),U},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(U){var ae=y;return function(){var ge=y;y=ae;try{return U.apply(this,arguments)}finally{y=ge}}}})(rg)),rg}var cA;function Zj(){return cA||(cA=1,ng.exports=Qj()),ng.exports}var ag={exports:{}},Pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uA;function Jj(){if(uA)return Pn;uA=1;var e=al();function t(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:h,implementation:p}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Pn.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(d,h,null,p)},Pn.flushSync=function(d){var h=c.T,p=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=h,r.p=p,r.d.f()}},Pn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},Pn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Pn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,m=u(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:x}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:y,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Pn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},Pn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=u(p,h.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Pn.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},Pn.requestFormReset=function(d){r.d.r(d)},Pn.unstable_batchedUpdates=function(d,h){return d(h)},Pn.useFormState=function(d,h,p){return c.H.useFormState(d,h,p)},Pn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Pn.version="19.1.1",Pn}var fA;function Uw(){if(fA)return ag.exports;fA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ag.exports=Jj(),ag.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dA;function eN(){if(dA)return Ec;dA=1;var e=Zj(),t=al(),n=Uw();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,l=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(l=o.return),a=o.return;while(a)}return o.tag===3?l:null}function c(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(r(188))}function d(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var l=a,f=o;;){var g=l.return;if(g===null)break;var b=g.alternate;if(b===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===l)return u(g),a;if(b===f)return u(g),o;b=b.sibling}throw Error(r(188))}if(l.return!==f.return)l=g,f=b;else{for(var w=!1,T=g.child;T;){if(T===l){w=!0,l=g,f=b;break}if(T===f){w=!0,f=g,l=b;break}T=T.sibling}if(!w){for(T=b.child;T;){if(T===l){w=!0,l=b,f=g;break}if(T===f){w=!0,f=b,l=g;break}T=T.sibling}if(!w)throw Error(r(189))}}if(l.alternate!==f)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?a:o}function h(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=h(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),O=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function ee(a){return a===null||typeof a!="object"?null:(a=W&&a[W]||a["@@iterator"],typeof a=="function"?a:null)}var pe=Symbol.for("react.client.reference");function de(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===pe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case P:return"Profiler";case A:return"StrictMode";case k:return"Suspense";case D:return"SuspenseList";case z:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case O:return(a.displayName||"Context")+".Provider";case _:return(a._context.displayName||"Context")+".Consumer";case j:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return o=a.displayName||null,o!==null?o:de(a.type)||"Memo";case M:o=a._payload,a=a._init;try{return de(a(o))}catch{}}return null}var ie=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},me=[],L=-1;function Q(a){return{current:a}}function V(a){0>L||(a.current=me[L],me[L]=null,L--)}function ue(a,o){L++,me[L]=a.current,a.current=o}var xe=Q(null),q=Q(null),se=Q(null),Se=Q(null);function ye(a,o){switch(ue(se,o),ue(q,a),ue(xe,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?j1(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=j1(o),a=N1(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}V(xe),ue(xe,a)}function le(){V(xe),V(q),V(se)}function te(a){a.memoizedState!==null&&ue(Se,a);var o=xe.current,l=N1(o,a.type);o!==l&&(ue(q,a),ue(xe,l))}function be(a){q.current===a&&(V(xe),V(q)),Se.current===a&&(V(Se),bc._currentValue=ge)}var he=Object.prototype.hasOwnProperty,Xe=e.unstable_scheduleCallback,qe=e.unstable_cancelCallback,Jt=e.unstable_shouldYield,Fe=e.unstable_requestPaint,Be=e.unstable_now,da=e.unstable_getCurrentPriorityLevel,ti=e.unstable_ImmediatePriority,ni=e.unstable_UserBlockingPriority,vl=e.unstable_NormalPriority,Pe=e.unstable_LowPriority,Ie=e.unstable_IdlePriority,Vn=e.log,Ir=e.unstable_setDisableYieldValue,ze=null,Ye=null;function Fr(a){if(typeof Vn=="function"&&Ir(a),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(ze,a)}catch{}}var vn=Math.clz32?Math.clz32:Ki,Bh=Math.log,Uh=Math.LN2;function Ki(a){return a>>>=0,a===0?32:31-(Bh(a)/Uh|0)|0}var Vi=256,Kr=4194304;function hr(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ha(a,o,l){var f=a.pendingLanes;if(f===0)return 0;var g=0,b=a.suspendedLanes,w=a.pingedLanes;a=a.warmLanes;var T=f&134217727;return T!==0?(f=T&~b,f!==0?g=hr(f):(w&=T,w!==0?g=hr(w):l||(l=T&~a,l!==0&&(g=hr(l))))):(T=f&~b,T!==0?g=hr(T):w!==0?g=hr(w):l||(l=f&~a,l!==0&&(g=hr(l)))),g===0?0:o!==0&&o!==g&&(o&b)===0&&(b=g&-g,l=o&-o,b>=l||b===32&&(l&4194048)!==0)?o:g}function pa(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function zh(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bl(){var a=Vi;return Vi<<=1,(Vi&4194048)===0&&(Vi=256),a}function xl(){var a=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),a}function ri(a){for(var o=[],l=0;31>l;l++)o.push(a);return o}function Xn(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function xu(a,o,l,f,g,b){var w=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var T=a.entanglements,R=a.expirationTimes,K=a.hiddenUpdates;for(l=w&~l;0<l;){var oe=31-vn(l),fe=1<<oe;T[oe]=0,R[oe]=-1;var X=K[oe];if(X!==null)for(K[oe]=null,oe=0;oe<X.length;oe++){var Z=X[oe];Z!==null&&(Z.lane&=-536870913)}l&=~fe}f!==0&&Gh(a,f,0),b!==0&&g===0&&a.tag!==0&&(a.suspendedLanes|=b&~(w&~o))}function Gh(a,o,l){a.pendingLanes|=o,a.suspendedLanes&=~o;var f=31-vn(o);a.entangledLanes|=o,a.entanglements[f]=a.entanglements[f]|1073741824|l&4194090}function Su(a,o){var l=a.entangledLanes|=o;for(a=a.entanglements;l;){var f=31-vn(l),g=1<<f;g&o|a[f]&o&&(a[f]|=o),l&=~g}}function Qo(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Zo(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Sl(){var a=ae.p;return a!==0?a:(a=window.event,a===void 0?32:Z1(a.type))}function Al(a,o){var l=ae.p;try{return ae.p=a,o()}finally{ae.p=l}}var Lr=Math.random().toString(36).slice(2),$t="__reactFiber$"+Lr,bn="__reactProps$"+Lr,ma="__reactContainer$"+Lr,Cl="__reactEvents$"+Lr,Au="__reactListeners$"+Lr,Xi="__reactHandles$"+Lr,Pl="__reactResources$"+Lr,Jo="__reactMarker$"+Lr;function Cu(a){delete a[$t],delete a[bn],delete a[Cl],delete a[Au],delete a[Xi]}function $r(a){var o=a[$t];if(o)return o;for(var l=a.parentNode;l;){if(o=l[ma]||l[$t]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(a=L1(a);a!==null;){if(l=a[$t])return l;a=L1(a)}return o}a=l,l=a.parentNode}return null}function Wn(a){if(a=a[$t]||a[ma]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function pr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Qn(a){var o=a[Pl];return o||(o=a[Pl]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Nt(a){a[Jo]=!0}var El=new Set,wl={};function mr(a,o){en(a,o),en(a+"Capture",o)}function en(a,o){for(wl[a]=o,a=0;a<o.length;a++)El.add(o[a])}var _l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wi={},Bt={};function $n(a){return he.call(Bt,a)?!0:he.call(Wi,a)?!1:_l.test(a)?Bt[a]=!0:(Wi[a]=!0,!1)}function Vr(a,o,l){if($n(o))if(l===null)a.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+l)}}function Qi(a,o,l){if(l===null)a.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+l)}}function tn(a,o,l,f){if(f===null)a.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(o,l,""+f)}}var Xr,Ol;function Bn(a){if(Xr===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);Xr=o&&o[1]||"",Ol=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+a+Ol}var kn=!1;function jn(a,o){if(!a||kn)return"";kn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(Z){var X=Z}Reflect.construct(a,[],fe)}else{try{fe.call()}catch(Z){X=Z}a.call(fe.prototype)}}else{try{throw Error()}catch(Z){X=Z}(fe=a())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),w=b[0],T=b[1];if(w&&T){var R=w.split(`
`),K=T.split(`
`);for(g=f=0;f<R.length&&!R[f].includes("DetermineComponentFrameRoot");)f++;for(;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;if(f===R.length||g===K.length)for(f=R.length-1,g=K.length-1;1<=f&&0<=g&&R[f]!==K[g];)g--;for(;1<=f&&0<=g;f--,g--)if(R[f]!==K[g]){if(f!==1||g!==1)do if(f--,g--,0>g||R[f]!==K[g]){var oe=`
`+R[f].replace(" at new "," at ");return a.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",a.displayName)),oe}while(1<=f&&0<=g);break}}}finally{kn=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?Bn(l):""}function ga(a){switch(a.tag){case 26:case 27:case 5:return Bn(a.type);case 16:return Bn("Lazy");case 13:return Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return jn(a.type,!1);case 11:return jn(a.type.render,!1);case 1:return jn(a.type,!0);case 31:return Bn("Activity");default:return""}}function Tl(a){try{var o="";do o+=ga(a),a=a.return;while(a);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function pt(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function gr(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Pu(a){var o=gr(a)?"checked":"value",l=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),f=""+a[o];if(!a.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,b=l.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return g.call(this)},set:function(w){f=""+w,b.call(this,w)}}),Object.defineProperty(a,o,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(w){f=""+w},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Wr(a){a._valueTracker||(a._valueTracker=Pu(a))}function mt(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var l=o.getValue(),f="";return a&&(f=gr(a)?a.checked?"true":"false":a.value),a=f,a!==l?(o.setValue(a),!0):!1}function xn(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Eu=/[\n"\\]/g;function Sn(a){return a.replace(Eu,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function es(a,o,l,f,g,b,w,T){a.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?a.type=w:a.removeAttribute("type"),o!=null?w==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+pt(o)):a.value!==""+pt(o)&&(a.value=""+pt(o)):w!=="submit"&&w!=="reset"||a.removeAttribute("value"),o!=null?ns(a,w,pt(o)):l!=null?ns(a,w,pt(l)):f!=null&&a.removeAttribute("value"),g==null&&b!=null&&(a.defaultChecked=!!b),g!=null&&(a.checked=g&&typeof g!="function"&&typeof g!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?a.name=""+pt(T):a.removeAttribute("name")}function ts(a,o,l,f,g,b,w,T){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;l=l!=null?""+pt(l):"",o=o!=null?""+pt(o):l,T||o===a.value||(a.value=o),a.defaultValue=o}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=T?a.checked:!!f,a.defaultChecked=!!f,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.name=w)}function ns(a,o,l){o==="number"&&xn(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function ya(a,o,l,f){if(a=a.options,o){o={};for(var g=0;g<l.length;g++)o["$"+l[g]]=!0;for(l=0;l<a.length;l++)g=o.hasOwnProperty("$"+a[l].value),a[l].selected!==g&&(a[l].selected=g),g&&f&&(a[l].defaultSelected=!0)}else{for(l=""+pt(l),o=null,g=0;g<a.length;g++){if(a[g].value===l){a[g].selected=!0,f&&(a[g].defaultSelected=!0);return}o!==null||a[g].disabled||(o=a[g])}o!==null&&(o.selected=!0)}}function An(a,o,l){if(o!=null&&(o=""+pt(o),o!==a.value&&(a.value=o),l==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=l!=null?""+pt(l):""}function Qr(a,o,l,f){if(o==null){if(f!=null){if(l!=null)throw Error(r(92));if(ie(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),o=l}l=pt(o),a.defaultValue=l,f=a.textContent,f===l&&f!==""&&f!==null&&(a.value=f)}function ai(a,o){if(o){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=o;return}}a.textContent=o}var rs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function va(a,o,l){var f=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":f?a.setProperty(o,l):typeof l!="number"||l===0||rs.has(o)?o==="float"?a.cssFloat=l:a[o]=(""+l).trim():a[o]=l+"px"}function ba(a,o,l){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var g in o)f=o[g],o.hasOwnProperty(g)&&l[g]!==f&&va(a,g,f)}else for(var b in o)o.hasOwnProperty(b)&&va(a,b,o[b])}function Dl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),as=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(a){return as.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Sa=null;function kl(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Aa=null,Ca=null;function jl(a){var o=Wn(a);if(o&&(a=o.stateNode)){var l=a[bn]||null;e:switch(a=o.stateNode,o.type){case"input":if(es(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Sn(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var f=l[o];if(f!==a&&f.form===a.form){var g=f[bn]||null;if(!g)throw Error(r(90));es(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<l.length;o++)f=l[o],f.form===a.form&&mt(f)}break e;case"textarea":An(a,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&ya(a,!!l.multiple,o,!1)}}}var Zi=!1;function Hh(a,o,l){if(Zi)return a(o,l);Zi=!0;try{var f=a(o);return f}finally{if(Zi=!1,(Aa!==null||Ca!==null)&&(xf(),Aa&&(o=Aa,a=Ca,Ca=Aa=null,jl(o),a)))for(o=0;o<a.length;o++)jl(a[o])}}function Ji(a,o){var l=a.stateNode;if(l===null)return null;var f=l[bn]||null;if(f===null)return null;l=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nl=!1;if(Zr)try{var is={};Object.defineProperty(is,"passive",{get:function(){Nl=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{Nl=!1}var Jr=null,Un=null,ea=null;function eo(){if(ea)return ea;var a,o=Un,l=o.length,f,g="value"in Jr?Jr.value:Jr.textContent,b=g.length;for(a=0;a<l&&o[a]===g[a];a++);var w=l-a;for(f=1;f<=w&&o[l-f]===g[b-f];f++);return ea=g.slice(a,1<f?1-f:void 0)}function ii(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function to(){return!0}function _u(){return!1}function Je(a){function o(l,f,g,b,w){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=b,this.target=w,this.currentTarget=null;for(var T in a)a.hasOwnProperty(T)&&(l=a[T],this[T]=l?l(b):b[T]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?to:_u,this.isPropagationStopped=_u,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=to)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=to)},persist:function(){},isPersistent:to}),o}var Nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dt=Je(Nn),Ft=p({},Nn,{view:0,detail:0}),Ou=Je(Ft),Ml,no,ro,os=p({},Ft,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ro&&(ro&&a.type==="mousemove"?(Ml=a.screenX-ro.screenX,no=a.screenY-ro.screenY):no=Ml=0,ro=a),Ml)},movementY:function(a){return"movementY"in a?a.movementY:no}}),Tu=Je(os),Du=p({},os,{dataTransfer:0}),qh=Je(Du),Yh=p({},Ft,{relatedTarget:0}),Rl=Je(Yh),fn=p({},Nn,{animationName:0,elapsedTime:0,pseudoElement:0}),Fh=Je(fn),Kh=p({},Nn,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Vh=Je(Kh),Xh=p({},Nn,{data:0}),Il=Je(Xh),Wh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ll(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Zh[a])?!!o[a]:!1}function $l(){return Ll}var Jh=p({},Ft,{key:function(a){if(a.key){var o=Wh[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=ii(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Qh[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(a){return a.type==="keypress"?ii(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ii(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ep=Je(Jh),ku=p({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ju=Je(ku),tp=p({},Ft,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),np=Je(tp),rp=p({},Nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ap=Je(rp),ip=p({},os,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Bl=Je(ip),op=p({},Nn,{newState:0,oldState:0}),Nu=Je(op),sp=[9,13,27,32],ss=Zr&&"CompositionEvent"in window,ao=null;Zr&&"documentMode"in document&&(ao=document.documentMode);var lp=Zr&&"TextEvent"in window&&!ao,Mu=Zr&&(!ss||ao&&8<ao&&11>=ao),Ru=" ",Iu=!1;function Lu(a,o){switch(a){case"keyup":return sp.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ul(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var oi=!1;function cp(a,o){switch(a){case"compositionend":return Ul(o);case"keypress":return o.which!==32?null:(Iu=!0,Ru);case"textInput":return a=o.data,a===Ru&&Iu?null:a;default:return null}}function up(a,o){if(oi)return a==="compositionend"||!ss&&Lu(a,o)?(a=eo(),ea=Un=Jr=null,oi=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Mu&&o.locale!=="ko"?null:o.data;default:return null}}var fp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $u(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!fp[a.type]:o==="textarea"}function Bu(a,o,l,f){Aa?Ca?Ca.push(f):Ca=[f]:Aa=f,o=wf(o,"onChange"),0<o.length&&(l=new Dt("onChange","change",null,l,f),a.push({event:l,listeners:o}))}var io=null,oo=null;function dp(a){_1(a,0)}function ls(a){var o=pr(a);if(mt(o))return a}function I(a,o){if(a==="change")return o}var $=!1;if(Zr){var Y;if(Zr){var G="oninput"in document;if(!G){var ne=document.createElement("div");ne.setAttribute("oninput","return;"),G=typeof ne.oninput=="function"}Y=G}else Y=!1;$=Y&&(!document.documentMode||9<document.documentMode)}function ve(){io&&(io.detachEvent("onpropertychange",Ce),oo=io=null)}function Ce(a){if(a.propertyName==="value"&&ls(oo)){var o=[];Bu(o,oo,a,kl(a)),Hh(dp,o)}}function Re(a,o,l){a==="focusin"?(ve(),io=o,oo=l,io.attachEvent("onpropertychange",Ce)):a==="focusout"&&ve()}function Ve(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ls(oo)}function lt(a,o){if(a==="click")return ls(o)}function St(a,o){if(a==="input"||a==="change")return ls(o)}function vt(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var nt=typeof Object.is=="function"?Object.is:vt;function rt(a,o){if(nt(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var l=Object.keys(a),f=Object.keys(o);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!he.call(o,g)||!nt(a[g],o[g]))return!1}return!0}function si(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ta(a,o){var l=si(a);a=0;for(var f;l;){if(l.nodeType===3){if(f=a+l.textContent.length,a<=o&&f>=o)return{node:l,offset:o-a};a=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=si(l)}}function Pa(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Pa(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Uu(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=xn(a.document);o instanceof a.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)a=o.contentWindow;else break;o=xn(a.document)}return o}function cs(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var so=Zr&&"documentMode"in document&&11>=document.documentMode,li=null,lo=null,us=null,hp=!1;function rx(a,o,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;hp||li==null||li!==xn(f)||(f=li,"selectionStart"in f&&cs(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),us&&rt(us,f)||(us=f,f=wf(lo,"onSelect"),0<f.length&&(o=new Dt("onSelect","select",null,o,l),a.push({event:o,listeners:f}),o.target=li)))}function co(a,o){var l={};return l[a.toLowerCase()]=o.toLowerCase(),l["Webkit"+a]="webkit"+o,l["Moz"+a]="moz"+o,l}var fs={animationend:co("Animation","AnimationEnd"),animationiteration:co("Animation","AnimationIteration"),animationstart:co("Animation","AnimationStart"),transitionrun:co("Transition","TransitionRun"),transitionstart:co("Transition","TransitionStart"),transitioncancel:co("Transition","TransitionCancel"),transitionend:co("Transition","TransitionEnd")},pp={},ax={};Zr&&(ax=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function uo(a){if(pp[a])return pp[a];if(!fs[a])return a;var o=fs[a],l;for(l in o)if(o.hasOwnProperty(l)&&l in ax)return pp[a]=o[l];return a}var ix=uo("animationend"),ox=uo("animationiteration"),sx=uo("animationstart"),Tk=uo("transitionrun"),Dk=uo("transitionstart"),kk=uo("transitioncancel"),lx=uo("transitionend"),cx=new Map,mp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mp.push("scrollEnd");function Br(a,o){cx.set(a,o),mr(o,[a])}var ux=new WeakMap;function yr(a,o){if(typeof a=="object"&&a!==null){var l=ux.get(a);return l!==void 0?l:(o={value:a,source:o,stack:Tl(o)},ux.set(a,o),o)}return{value:a,source:o,stack:Tl(o)}}var vr=[],ds=0,gp=0;function zu(){for(var a=ds,o=gp=ds=0;o<a;){var l=vr[o];vr[o++]=null;var f=vr[o];vr[o++]=null;var g=vr[o];vr[o++]=null;var b=vr[o];if(vr[o++]=null,f!==null&&g!==null){var w=f.pending;w===null?g.next=g:(g.next=w.next,w.next=g),f.pending=g}b!==0&&fx(l,g,b)}}function Gu(a,o,l,f){vr[ds++]=a,vr[ds++]=o,vr[ds++]=l,vr[ds++]=f,gp|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function yp(a,o,l,f){return Gu(a,o,l,f),Hu(a)}function hs(a,o){return Gu(a,null,null,o),Hu(a)}function fx(a,o,l){a.lanes|=l;var f=a.alternate;f!==null&&(f.lanes|=l);for(var g=!1,b=a.return;b!==null;)b.childLanes|=l,f=b.alternate,f!==null&&(f.childLanes|=l),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(g=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,g&&o!==null&&(g=31-vn(l),a=b.hiddenUpdates,f=a[g],f===null?a[g]=[o]:f.push(o),o.lane=l|536870912),b):null}function Hu(a){if(50<fc)throw fc=0,Cm=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var ps={};function jk(a,o,l,f){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(a,o,l,f){return new jk(a,o,l,f)}function vp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ea(a,o){var l=a.alternate;return l===null?(l=Zn(a.tag,o,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=o,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,o=a.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function dx(a,o){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,o=l.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function qu(a,o,l,f,g,b){var w=0;if(f=a,typeof a=="function")vp(a)&&(w=1);else if(typeof a=="string")w=Mj(a,l,xe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case z:return a=Zn(31,l,o,g),a.elementType=z,a.lanes=b,a;case S:return fo(l.children,g,b,o);case A:w=8,g|=24;break;case P:return a=Zn(12,l,o,g|2),a.elementType=P,a.lanes=b,a;case k:return a=Zn(13,l,o,g),a.elementType=k,a.lanes=b,a;case D:return a=Zn(19,l,o,g),a.elementType=D,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case E:case O:w=10;break e;case _:w=9;break e;case j:w=11;break e;case N:w=14;break e;case M:w=16,f=null;break e}w=29,l=Error(r(130,a===null?"null":typeof a,"")),f=null}return o=Zn(w,l,o,g),o.elementType=a,o.type=f,o.lanes=b,o}function fo(a,o,l,f){return a=Zn(7,a,f,o),a.lanes=l,a}function bp(a,o,l){return a=Zn(6,a,null,o),a.lanes=l,a}function xp(a,o,l){return o=Zn(4,a.children!==null?a.children:[],a.key,o),o.lanes=l,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var ms=[],gs=0,Yu=null,Fu=0,br=[],xr=0,ho=null,wa=1,_a="";function po(a,o){ms[gs++]=Fu,ms[gs++]=Yu,Yu=a,Fu=o}function hx(a,o,l){br[xr++]=wa,br[xr++]=_a,br[xr++]=ho,ho=a;var f=wa;a=_a;var g=32-vn(f)-1;f&=~(1<<g),l+=1;var b=32-vn(o)+g;if(30<b){var w=g-g%5;b=(f&(1<<w)-1).toString(32),f>>=w,g-=w,wa=1<<32-vn(o)+g|l<<g|f,_a=b+a}else wa=1<<b|l<<g|f,_a=a}function Sp(a){a.return!==null&&(po(a,1),hx(a,1,0))}function Ap(a){for(;a===Yu;)Yu=ms[--gs],ms[gs]=null,Fu=ms[--gs],ms[gs]=null;for(;a===ho;)ho=br[--xr],br[xr]=null,_a=br[--xr],br[xr]=null,wa=br[--xr],br[xr]=null}var Mn=null,kt=null,et=!1,mo=null,na=!1,Cp=Error(r(519));function go(a){var o=Error(r(418,""));throw Hl(yr(o,a)),Cp}function px(a){var o=a.stateNode,l=a.type,f=a.memoizedProps;switch(o[$t]=a,o[bn]=f,l){case"dialog":He("cancel",o),He("close",o);break;case"iframe":case"object":case"embed":He("load",o);break;case"video":case"audio":for(l=0;l<hc.length;l++)He(hc[l],o);break;case"source":He("error",o);break;case"img":case"image":case"link":He("error",o),He("load",o);break;case"details":He("toggle",o);break;case"input":He("invalid",o),ts(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Wr(o);break;case"select":He("invalid",o);break;case"textarea":He("invalid",o),Qr(o,f.value,f.defaultValue,f.children),Wr(o)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||f.suppressHydrationWarning===!0||k1(o.textContent,l)?(f.popover!=null&&(He("beforetoggle",o),He("toggle",o)),f.onScroll!=null&&He("scroll",o),f.onScrollEnd!=null&&He("scrollend",o),f.onClick!=null&&(o.onclick=_f),o=!0):o=!1,o||go(a)}function mx(a){for(Mn=a.return;Mn;)switch(Mn.tag){case 5:case 13:na=!1;return;case 27:case 3:na=!0;return;default:Mn=Mn.return}}function zl(a){if(a!==Mn)return!1;if(!et)return mx(a),et=!0,!1;var o=a.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||Bm(a.type,a.memoizedProps)),l=!l),l&&kt&&go(a),mx(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(l=a.data,l==="/$"){if(o===0){kt=zr(a.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;a=a.nextSibling}kt=null}}else o===27?(o=kt,Pi(a.type)?(a=Hm,Hm=null,kt=a):kt=o):kt=Mn?zr(a.stateNode.nextSibling):null;return!0}function Gl(){kt=Mn=null,et=!1}function gx(){var a=mo;return a!==null&&(Hn===null?Hn=a:Hn.push.apply(Hn,a),mo=null),a}function Hl(a){mo===null?mo=[a]:mo.push(a)}var Pp=Q(null),yo=null,Oa=null;function ci(a,o,l){ue(Pp,o._currentValue),o._currentValue=l}function Ta(a){a._currentValue=Pp.current,V(Pp)}function Ep(a,o,l){for(;a!==null;){var f=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),a===l)break;a=a.return}}function wp(a,o,l,f){var g=a.child;for(g!==null&&(g.return=a);g!==null;){var b=g.dependencies;if(b!==null){var w=g.child;b=b.firstContext;e:for(;b!==null;){var T=b;b=g;for(var R=0;R<o.length;R++)if(T.context===o[R]){b.lanes|=l,T=b.alternate,T!==null&&(T.lanes|=l),Ep(b.return,l,a),f||(w=null);break e}b=T.next}}else if(g.tag===18){if(w=g.return,w===null)throw Error(r(341));w.lanes|=l,b=w.alternate,b!==null&&(b.lanes|=l),Ep(w,l,a),w=null}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===a){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}}function ql(a,o,l,f){a=null;for(var g=o,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var w=g.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var T=g.type;nt(g.pendingProps.value,w.value)||(a!==null?a.push(T):a=[T])}}else if(g===Se.current){if(w=g.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(a!==null?a.push(bc):a=[bc])}g=g.return}a!==null&&wp(o,a,l,f),o.flags|=262144}function Ku(a){for(a=a.firstContext;a!==null;){if(!nt(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function vo(a){yo=a,Oa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Cn(a){return yx(yo,a)}function Vu(a,o){return yo===null&&vo(a),yx(a,o)}function yx(a,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Oa===null){if(a===null)throw Error(r(308));Oa=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Oa=Oa.next=o;return l}var Nk=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(l,f){a.push(f)}};this.abort=function(){o.aborted=!0,a.forEach(function(l){return l()})}},Mk=e.unstable_scheduleCallback,Rk=e.unstable_NormalPriority,Kt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _p(){return{controller:new Nk,data:new Map,refCount:0}}function Yl(a){a.refCount--,a.refCount===0&&Mk(Rk,function(){a.controller.abort()})}var Fl=null,Op=0,ys=0,vs=null;function Ik(a,o){if(Fl===null){var l=Fl=[];Op=0,ys=Dm(),vs={status:"pending",value:void 0,then:function(f){l.push(f)}}}return Op++,o.then(vx,vx),o}function vx(){if(--Op===0&&Fl!==null){vs!==null&&(vs.status="fulfilled");var a=Fl;Fl=null,ys=0,vs=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function Lk(a,o){var l=[],f={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return a.then(function(){f.status="fulfilled",f.value=o;for(var g=0;g<l.length;g++)(0,l[g])(o)},function(g){for(f.status="rejected",f.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),f}var bx=U.S;U.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&Ik(a,o),bx!==null&&bx(a,o)};var bo=Q(null);function Tp(){var a=bo.current;return a!==null?a:bt.pooledCache}function Xu(a,o){o===null?ue(bo,bo.current):ue(bo,o.pool)}function xx(){var a=Tp();return a===null?null:{parent:Kt._currentValue,pool:a}}var Kl=Error(r(460)),Sx=Error(r(474)),Wu=Error(r(542)),Dp={then:function(){}};function Ax(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Qu(){}function Cx(a,o,l){switch(l=a[l],l===void 0?a.push(o):l!==o&&(o.then(Qu,Qu),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Ex(a),a;default:if(typeof o.status=="string")o.then(Qu,Qu);else{if(a=bt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(f){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=f}},function(f){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Ex(a),a}throw Vl=o,Kl}}var Vl=null;function Px(){if(Vl===null)throw Error(r(459));var a=Vl;return Vl=null,a}function Ex(a){if(a===Kl||a===Wu)throw Error(r(483))}var ui=!1;function kp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jp(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function fi(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function di(a,o,l){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(at&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,o=Hu(a),fx(a,null,l),o}return Gu(a,f,o,l),Hu(a)}function Xl(a,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var f=o.lanes;f&=a.pendingLanes,l|=f,o.lanes=l,Su(a,l)}}function Np(a,o){var l=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?g=b=w:b=b.next=w,l=l.next}while(l!==null);b===null?g=b=o:b=b.next=o}else g=b=o;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=o:a.next=o,l.lastBaseUpdate=o}var Mp=!1;function Wl(){if(Mp){var a=vs;if(a!==null)throw a}}function Ql(a,o,l,f){Mp=!1;var g=a.updateQueue;ui=!1;var b=g.firstBaseUpdate,w=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var R=T,K=R.next;R.next=null,w===null?b=K:w.next=K,w=R;var oe=a.alternate;oe!==null&&(oe=oe.updateQueue,T=oe.lastBaseUpdate,T!==w&&(T===null?oe.firstBaseUpdate=K:T.next=K,oe.lastBaseUpdate=R))}if(b!==null){var fe=g.baseState;w=0,oe=K=R=null,T=b;do{var X=T.lane&-536870913,Z=X!==T.lane;if(Z?(Ke&X)===X:(f&X)===X){X!==0&&X===ys&&(Mp=!0),oe!==null&&(oe=oe.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Me=a,je=T;X=o;var ft=l;switch(je.tag){case 1:if(Me=je.payload,typeof Me=="function"){fe=Me.call(ft,fe,X);break e}fe=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=je.payload,X=typeof Me=="function"?Me.call(ft,fe,X):Me,X==null)break e;fe=p({},fe,X);break e;case 2:ui=!0}}X=T.callback,X!==null&&(a.flags|=64,Z&&(a.flags|=8192),Z=g.callbacks,Z===null?g.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:T.tag,payload:T.payload,callback:T.callback,next:null},oe===null?(K=oe=Z,R=fe):oe=oe.next=Z,w|=X;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;Z=T,T=Z.next,Z.next=null,g.lastBaseUpdate=Z,g.shared.pending=null}}while(!0);oe===null&&(R=fe),g.baseState=R,g.firstBaseUpdate=K,g.lastBaseUpdate=oe,b===null&&(g.shared.lanes=0),xi|=w,a.lanes=w,a.memoizedState=fe}}function wx(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function _x(a,o){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)wx(l[a],o)}var bs=Q(null),Zu=Q(0);function Ox(a,o){a=Ia,ue(Zu,a),ue(bs,o),Ia=a|o.baseLanes}function Rp(){ue(Zu,Ia),ue(bs,bs.current)}function Ip(){Ia=Zu.current,V(bs),V(Zu)}var hi=0,$e=null,ct=null,Ut=null,Ju=!1,xs=!1,xo=!1,ef=0,Zl=0,Ss=null,$k=0;function Mt(){throw Error(r(321))}function Lp(a,o){if(o===null)return!1;for(var l=0;l<o.length&&l<a.length;l++)if(!nt(a[l],o[l]))return!1;return!0}function $p(a,o,l,f,g,b){return hi=b,$e=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,U.H=a===null||a.memoizedState===null?fS:dS,xo=!1,b=l(f,g),xo=!1,xs&&(b=Dx(o,l,f,g)),Tx(a),b}function Tx(a){U.H=sf;var o=ct!==null&&ct.next!==null;if(hi=0,Ut=ct=$e=null,Ju=!1,Zl=0,Ss=null,o)throw Error(r(300));a===null||nn||(a=a.dependencies,a!==null&&Ku(a)&&(nn=!0))}function Dx(a,o,l,f){$e=a;var g=0;do{if(xs&&(Ss=null),Zl=0,xs=!1,25<=g)throw Error(r(301));if(g+=1,Ut=ct=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}U.H=Yk,b=o(l,f)}while(xs);return b}function Bk(){var a=U.H,o=a.useState()[0];return o=typeof o.then=="function"?Jl(o):o,a=a.useState()[0],(ct!==null?ct.memoizedState:null)!==a&&($e.flags|=1024),o}function Bp(){var a=ef!==0;return ef=0,a}function Up(a,o,l){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~l}function zp(a){if(Ju){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Ju=!1}hi=0,Ut=ct=$e=null,xs=!1,Zl=ef=0,Ss=null}function zn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?$e.memoizedState=Ut=a:Ut=Ut.next=a,Ut}function zt(){if(ct===null){var a=$e.alternate;a=a!==null?a.memoizedState:null}else a=ct.next;var o=Ut===null?$e.memoizedState:Ut.next;if(o!==null)Ut=o,ct=a;else{if(a===null)throw $e.alternate===null?Error(r(467)):Error(r(310));ct=a,a={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Ut===null?$e.memoizedState=Ut=a:Ut=Ut.next=a}return Ut}function Gp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jl(a){var o=Zl;return Zl+=1,Ss===null&&(Ss=[]),a=Cx(Ss,a,o),o=$e,(Ut===null?o.memoizedState:Ut.next)===null&&(o=o.alternate,U.H=o===null||o.memoizedState===null?fS:dS),a}function tf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Jl(a);if(a.$$typeof===O)return Cn(a)}throw Error(r(438,String(a)))}function Hp(a){var o=null,l=$e.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var f=$e.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Gp(),$e.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(a),f=0;f<a;f++)l[f]=re;return o.index++,l}function Da(a,o){return typeof o=="function"?o(a):o}function nf(a){var o=zt();return qp(o,ct,a)}function qp(a,o,l){var f=a.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var g=a.baseQueue,b=f.pending;if(b!==null){if(g!==null){var w=g.next;g.next=b.next,b.next=w}o.baseQueue=g=b,f.pending=null}if(b=a.baseState,g===null)a.memoizedState=b;else{o=g.next;var T=w=null,R=null,K=o,oe=!1;do{var fe=K.lane&-536870913;if(fe!==K.lane?(Ke&fe)===fe:(hi&fe)===fe){var X=K.revertLane;if(X===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),fe===ys&&(oe=!0);else if((hi&X)===X){K=K.next,X===ys&&(oe=!0);continue}else fe={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},R===null?(T=R=fe,w=b):R=R.next=fe,$e.lanes|=X,xi|=X;fe=K.action,xo&&l(b,fe),b=K.hasEagerState?K.eagerState:l(b,fe)}else X={lane:fe,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},R===null?(T=R=X,w=b):R=R.next=X,$e.lanes|=fe,xi|=fe;K=K.next}while(K!==null&&K!==o);if(R===null?w=b:R.next=T,!nt(b,a.memoizedState)&&(nn=!0,oe&&(l=vs,l!==null)))throw l;a.memoizedState=b,a.baseState=w,a.baseQueue=R,f.lastRenderedState=b}return g===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function Yp(a){var o=zt(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=l.dispatch,g=l.pending,b=o.memoizedState;if(g!==null){l.pending=null;var w=g=g.next;do b=a(b,w.action),w=w.next;while(w!==g);nt(b,o.memoizedState)||(nn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),l.lastRenderedState=b}return[b,f]}function kx(a,o,l){var f=$e,g=zt(),b=et;if(b){if(l===void 0)throw Error(r(407));l=l()}else l=o();var w=!nt((ct||g).memoizedState,l);w&&(g.memoizedState=l,nn=!0),g=g.queue;var T=Mx.bind(null,f,g,a);if(ec(2048,8,T,[a]),g.getSnapshot!==o||w||Ut!==null&&Ut.memoizedState.tag&1){if(f.flags|=2048,As(9,rf(),Nx.bind(null,f,g,l,o),null),bt===null)throw Error(r(349));b||(hi&124)!==0||jx(f,o,l)}return l}function jx(a,o,l){a.flags|=16384,a={getSnapshot:o,value:l},o=$e.updateQueue,o===null?(o=Gp(),$e.updateQueue=o,o.stores=[a]):(l=o.stores,l===null?o.stores=[a]:l.push(a))}function Nx(a,o,l,f){o.value=l,o.getSnapshot=f,Rx(o)&&Ix(a)}function Mx(a,o,l){return l(function(){Rx(o)&&Ix(a)})}function Rx(a){var o=a.getSnapshot;a=a.value;try{var l=o();return!nt(a,l)}catch{return!0}}function Ix(a){var o=hs(a,2);o!==null&&rr(o,a,2)}function Fp(a){var o=zn();if(typeof a=="function"){var l=a;if(a=l(),xo){Fr(!0);try{l()}finally{Fr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:a},o}function Lx(a,o,l,f){return a.baseState=l,qp(a,ct,typeof f=="function"?f:Da)}function Uk(a,o,l,f,g){if(of(a))throw Error(r(485));if(a=o.action,a!==null){var b={payload:g,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){b.listeners.push(w)}};U.T!==null?l(!0):b.isTransition=!1,f(b),l=o.pending,l===null?(b.next=o.pending=b,$x(o,b)):(b.next=l.next,o.pending=l.next=b)}}function $x(a,o){var l=o.action,f=o.payload,g=a.state;if(o.isTransition){var b=U.T,w={};U.T=w;try{var T=l(g,f),R=U.S;R!==null&&R(w,T),Bx(a,o,T)}catch(K){Kp(a,o,K)}finally{U.T=b}}else try{b=l(g,f),Bx(a,o,b)}catch(K){Kp(a,o,K)}}function Bx(a,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){Ux(a,o,f)},function(f){return Kp(a,o,f)}):Ux(a,o,l)}function Ux(a,o,l){o.status="fulfilled",o.value=l,zx(o),a.state=l,o=a.pending,o!==null&&(l=o.next,l===o?a.pending=null:(l=l.next,o.next=l,$x(a,l)))}function Kp(a,o,l){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=l,zx(o),o=o.next;while(o!==f)}a.action=null}function zx(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Gx(a,o){return o}function Hx(a,o){if(et){var l=bt.formState;if(l!==null){e:{var f=$e;if(et){if(kt){t:{for(var g=kt,b=na;g.nodeType!==8;){if(!b){g=null;break t}if(g=zr(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){kt=zr(g.nextSibling),f=g.data==="F!";break e}}go(f)}f=!1}f&&(o=l[0])}}return l=zn(),l.memoizedState=l.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gx,lastRenderedState:o},l.queue=f,l=lS.bind(null,$e,f),f.dispatch=l,f=Fp(!1),b=Zp.bind(null,$e,!1,f.queue),f=zn(),g={state:o,dispatch:null,action:a,pending:null},f.queue=g,l=Uk.bind(null,$e,g,b,l),g.dispatch=l,f.memoizedState=a,[o,l,!1]}function qx(a){var o=zt();return Yx(o,ct,a)}function Yx(a,o,l){if(o=qp(a,o,Gx)[0],a=nf(Da)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Jl(o)}catch(w){throw w===Kl?Wu:w}else f=o;o=zt();var g=o.queue,b=g.dispatch;return l!==o.memoizedState&&($e.flags|=2048,As(9,rf(),zk.bind(null,g,l),null)),[f,b,a]}function zk(a,o){a.action=o}function Fx(a){var o=zt(),l=ct;if(l!==null)return Yx(o,l,a);zt(),o=o.memoizedState,l=zt();var f=l.queue.dispatch;return l.memoizedState=a,[o,f,!1]}function As(a,o,l,f){return a={tag:a,create:l,deps:f,inst:o,next:null},o=$e.updateQueue,o===null&&(o=Gp(),$e.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=a.next=a:(f=l.next,l.next=a,a.next=f,o.lastEffect=a),a}function rf(){return{destroy:void 0,resource:void 0}}function Kx(){return zt().memoizedState}function af(a,o,l,f){var g=zn();f=f===void 0?null:f,$e.flags|=a,g.memoizedState=As(1|o,rf(),l,f)}function ec(a,o,l,f){var g=zt();f=f===void 0?null:f;var b=g.memoizedState.inst;ct!==null&&f!==null&&Lp(f,ct.memoizedState.deps)?g.memoizedState=As(o,b,l,f):($e.flags|=a,g.memoizedState=As(1|o,b,l,f))}function Vx(a,o){af(8390656,8,a,o)}function Xx(a,o){ec(2048,8,a,o)}function Wx(a,o){return ec(4,2,a,o)}function Qx(a,o){return ec(4,4,a,o)}function Zx(a,o){if(typeof o=="function"){a=a();var l=o(a);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function Jx(a,o,l){l=l!=null?l.concat([a]):null,ec(4,4,Zx.bind(null,o,a),l)}function Vp(){}function eS(a,o){var l=zt();o=o===void 0?null:o;var f=l.memoizedState;return o!==null&&Lp(o,f[1])?f[0]:(l.memoizedState=[a,o],a)}function tS(a,o){var l=zt();o=o===void 0?null:o;var f=l.memoizedState;if(o!==null&&Lp(o,f[1]))return f[0];if(f=a(),xo){Fr(!0);try{a()}finally{Fr(!1)}}return l.memoizedState=[f,o],f}function Xp(a,o,l){return l===void 0||(hi&1073741824)!==0?a.memoizedState=o:(a.memoizedState=l,a=a1(),$e.lanes|=a,xi|=a,l)}function nS(a,o,l,f){return nt(l,o)?l:bs.current!==null?(a=Xp(a,l,f),nt(a,o)||(nn=!0),a):(hi&42)===0?(nn=!0,a.memoizedState=l):(a=a1(),$e.lanes|=a,xi|=a,o)}function rS(a,o,l,f,g){var b=ae.p;ae.p=b!==0&&8>b?b:8;var w=U.T,T={};U.T=T,Zp(a,!1,o,l);try{var R=g(),K=U.S;if(K!==null&&K(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var oe=Lk(R,f);tc(a,o,oe,nr(a))}else tc(a,o,f,nr(a))}catch(fe){tc(a,o,{then:function(){},status:"rejected",reason:fe},nr())}finally{ae.p=b,U.T=w}}function Gk(){}function Wp(a,o,l,f){if(a.tag!==5)throw Error(r(476));var g=aS(a).queue;rS(a,g,o,ge,l===null?Gk:function(){return iS(a),l(f)})}function aS(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:ge},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:l},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function iS(a){var o=aS(a).next.queue;tc(a,o,{},nr())}function Qp(){return Cn(bc)}function oS(){return zt().memoizedState}function sS(){return zt().memoizedState}function Hk(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var l=nr();a=fi(l);var f=di(o,a,l);f!==null&&(rr(f,o,l),Xl(f,o,l)),o={cache:_p()},a.payload=o;return}o=o.return}}function qk(a,o,l){var f=nr();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},of(a)?cS(o,l):(l=yp(a,o,l,f),l!==null&&(rr(l,a,f),uS(l,o,f)))}function lS(a,o,l){var f=nr();tc(a,o,l,f)}function tc(a,o,l,f){var g={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(of(a))cS(o,g);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var w=o.lastRenderedState,T=b(w,l);if(g.hasEagerState=!0,g.eagerState=T,nt(T,w))return Gu(a,o,g,0),bt===null&&zu(),!1}catch{}finally{}if(l=yp(a,o,g,f),l!==null)return rr(l,a,f),uS(l,o,f),!0}return!1}function Zp(a,o,l,f){if(f={lane:2,revertLane:Dm(),action:f,hasEagerState:!1,eagerState:null,next:null},of(a)){if(o)throw Error(r(479))}else o=yp(a,l,f,2),o!==null&&rr(o,a,2)}function of(a){var o=a.alternate;return a===$e||o!==null&&o===$e}function cS(a,o){xs=Ju=!0;var l=a.pending;l===null?o.next=o:(o.next=l.next,l.next=o),a.pending=o}function uS(a,o,l){if((l&4194048)!==0){var f=o.lanes;f&=a.pendingLanes,l|=f,o.lanes=l,Su(a,l)}}var sf={readContext:Cn,use:tf,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt},fS={readContext:Cn,use:tf,useCallback:function(a,o){return zn().memoizedState=[a,o===void 0?null:o],a},useContext:Cn,useEffect:Vx,useImperativeHandle:function(a,o,l){l=l!=null?l.concat([a]):null,af(4194308,4,Zx.bind(null,o,a),l)},useLayoutEffect:function(a,o){return af(4194308,4,a,o)},useInsertionEffect:function(a,o){af(4,2,a,o)},useMemo:function(a,o){var l=zn();o=o===void 0?null:o;var f=a();if(xo){Fr(!0);try{a()}finally{Fr(!1)}}return l.memoizedState=[f,o],f},useReducer:function(a,o,l){var f=zn();if(l!==void 0){var g=l(o);if(xo){Fr(!0);try{l(o)}finally{Fr(!1)}}}else g=o;return f.memoizedState=f.baseState=g,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:g},f.queue=a,a=a.dispatch=qk.bind(null,$e,a),[f.memoizedState,a]},useRef:function(a){var o=zn();return a={current:a},o.memoizedState=a},useState:function(a){a=Fp(a);var o=a.queue,l=lS.bind(null,$e,o);return o.dispatch=l,[a.memoizedState,l]},useDebugValue:Vp,useDeferredValue:function(a,o){var l=zn();return Xp(l,a,o)},useTransition:function(){var a=Fp(!1);return a=rS.bind(null,$e,a.queue,!0,!1),zn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,l){var f=$e,g=zn();if(et){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),bt===null)throw Error(r(349));(Ke&124)!==0||jx(f,o,l)}g.memoizedState=l;var b={value:l,getSnapshot:o};return g.queue=b,Vx(Mx.bind(null,f,b,a),[a]),f.flags|=2048,As(9,rf(),Nx.bind(null,f,b,l,o),null),l},useId:function(){var a=zn(),o=bt.identifierPrefix;if(et){var l=_a,f=wa;l=(f&~(1<<32-vn(f)-1)).toString(32)+l,o=""+o+"R"+l,l=ef++,0<l&&(o+="H"+l.toString(32)),o+=""}else l=$k++,o=""+o+"r"+l.toString(32)+"";return a.memoizedState=o},useHostTransitionStatus:Qp,useFormState:Hx,useActionState:Hx,useOptimistic:function(a){var o=zn();o.memoizedState=o.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Zp.bind(null,$e,!0,l),l.dispatch=o,[a,o]},useMemoCache:Hp,useCacheRefresh:function(){return zn().memoizedState=Hk.bind(null,$e)}},dS={readContext:Cn,use:tf,useCallback:eS,useContext:Cn,useEffect:Xx,useImperativeHandle:Jx,useInsertionEffect:Wx,useLayoutEffect:Qx,useMemo:tS,useReducer:nf,useRef:Kx,useState:function(){return nf(Da)},useDebugValue:Vp,useDeferredValue:function(a,o){var l=zt();return nS(l,ct.memoizedState,a,o)},useTransition:function(){var a=nf(Da)[0],o=zt().memoizedState;return[typeof a=="boolean"?a:Jl(a),o]},useSyncExternalStore:kx,useId:oS,useHostTransitionStatus:Qp,useFormState:qx,useActionState:qx,useOptimistic:function(a,o){var l=zt();return Lx(l,ct,a,o)},useMemoCache:Hp,useCacheRefresh:sS},Yk={readContext:Cn,use:tf,useCallback:eS,useContext:Cn,useEffect:Xx,useImperativeHandle:Jx,useInsertionEffect:Wx,useLayoutEffect:Qx,useMemo:tS,useReducer:Yp,useRef:Kx,useState:function(){return Yp(Da)},useDebugValue:Vp,useDeferredValue:function(a,o){var l=zt();return ct===null?Xp(l,a,o):nS(l,ct.memoizedState,a,o)},useTransition:function(){var a=Yp(Da)[0],o=zt().memoizedState;return[typeof a=="boolean"?a:Jl(a),o]},useSyncExternalStore:kx,useId:oS,useHostTransitionStatus:Qp,useFormState:Fx,useActionState:Fx,useOptimistic:function(a,o){var l=zt();return ct!==null?Lx(l,ct,a,o):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:Hp,useCacheRefresh:sS},Cs=null,nc=0;function lf(a){var o=nc;return nc+=1,Cs===null&&(Cs=[]),Cx(Cs,a,o)}function rc(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function cf(a,o){throw o.$$typeof===m?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function hS(a){var o=a._init;return o(a._payload)}function pS(a){function o(H,B){if(a){var F=H.deletions;F===null?(H.deletions=[B],H.flags|=16):F.push(B)}}function l(H,B){if(!a)return null;for(;B!==null;)o(H,B),B=B.sibling;return null}function f(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function g(H,B){return H=Ea(H,B),H.index=0,H.sibling=null,H}function b(H,B,F){return H.index=F,a?(F=H.alternate,F!==null?(F=F.index,F<B?(H.flags|=67108866,B):F):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function w(H){return a&&H.alternate===null&&(H.flags|=67108866),H}function T(H,B,F,ce){return B===null||B.tag!==6?(B=bp(F,H.mode,ce),B.return=H,B):(B=g(B,F),B.return=H,B)}function R(H,B,F,ce){var we=F.type;return we===S?oe(H,B,F.props.children,ce,F.key):B!==null&&(B.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===M&&hS(we)===B.type)?(B=g(B,F.props),rc(B,F),B.return=H,B):(B=qu(F.type,F.key,F.props,null,H.mode,ce),rc(B,F),B.return=H,B)}function K(H,B,F,ce){return B===null||B.tag!==4||B.stateNode.containerInfo!==F.containerInfo||B.stateNode.implementation!==F.implementation?(B=xp(F,H.mode,ce),B.return=H,B):(B=g(B,F.children||[]),B.return=H,B)}function oe(H,B,F,ce,we){return B===null||B.tag!==7?(B=fo(F,H.mode,ce,we),B.return=H,B):(B=g(B,F),B.return=H,B)}function fe(H,B,F){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=bp(""+B,H.mode,F),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case y:return F=qu(B.type,B.key,B.props,null,H.mode,F),rc(F,B),F.return=H,F;case x:return B=xp(B,H.mode,F),B.return=H,B;case M:var ce=B._init;return B=ce(B._payload),fe(H,B,F)}if(ie(B)||ee(B))return B=fo(B,H.mode,F,null),B.return=H,B;if(typeof B.then=="function")return fe(H,lf(B),F);if(B.$$typeof===O)return fe(H,Vu(H,B),F);cf(H,B)}return null}function X(H,B,F,ce){var we=B!==null?B.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return we!==null?null:T(H,B,""+F,ce);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case y:return F.key===we?R(H,B,F,ce):null;case x:return F.key===we?K(H,B,F,ce):null;case M:return we=F._init,F=we(F._payload),X(H,B,F,ce)}if(ie(F)||ee(F))return we!==null?null:oe(H,B,F,ce,null);if(typeof F.then=="function")return X(H,B,lf(F),ce);if(F.$$typeof===O)return X(H,B,Vu(H,F),ce);cf(H,F)}return null}function Z(H,B,F,ce,we){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return H=H.get(F)||null,T(B,H,""+ce,we);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case y:return H=H.get(ce.key===null?F:ce.key)||null,R(B,H,ce,we);case x:return H=H.get(ce.key===null?F:ce.key)||null,K(B,H,ce,we);case M:var Ue=ce._init;return ce=Ue(ce._payload),Z(H,B,F,ce,we)}if(ie(ce)||ee(ce))return H=H.get(F)||null,oe(B,H,ce,we,null);if(typeof ce.then=="function")return Z(H,B,F,lf(ce),we);if(ce.$$typeof===O)return Z(H,B,F,Vu(B,ce),we);cf(B,ce)}return null}function Me(H,B,F,ce){for(var we=null,Ue=null,De=B,Ne=B=0,an=null;De!==null&&Ne<F.length;Ne++){De.index>Ne?(an=De,De=null):an=De.sibling;var We=X(H,De,F[Ne],ce);if(We===null){De===null&&(De=an);break}a&&De&&We.alternate===null&&o(H,De),B=b(We,B,Ne),Ue===null?we=We:Ue.sibling=We,Ue=We,De=an}if(Ne===F.length)return l(H,De),et&&po(H,Ne),we;if(De===null){for(;Ne<F.length;Ne++)De=fe(H,F[Ne],ce),De!==null&&(B=b(De,B,Ne),Ue===null?we=De:Ue.sibling=De,Ue=De);return et&&po(H,Ne),we}for(De=f(De);Ne<F.length;Ne++)an=Z(De,H,Ne,F[Ne],ce),an!==null&&(a&&an.alternate!==null&&De.delete(an.key===null?Ne:an.key),B=b(an,B,Ne),Ue===null?we=an:Ue.sibling=an,Ue=an);return a&&De.forEach(function(Ti){return o(H,Ti)}),et&&po(H,Ne),we}function je(H,B,F,ce){if(F==null)throw Error(r(151));for(var we=null,Ue=null,De=B,Ne=B=0,an=null,We=F.next();De!==null&&!We.done;Ne++,We=F.next()){De.index>Ne?(an=De,De=null):an=De.sibling;var Ti=X(H,De,We.value,ce);if(Ti===null){De===null&&(De=an);break}a&&De&&Ti.alternate===null&&o(H,De),B=b(Ti,B,Ne),Ue===null?we=Ti:Ue.sibling=Ti,Ue=Ti,De=an}if(We.done)return l(H,De),et&&po(H,Ne),we;if(De===null){for(;!We.done;Ne++,We=F.next())We=fe(H,We.value,ce),We!==null&&(B=b(We,B,Ne),Ue===null?we=We:Ue.sibling=We,Ue=We);return et&&po(H,Ne),we}for(De=f(De);!We.done;Ne++,We=F.next())We=Z(De,H,Ne,We.value,ce),We!==null&&(a&&We.alternate!==null&&De.delete(We.key===null?Ne:We.key),B=b(We,B,Ne),Ue===null?we=We:Ue.sibling=We,Ue=We);return a&&De.forEach(function(Fj){return o(H,Fj)}),et&&po(H,Ne),we}function ft(H,B,F,ce){if(typeof F=="object"&&F!==null&&F.type===S&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case y:e:{for(var we=F.key;B!==null;){if(B.key===we){if(we=F.type,we===S){if(B.tag===7){l(H,B.sibling),ce=g(B,F.props.children),ce.return=H,H=ce;break e}}else if(B.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===M&&hS(we)===B.type){l(H,B.sibling),ce=g(B,F.props),rc(ce,F),ce.return=H,H=ce;break e}l(H,B);break}else o(H,B);B=B.sibling}F.type===S?(ce=fo(F.props.children,H.mode,ce,F.key),ce.return=H,H=ce):(ce=qu(F.type,F.key,F.props,null,H.mode,ce),rc(ce,F),ce.return=H,H=ce)}return w(H);case x:e:{for(we=F.key;B!==null;){if(B.key===we)if(B.tag===4&&B.stateNode.containerInfo===F.containerInfo&&B.stateNode.implementation===F.implementation){l(H,B.sibling),ce=g(B,F.children||[]),ce.return=H,H=ce;break e}else{l(H,B);break}else o(H,B);B=B.sibling}ce=xp(F,H.mode,ce),ce.return=H,H=ce}return w(H);case M:return we=F._init,F=we(F._payload),ft(H,B,F,ce)}if(ie(F))return Me(H,B,F,ce);if(ee(F)){if(we=ee(F),typeof we!="function")throw Error(r(150));return F=we.call(F),je(H,B,F,ce)}if(typeof F.then=="function")return ft(H,B,lf(F),ce);if(F.$$typeof===O)return ft(H,B,Vu(H,F),ce);cf(H,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,B!==null&&B.tag===6?(l(H,B.sibling),ce=g(B,F),ce.return=H,H=ce):(l(H,B),ce=bp(F,H.mode,ce),ce.return=H,H=ce),w(H)):l(H,B)}return function(H,B,F,ce){try{nc=0;var we=ft(H,B,F,ce);return Cs=null,we}catch(De){if(De===Kl||De===Wu)throw De;var Ue=Zn(29,De,null,H.mode);return Ue.lanes=ce,Ue.return=H,Ue}finally{}}}var Ps=pS(!0),mS=pS(!1),Sr=Q(null),ra=null;function pi(a){var o=a.alternate;ue(Vt,Vt.current&1),ue(Sr,a),ra===null&&(o===null||bs.current!==null||o.memoizedState!==null)&&(ra=a)}function gS(a){if(a.tag===22){if(ue(Vt,Vt.current),ue(Sr,a),ra===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(ra=a)}}else mi()}function mi(){ue(Vt,Vt.current),ue(Sr,Sr.current)}function ka(a){V(Sr),ra===a&&(ra=null),V(Vt)}var Vt=Q(0);function uf(a){for(var o=a;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Gm(l)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Jp(a,o,l,f){o=a.memoizedState,l=l(f,o),l=l==null?o:p({},o,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var em={enqueueSetState:function(a,o,l){a=a._reactInternals;var f=nr(),g=fi(f);g.payload=o,l!=null&&(g.callback=l),o=di(a,g,f),o!==null&&(rr(o,a,f),Xl(o,a,f))},enqueueReplaceState:function(a,o,l){a=a._reactInternals;var f=nr(),g=fi(f);g.tag=1,g.payload=o,l!=null&&(g.callback=l),o=di(a,g,f),o!==null&&(rr(o,a,f),Xl(o,a,f))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var l=nr(),f=fi(l);f.tag=2,o!=null&&(f.callback=o),o=di(a,f,l),o!==null&&(rr(o,a,l),Xl(o,a,l))}};function yS(a,o,l,f,g,b,w){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,b,w):o.prototype&&o.prototype.isPureReactComponent?!rt(l,f)||!rt(g,b):!0}function vS(a,o,l,f){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,f),o.state!==a&&em.enqueueReplaceState(o,o.state,null)}function So(a,o){var l=o;if("ref"in o){l={};for(var f in o)f!=="ref"&&(l[f]=o[f])}if(a=a.defaultProps){l===o&&(l=p({},l));for(var g in a)l[g]===void 0&&(l[g]=a[g])}return l}var ff=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function bS(a){ff(a)}function xS(a){console.error(a)}function SS(a){ff(a)}function df(a,o){try{var l=a.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function AS(a,o,l){try{var f=a.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function tm(a,o,l){return l=fi(l),l.tag=3,l.payload={element:null},l.callback=function(){df(a,o)},l}function CS(a){return a=fi(a),a.tag=3,a}function PS(a,o,l,f){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var b=f.value;a.payload=function(){return g(b)},a.callback=function(){AS(o,l,f)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(a.callback=function(){AS(o,l,f),typeof g!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var T=f.stack;this.componentDidCatch(f.value,{componentStack:T!==null?T:""})})}function Fk(a,o,l,f,g){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=l.alternate,o!==null&&ql(o,l,g,!0),l=Sr.current,l!==null){switch(l.tag){case 13:return ra===null?Em():l.alternate===null&&jt===0&&(jt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,f===Dp?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([f]):o.add(f),_m(a,f,g)),!1;case 22:return l.flags|=65536,f===Dp?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([f]):l.add(f)),_m(a,f,g)),!1}throw Error(r(435,l.tag))}return _m(a,f,g),Em(),!1}if(et)return o=Sr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,f!==Cp&&(a=Error(r(422),{cause:f}),Hl(yr(a,l)))):(f!==Cp&&(o=Error(r(423),{cause:f}),Hl(yr(o,l))),a=a.current.alternate,a.flags|=65536,g&=-g,a.lanes|=g,f=yr(f,l),g=tm(a.stateNode,f,g),Np(a,g),jt!==4&&(jt=2)),!1;var b=Error(r(520),{cause:f});if(b=yr(b,l),uc===null?uc=[b]:uc.push(b),jt!==4&&(jt=2),o===null)return!0;f=yr(f,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,a=g&-g,l.lanes|=a,a=tm(l.stateNode,f,a),Np(l,a),!1;case 1:if(o=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Si===null||!Si.has(b))))return l.flags|=65536,g&=-g,l.lanes|=g,g=CS(g),PS(g,a,l,f),Np(l,g),!1}l=l.return}while(l!==null);return!1}var ES=Error(r(461)),nn=!1;function dn(a,o,l,f){o.child=a===null?mS(o,null,l,f):Ps(o,a.child,l,f)}function wS(a,o,l,f,g){l=l.render;var b=o.ref;if("ref"in f){var w={};for(var T in f)T!=="ref"&&(w[T]=f[T])}else w=f;return vo(o),f=$p(a,o,l,w,b,g),T=Bp(),a!==null&&!nn?(Up(a,o,g),ja(a,o,g)):(et&&T&&Sp(o),o.flags|=1,dn(a,o,f,g),o.child)}function _S(a,o,l,f,g){if(a===null){var b=l.type;return typeof b=="function"&&!vp(b)&&b.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=b,OS(a,o,b,f,g)):(a=qu(l.type,null,f,o,o.mode,g),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!cm(a,g)){var w=b.memoizedProps;if(l=l.compare,l=l!==null?l:rt,l(w,f)&&a.ref===o.ref)return ja(a,o,g)}return o.flags|=1,a=Ea(b,f),a.ref=o.ref,a.return=o,o.child=a}function OS(a,o,l,f,g){if(a!==null){var b=a.memoizedProps;if(rt(b,f)&&a.ref===o.ref)if(nn=!1,o.pendingProps=f=b,cm(a,g))(a.flags&131072)!==0&&(nn=!0);else return o.lanes=a.lanes,ja(a,o,g)}return nm(a,o,l,f,g)}function TS(a,o,l){var f=o.pendingProps,g=f.children,b=a!==null?a.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=b!==null?b.baseLanes|l:l,a!==null){for(g=o.child=a.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;o.childLanes=b&~f}else o.childLanes=0,o.child=null;return DS(a,o,f,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Xu(o,b!==null?b.cachePool:null),b!==null?Ox(o,b):Rp(),gS(o);else return o.lanes=o.childLanes=536870912,DS(a,o,b!==null?b.baseLanes|l:l,l)}else b!==null?(Xu(o,b.cachePool),Ox(o,b),mi(),o.memoizedState=null):(a!==null&&Xu(o,null),Rp(),mi());return dn(a,o,g,l),o.child}function DS(a,o,l,f){var g=Tp();return g=g===null?null:{parent:Kt._currentValue,pool:g},o.memoizedState={baseLanes:l,cachePool:g},a!==null&&Xu(o,null),Rp(),gS(o),a!==null&&ql(a,o,f,!0),null}function hf(a,o){var l=o.ref;if(l===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(a===null||a.ref!==l)&&(o.flags|=4194816)}}function nm(a,o,l,f,g){return vo(o),l=$p(a,o,l,f,void 0,g),f=Bp(),a!==null&&!nn?(Up(a,o,g),ja(a,o,g)):(et&&f&&Sp(o),o.flags|=1,dn(a,o,l,g),o.child)}function kS(a,o,l,f,g,b){return vo(o),o.updateQueue=null,l=Dx(o,f,l,g),Tx(a),f=Bp(),a!==null&&!nn?(Up(a,o,b),ja(a,o,b)):(et&&f&&Sp(o),o.flags|=1,dn(a,o,l,b),o.child)}function jS(a,o,l,f,g){if(vo(o),o.stateNode===null){var b=ps,w=l.contextType;typeof w=="object"&&w!==null&&(b=Cn(w)),b=new l(f,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=em,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=f,b.state=o.memoizedState,b.refs={},kp(o),w=l.contextType,b.context=typeof w=="object"&&w!==null?Cn(w):ps,b.state=o.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Jp(o,l,w,f),b.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(w=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),w!==b.state&&em.enqueueReplaceState(b,b.state,null),Ql(o,f,b,g),Wl(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(a===null){b=o.stateNode;var T=o.memoizedProps,R=So(l,T);b.props=R;var K=b.context,oe=l.contextType;w=ps,typeof oe=="object"&&oe!==null&&(w=Cn(oe));var fe=l.getDerivedStateFromProps;oe=typeof fe=="function"||typeof b.getSnapshotBeforeUpdate=="function",T=o.pendingProps!==T,oe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T||K!==w)&&vS(o,b,f,w),ui=!1;var X=o.memoizedState;b.state=X,Ql(o,f,b,g),Wl(),K=o.memoizedState,T||X!==K||ui?(typeof fe=="function"&&(Jp(o,l,fe,f),K=o.memoizedState),(R=ui||yS(o,l,R,f,X,K,w))?(oe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=K),b.props=f,b.state=K,b.context=w,f=R):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{b=o.stateNode,jp(a,o),w=o.memoizedProps,oe=So(l,w),b.props=oe,fe=o.pendingProps,X=b.context,K=l.contextType,R=ps,typeof K=="object"&&K!==null&&(R=Cn(K)),T=l.getDerivedStateFromProps,(K=typeof T=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(w!==fe||X!==R)&&vS(o,b,f,R),ui=!1,X=o.memoizedState,b.state=X,Ql(o,f,b,g),Wl();var Z=o.memoizedState;w!==fe||X!==Z||ui||a!==null&&a.dependencies!==null&&Ku(a.dependencies)?(typeof T=="function"&&(Jp(o,l,T,f),Z=o.memoizedState),(oe=ui||yS(o,l,oe,f,X,Z,R)||a!==null&&a.dependencies!==null&&Ku(a.dependencies))?(K||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,Z,R),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,Z,R)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||w===a.memoizedProps&&X===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===a.memoizedProps&&X===a.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=Z),b.props=f,b.state=Z,b.context=R,f=oe):(typeof b.componentDidUpdate!="function"||w===a.memoizedProps&&X===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===a.memoizedProps&&X===a.memoizedState||(o.flags|=1024),f=!1)}return b=f,hf(a,o),f=(o.flags&128)!==0,b||f?(b=o.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&f?(o.child=Ps(o,a.child,null,g),o.child=Ps(o,null,l,g)):dn(a,o,l,g),o.memoizedState=b.state,a=o.child):a=ja(a,o,g),a}function NS(a,o,l,f){return Gl(),o.flags|=256,dn(a,o,l,f),o.child}var rm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function am(a){return{baseLanes:a,cachePool:xx()}}function im(a,o,l){return a=a!==null?a.childLanes&~l:0,o&&(a|=Ar),a}function MS(a,o,l){var f=o.pendingProps,g=!1,b=(o.flags&128)!==0,w;if((w=b)||(w=a!==null&&a.memoizedState===null?!1:(Vt.current&2)!==0),w&&(g=!0,o.flags&=-129),w=(o.flags&32)!==0,o.flags&=-33,a===null){if(et){if(g?pi(o):mi(),et){var T=kt,R;if(R=T){e:{for(R=T,T=na;R.nodeType!==8;){if(!T){T=null;break e}if(R=zr(R.nextSibling),R===null){T=null;break e}}T=R}T!==null?(o.memoizedState={dehydrated:T,treeContext:ho!==null?{id:wa,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},R=Zn(18,null,null,0),R.stateNode=T,R.return=o,o.child=R,Mn=o,kt=null,R=!0):R=!1}R||go(o)}if(T=o.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Gm(T)?o.lanes=32:o.lanes=536870912,null;ka(o)}return T=f.children,f=f.fallback,g?(mi(),g=o.mode,T=pf({mode:"hidden",children:T},g),f=fo(f,g,l,null),T.return=o,f.return=o,T.sibling=f,o.child=T,g=o.child,g.memoizedState=am(l),g.childLanes=im(a,w,l),o.memoizedState=rm,f):(pi(o),om(o,T))}if(R=a.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(b)o.flags&256?(pi(o),o.flags&=-257,o=sm(a,o,l)):o.memoizedState!==null?(mi(),o.child=a.child,o.flags|=128,o=null):(mi(),g=f.fallback,T=o.mode,f=pf({mode:"visible",children:f.children},T),g=fo(g,T,l,null),g.flags|=2,f.return=o,g.return=o,f.sibling=g,o.child=f,Ps(o,a.child,null,l),f=o.child,f.memoizedState=am(l),f.childLanes=im(a,w,l),o.memoizedState=rm,o=g);else if(pi(o),Gm(T)){if(w=T.nextSibling&&T.nextSibling.dataset,w)var K=w.dgst;w=K,f=Error(r(419)),f.stack="",f.digest=w,Hl({value:f,source:null,stack:null}),o=sm(a,o,l)}else if(nn||ql(a,o,l,!1),w=(l&a.childLanes)!==0,nn||w){if(w=bt,w!==null&&(f=l&-l,f=(f&42)!==0?1:Qo(f),f=(f&(w.suspendedLanes|l))!==0?0:f,f!==0&&f!==R.retryLane))throw R.retryLane=f,hs(a,f),rr(w,a,f),ES;T.data==="$?"||Em(),o=sm(a,o,l)}else T.data==="$?"?(o.flags|=192,o.child=a.child,o=null):(a=R.treeContext,kt=zr(T.nextSibling),Mn=o,et=!0,mo=null,na=!1,a!==null&&(br[xr++]=wa,br[xr++]=_a,br[xr++]=ho,wa=a.id,_a=a.overflow,ho=o),o=om(o,f.children),o.flags|=4096);return o}return g?(mi(),g=f.fallback,T=o.mode,R=a.child,K=R.sibling,f=Ea(R,{mode:"hidden",children:f.children}),f.subtreeFlags=R.subtreeFlags&65011712,K!==null?g=Ea(K,g):(g=fo(g,T,l,null),g.flags|=2),g.return=o,f.return=o,f.sibling=g,o.child=f,f=g,g=o.child,T=a.child.memoizedState,T===null?T=am(l):(R=T.cachePool,R!==null?(K=Kt._currentValue,R=R.parent!==K?{parent:K,pool:K}:R):R=xx(),T={baseLanes:T.baseLanes|l,cachePool:R}),g.memoizedState=T,g.childLanes=im(a,w,l),o.memoizedState=rm,f):(pi(o),l=a.child,a=l.sibling,l=Ea(l,{mode:"visible",children:f.children}),l.return=o,l.sibling=null,a!==null&&(w=o.deletions,w===null?(o.deletions=[a],o.flags|=16):w.push(a)),o.child=l,o.memoizedState=null,l)}function om(a,o){return o=pf({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function pf(a,o){return a=Zn(22,a,null,o),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function sm(a,o,l){return Ps(o,a.child,null,l),a=om(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function RS(a,o,l){a.lanes|=o;var f=a.alternate;f!==null&&(f.lanes|=o),Ep(a.return,o,l)}function lm(a,o,l,f,g){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=l,b.tailMode=g)}function IS(a,o,l){var f=o.pendingProps,g=f.revealOrder,b=f.tail;if(dn(a,o,f.children,l),f=Vt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&RS(a,l,o);else if(a.tag===19)RS(a,l,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}f&=1}switch(ue(Vt,f),g){case"forwards":for(l=o.child,g=null;l!==null;)a=l.alternate,a!==null&&uf(a)===null&&(g=l),l=l.sibling;l=g,l===null?(g=o.child,o.child=null):(g=l.sibling,l.sibling=null),lm(o,!1,g,l,b);break;case"backwards":for(l=null,g=o.child,o.child=null;g!==null;){if(a=g.alternate,a!==null&&uf(a)===null){o.child=g;break}a=g.sibling,g.sibling=l,l=g,g=a}lm(o,!0,l,null,b);break;case"together":lm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ja(a,o,l){if(a!==null&&(o.dependencies=a.dependencies),xi|=o.lanes,(l&o.childLanes)===0)if(a!==null){if(ql(a,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,l=Ea(a,a.pendingProps),o.child=l,l.return=o;a.sibling!==null;)a=a.sibling,l=l.sibling=Ea(a,a.pendingProps),l.return=o;l.sibling=null}return o.child}function cm(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Ku(a)))}function Kk(a,o,l){switch(o.tag){case 3:ye(o,o.stateNode.containerInfo),ci(o,Kt,a.memoizedState.cache),Gl();break;case 27:case 5:te(o);break;case 4:ye(o,o.stateNode.containerInfo);break;case 10:ci(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(pi(o),o.flags|=128,null):(l&o.child.childLanes)!==0?MS(a,o,l):(pi(o),a=ja(a,o,l),a!==null?a.sibling:null);pi(o);break;case 19:var g=(a.flags&128)!==0;if(f=(l&o.childLanes)!==0,f||(ql(a,o,l,!1),f=(l&o.childLanes)!==0),g){if(f)return IS(a,o,l);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ue(Vt,Vt.current),f)break;return null;case 22:case 23:return o.lanes=0,TS(a,o,l);case 24:ci(o,Kt,a.memoizedState.cache)}return ja(a,o,l)}function LS(a,o,l){if(a!==null)if(a.memoizedProps!==o.pendingProps)nn=!0;else{if(!cm(a,l)&&(o.flags&128)===0)return nn=!1,Kk(a,o,l);nn=(a.flags&131072)!==0}else nn=!1,et&&(o.flags&1048576)!==0&&hx(o,Fu,o.index);switch(o.lanes=0,o.tag){case 16:e:{a=o.pendingProps;var f=o.elementType,g=f._init;if(f=g(f._payload),o.type=f,typeof f=="function")vp(f)?(a=So(f,a),o.tag=1,o=jS(null,o,f,a,l)):(o.tag=0,o=nm(null,o,f,a,l));else{if(f!=null){if(g=f.$$typeof,g===j){o.tag=11,o=wS(null,o,f,a,l);break e}else if(g===N){o.tag=14,o=_S(null,o,f,a,l);break e}}throw o=de(f)||f,Error(r(306,o,""))}}return o;case 0:return nm(a,o,o.type,o.pendingProps,l);case 1:return f=o.type,g=So(f,o.pendingProps),jS(a,o,f,g,l);case 3:e:{if(ye(o,o.stateNode.containerInfo),a===null)throw Error(r(387));f=o.pendingProps;var b=o.memoizedState;g=b.element,jp(a,o),Ql(o,f,null,l);var w=o.memoizedState;if(f=w.cache,ci(o,Kt,f),f!==b.cache&&wp(o,[Kt],l,!0),Wl(),f=w.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:w.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=NS(a,o,f,l);break e}else if(f!==g){g=yr(Error(r(424)),o),Hl(g),o=NS(a,o,f,l);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(kt=zr(a.firstChild),Mn=o,et=!0,mo=null,na=!0,l=mS(o,null,f,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Gl(),f===g){o=ja(a,o,l);break e}dn(a,o,f,l)}o=o.child}return o;case 26:return hf(a,o),a===null?(l=z1(o.type,null,o.pendingProps,null))?o.memoizedState=l:et||(l=o.type,a=o.pendingProps,f=Of(se.current).createElement(l),f[$t]=o,f[bn]=a,pn(f,l,a),Nt(f),o.stateNode=f):o.memoizedState=z1(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return te(o),a===null&&et&&(f=o.stateNode=$1(o.type,o.pendingProps,se.current),Mn=o,na=!0,g=kt,Pi(o.type)?(Hm=g,kt=zr(f.firstChild)):kt=g),dn(a,o,o.pendingProps.children,l),hf(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&et&&((g=f=kt)&&(f=Sj(f,o.type,o.pendingProps,na),f!==null?(o.stateNode=f,Mn=o,kt=zr(f.firstChild),na=!1,g=!0):g=!1),g||go(o)),te(o),g=o.type,b=o.pendingProps,w=a!==null?a.memoizedProps:null,f=b.children,Bm(g,b)?f=null:w!==null&&Bm(g,w)&&(o.flags|=32),o.memoizedState!==null&&(g=$p(a,o,Bk,null,null,l),bc._currentValue=g),hf(a,o),dn(a,o,f,l),o.child;case 6:return a===null&&et&&((a=l=kt)&&(l=Aj(l,o.pendingProps,na),l!==null?(o.stateNode=l,Mn=o,kt=null,a=!0):a=!1),a||go(o)),null;case 13:return MS(a,o,l);case 4:return ye(o,o.stateNode.containerInfo),f=o.pendingProps,a===null?o.child=Ps(o,null,f,l):dn(a,o,f,l),o.child;case 11:return wS(a,o,o.type,o.pendingProps,l);case 7:return dn(a,o,o.pendingProps,l),o.child;case 8:return dn(a,o,o.pendingProps.children,l),o.child;case 12:return dn(a,o,o.pendingProps.children,l),o.child;case 10:return f=o.pendingProps,ci(o,o.type,f.value),dn(a,o,f.children,l),o.child;case 9:return g=o.type._context,f=o.pendingProps.children,vo(o),g=Cn(g),f=f(g),o.flags|=1,dn(a,o,f,l),o.child;case 14:return _S(a,o,o.type,o.pendingProps,l);case 15:return OS(a,o,o.type,o.pendingProps,l);case 19:return IS(a,o,l);case 31:return f=o.pendingProps,l=o.mode,f={mode:f.mode,children:f.children},a===null?(l=pf(f,l),l.ref=o.ref,o.child=l,l.return=o,o=l):(l=Ea(a.child,f),l.ref=o.ref,o.child=l,l.return=o,o=l),o;case 22:return TS(a,o,l);case 24:return vo(o),f=Cn(Kt),a===null?(g=Tp(),g===null&&(g=bt,b=_p(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=l),g=b),o.memoizedState={parent:f,cache:g},kp(o),ci(o,Kt,g)):((a.lanes&l)!==0&&(jp(a,o),Ql(o,null,null,l),Wl()),g=a.memoizedState,b=o.memoizedState,g.parent!==f?(g={parent:f,cache:f},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),ci(o,Kt,f)):(f=b.cache,ci(o,Kt,f),f!==g.cache&&wp(o,[Kt],l,!0))),dn(a,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Na(a){a.flags|=4}function $S(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!F1(o)){if(o=Sr.current,o!==null&&((Ke&4194048)===Ke?ra!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||o!==ra))throw Vl=Dp,Sx;a.flags|=8192}}function mf(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?xl():536870912,a.lanes|=o,Os|=o)}function ac(a,o){if(!et)switch(a.tailMode){case"hidden":o=a.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function Ot(a){var o=a.alternate!==null&&a.alternate.child===a.child,l=0,f=0;if(o)for(var g=a.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=f,a.childLanes=l,o}function Vk(a,o,l){var f=o.pendingProps;switch(Ap(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(o),null;case 1:return Ot(o),null;case 3:return l=o.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Ta(Kt),le(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(zl(o)?Na(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,gx())),Ot(o),null;case 26:return l=o.memoizedState,a===null?(Na(o),l!==null?(Ot(o),$S(o,l)):(Ot(o),o.flags&=-16777217)):l?l!==a.memoizedState?(Na(o),Ot(o),$S(o,l)):(Ot(o),o.flags&=-16777217):(a.memoizedProps!==f&&Na(o),Ot(o),o.flags&=-16777217),null;case 27:be(o),l=se.current;var g=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==f&&Na(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return Ot(o),null}a=xe.current,zl(o)?px(o):(a=$1(g,f,l),o.stateNode=a,Na(o))}return Ot(o),null;case 5:if(be(o),l=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==f&&Na(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return Ot(o),null}if(a=xe.current,zl(o))px(o);else{switch(g=Of(se.current),a){case 1:a=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:a=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":a=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":a=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":a=g.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?a.multiple=!0:f.size&&(a.size=f.size);break;default:a=typeof f.is=="string"?g.createElement(l,{is:f.is}):g.createElement(l)}}a[$t]=o,a[bn]=f;e:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break e;for(;g.sibling===null;){if(g.return===null||g.return===o)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=a;e:switch(pn(a,l,f),l){case"button":case"input":case"select":case"textarea":a=!!f.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Na(o)}}return Ot(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==f&&Na(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(r(166));if(a=se.current,zl(o)){if(a=o.stateNode,l=o.memoizedProps,f=null,g=Mn,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}a[$t]=o,a=!!(a.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||k1(a.nodeValue,l)),a||go(o)}else a=Of(a).createTextNode(f),a[$t]=o,o.stateNode=a}return Ot(o),null;case 13:if(f=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(g=zl(o),f!==null&&f.dehydrated!==null){if(a===null){if(!g)throw Error(r(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[$t]=o}else Gl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ot(o),g=!1}else g=gx(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(ka(o),o):(ka(o),null)}if(ka(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=f!==null,a=a!==null&&a.memoizedState!==null,l){f=o.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==g&&(f.flags|=2048)}return l!==a&&l&&(o.child.flags|=8192),mf(o,o.updateQueue),Ot(o),null;case 4:return le(),a===null&&Mm(o.stateNode.containerInfo),Ot(o),null;case 10:return Ta(o.type),Ot(o),null;case 19:if(V(Vt),g=o.memoizedState,g===null)return Ot(o),null;if(f=(o.flags&128)!==0,b=g.rendering,b===null)if(f)ac(g,!1);else{if(jt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=uf(a),b!==null){for(o.flags|=128,ac(g,!1),a=b.updateQueue,o.updateQueue=a,mf(o,a),o.subtreeFlags=0,a=l,l=o.child;l!==null;)dx(l,a),l=l.sibling;return ue(Vt,Vt.current&1|2),o.child}a=a.sibling}g.tail!==null&&Be()>vf&&(o.flags|=128,f=!0,ac(g,!1),o.lanes=4194304)}else{if(!f)if(a=uf(b),a!==null){if(o.flags|=128,f=!0,a=a.updateQueue,o.updateQueue=a,mf(o,a),ac(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!et)return Ot(o),null}else 2*Be()-g.renderingStartTime>vf&&l!==536870912&&(o.flags|=128,f=!0,ac(g,!1),o.lanes=4194304);g.isBackwards?(b.sibling=o.child,o.child=b):(a=g.last,a!==null?a.sibling=b:o.child=b,g.last=b)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Be(),o.sibling=null,a=Vt.current,ue(Vt,f?a&1|2:a&1),o):(Ot(o),null);case 22:case 23:return ka(o),Ip(),f=o.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(l&536870912)!==0&&(o.flags&128)===0&&(Ot(o),o.subtreeFlags&6&&(o.flags|=8192)):Ot(o),l=o.updateQueue,l!==null&&mf(o,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==l&&(o.flags|=2048),a!==null&&V(bo),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Ta(Kt),Ot(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function Xk(a,o){switch(Ap(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Ta(Kt),le(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return be(o),null;case 13:if(ka(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Gl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return V(Vt),null;case 4:return le(),null;case 10:return Ta(o.type),null;case 22:case 23:return ka(o),Ip(),a!==null&&V(bo),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Ta(Kt),null;case 25:return null;default:return null}}function BS(a,o){switch(Ap(o),o.tag){case 3:Ta(Kt),le();break;case 26:case 27:case 5:be(o);break;case 4:le();break;case 13:ka(o);break;case 19:V(Vt);break;case 10:Ta(o.type);break;case 22:case 23:ka(o),Ip(),a!==null&&V(bo);break;case 24:Ta(Kt)}}function ic(a,o){try{var l=o.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&a)===a){f=void 0;var b=l.create,w=l.inst;f=b(),w.destroy=f}l=l.next}while(l!==g)}}catch(T){gt(o,o.return,T)}}function gi(a,o,l){try{var f=o.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var b=g.next;f=b;do{if((f.tag&a)===a){var w=f.inst,T=w.destroy;if(T!==void 0){w.destroy=void 0,g=o;var R=l,K=T;try{K()}catch(oe){gt(g,R,oe)}}}f=f.next}while(f!==b)}}catch(oe){gt(o,o.return,oe)}}function US(a){var o=a.updateQueue;if(o!==null){var l=a.stateNode;try{_x(o,l)}catch(f){gt(a,a.return,f)}}}function zS(a,o,l){l.props=So(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(f){gt(a,o,f)}}function oc(a,o){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof l=="function"?a.refCleanup=l(f):l.current=f}}catch(g){gt(a,o,g)}}function aa(a,o){var l=a.ref,f=a.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(g){gt(a,o,g)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){gt(a,o,g)}else l.current=null}function GS(a){var o=a.type,l=a.memoizedProps,f=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(g){gt(a,a.return,g)}}function um(a,o,l){try{var f=a.stateNode;gj(f,a.type,l,o),f[bn]=o}catch(g){gt(a,a.return,g)}}function HS(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Pi(a.type)||a.tag===4}function fm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||HS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Pi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function dm(a,o,l){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(a),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=_f));else if(f!==4&&(f===27&&Pi(a.type)&&(l=a.stateNode,o=null),a=a.child,a!==null))for(dm(a,o,l),a=a.sibling;a!==null;)dm(a,o,l),a=a.sibling}function gf(a,o,l){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?l.insertBefore(a,o):l.appendChild(a);else if(f!==4&&(f===27&&Pi(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(gf(a,o,l),a=a.sibling;a!==null;)gf(a,o,l),a=a.sibling}function qS(a){var o=a.stateNode,l=a.memoizedProps;try{for(var f=a.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);pn(o,f,l),o[$t]=a,o[bn]=l}catch(b){gt(a,a.return,b)}}var Ma=!1,Rt=!1,hm=!1,YS=typeof WeakSet=="function"?WeakSet:Set,rn=null;function Wk(a,o){if(a=a.containerInfo,Lm=Mf,a=Uu(a),cs(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var w=0,T=-1,R=-1,K=0,oe=0,fe=a,X=null;t:for(;;){for(var Z;fe!==l||g!==0&&fe.nodeType!==3||(T=w+g),fe!==b||f!==0&&fe.nodeType!==3||(R=w+f),fe.nodeType===3&&(w+=fe.nodeValue.length),(Z=fe.firstChild)!==null;)X=fe,fe=Z;for(;;){if(fe===a)break t;if(X===l&&++K===g&&(T=w),X===b&&++oe===f&&(R=w),(Z=fe.nextSibling)!==null)break;fe=X,X=fe.parentNode}fe=Z}l=T===-1||R===-1?null:{start:T,end:R}}else l=null}l=l||{start:0,end:0}}else l=null;for($m={focusedElem:a,selectionRange:l},Mf=!1,rn=o;rn!==null;)if(o=rn,a=o.child,(o.subtreeFlags&1024)!==0&&a!==null)a.return=o,rn=a;else for(;rn!==null;){switch(o=rn,b=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,l=o,g=b.memoizedProps,b=b.memoizedState,f=l.stateNode;try{var Me=So(l.type,g,l.elementType===l.type);a=f.getSnapshotBeforeUpdate(Me,b),f.__reactInternalSnapshotBeforeUpdate=a}catch(je){gt(l,l.return,je)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,l=a.nodeType,l===9)zm(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":zm(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,rn=a;break}rn=o.return}}function FS(a,o,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:yi(a,l),f&4&&ic(5,l);break;case 1:if(yi(a,l),f&4)if(a=l.stateNode,o===null)try{a.componentDidMount()}catch(w){gt(l,l.return,w)}else{var g=So(l.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(g,o,a.__reactInternalSnapshotBeforeUpdate)}catch(w){gt(l,l.return,w)}}f&64&&US(l),f&512&&oc(l,l.return);break;case 3:if(yi(a,l),f&64&&(a=l.updateQueue,a!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{_x(a,o)}catch(w){gt(l,l.return,w)}}break;case 27:o===null&&f&4&&qS(l);case 26:case 5:yi(a,l),o===null&&f&4&&GS(l),f&512&&oc(l,l.return);break;case 12:yi(a,l);break;case 13:yi(a,l),f&4&&XS(a,l),f&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=ij.bind(null,l),Cj(a,l))));break;case 22:if(f=l.memoizedState!==null||Ma,!f){o=o!==null&&o.memoizedState!==null||Rt,g=Ma;var b=Rt;Ma=f,(Rt=o)&&!b?vi(a,l,(l.subtreeFlags&8772)!==0):yi(a,l),Ma=g,Rt=b}break;case 30:break;default:yi(a,l)}}function KS(a){var o=a.alternate;o!==null&&(a.alternate=null,KS(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Cu(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ct=null,Gn=!1;function Ra(a,o,l){for(l=l.child;l!==null;)VS(a,o,l),l=l.sibling}function VS(a,o,l){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ze,l)}catch{}switch(l.tag){case 26:Rt||aa(l,o),Ra(a,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Rt||aa(l,o);var f=Ct,g=Gn;Pi(l.type)&&(Ct=l.stateNode,Gn=!1),Ra(a,o,l),mc(l.stateNode),Ct=f,Gn=g;break;case 5:Rt||aa(l,o);case 6:if(f=Ct,g=Gn,Ct=null,Ra(a,o,l),Ct=f,Gn=g,Ct!==null)if(Gn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(l.stateNode)}catch(b){gt(l,o,b)}else try{Ct.removeChild(l.stateNode)}catch(b){gt(l,o,b)}break;case 18:Ct!==null&&(Gn?(a=Ct,I1(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),Cc(a)):I1(Ct,l.stateNode));break;case 4:f=Ct,g=Gn,Ct=l.stateNode.containerInfo,Gn=!0,Ra(a,o,l),Ct=f,Gn=g;break;case 0:case 11:case 14:case 15:Rt||gi(2,l,o),Rt||gi(4,l,o),Ra(a,o,l);break;case 1:Rt||(aa(l,o),f=l.stateNode,typeof f.componentWillUnmount=="function"&&zS(l,o,f)),Ra(a,o,l);break;case 21:Ra(a,o,l);break;case 22:Rt=(f=Rt)||l.memoizedState!==null,Ra(a,o,l),Rt=f;break;default:Ra(a,o,l)}}function XS(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Cc(a)}catch(l){gt(o,o.return,l)}}function Qk(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new YS),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new YS),o;default:throw Error(r(435,a.tag))}}function pm(a,o){var l=Qk(a);o.forEach(function(f){var g=oj.bind(null,a,f);l.has(f)||(l.add(f),f.then(g,g))})}function Jn(a,o){var l=o.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f],b=a,w=o,T=w;e:for(;T!==null;){switch(T.tag){case 27:if(Pi(T.type)){Ct=T.stateNode,Gn=!1;break e}break;case 5:Ct=T.stateNode,Gn=!1;break e;case 3:case 4:Ct=T.stateNode.containerInfo,Gn=!0;break e}T=T.return}if(Ct===null)throw Error(r(160));VS(b,w,g),Ct=null,Gn=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)WS(o,a),o=o.sibling}var Ur=null;function WS(a,o){var l=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Jn(o,a),er(a),f&4&&(gi(3,a,a.return),ic(3,a),gi(5,a,a.return));break;case 1:Jn(o,a),er(a),f&512&&(Rt||l===null||aa(l,l.return)),f&64&&Ma&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var g=Ur;if(Jn(o,a),er(a),f&512&&(Rt||l===null||aa(l,l.return)),f&4){var b=l!==null?l.memoizedState:null;if(f=a.memoizedState,l===null)if(f===null)if(a.stateNode===null){e:{f=a.type,l=a.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":b=g.getElementsByTagName("title")[0],(!b||b[Jo]||b[$t]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(f),g.head.insertBefore(b,g.querySelector("head > title"))),pn(b,f,l),b[$t]=a,Nt(b),f=b;break e;case"link":var w=q1("link","href",g).get(f+(l.href||""));if(w){for(var T=0;T<w.length;T++)if(b=w[T],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(T,1);break t}}b=g.createElement(f),pn(b,f,l),g.head.appendChild(b);break;case"meta":if(w=q1("meta","content",g).get(f+(l.content||""))){for(T=0;T<w.length;T++)if(b=w[T],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(T,1);break t}}b=g.createElement(f),pn(b,f,l),g.head.appendChild(b);break;default:throw Error(r(468,f))}b[$t]=a,Nt(b),f=b}a.stateNode=f}else Y1(g,a.type,a.stateNode);else a.stateNode=H1(g,f,a.memoizedProps);else b!==f?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,f===null?Y1(g,a.type,a.stateNode):H1(g,f,a.memoizedProps)):f===null&&a.stateNode!==null&&um(a,a.memoizedProps,l.memoizedProps)}break;case 27:Jn(o,a),er(a),f&512&&(Rt||l===null||aa(l,l.return)),l!==null&&f&4&&um(a,a.memoizedProps,l.memoizedProps);break;case 5:if(Jn(o,a),er(a),f&512&&(Rt||l===null||aa(l,l.return)),a.flags&32){g=a.stateNode;try{ai(g,"")}catch(Z){gt(a,a.return,Z)}}f&4&&a.stateNode!=null&&(g=a.memoizedProps,um(a,g,l!==null?l.memoizedProps:g)),f&1024&&(hm=!0);break;case 6:if(Jn(o,a),er(a),f&4){if(a.stateNode===null)throw Error(r(162));f=a.memoizedProps,l=a.stateNode;try{l.nodeValue=f}catch(Z){gt(a,a.return,Z)}}break;case 3:if(kf=null,g=Ur,Ur=Tf(o.containerInfo),Jn(o,a),Ur=g,er(a),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Cc(o.containerInfo)}catch(Z){gt(a,a.return,Z)}hm&&(hm=!1,QS(a));break;case 4:f=Ur,Ur=Tf(a.stateNode.containerInfo),Jn(o,a),er(a),Ur=f;break;case 12:Jn(o,a),er(a);break;case 13:Jn(o,a),er(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(xm=Be()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,pm(a,f)));break;case 22:g=a.memoizedState!==null;var R=l!==null&&l.memoizedState!==null,K=Ma,oe=Rt;if(Ma=K||g,Rt=oe||R,Jn(o,a),Rt=oe,Ma=K,er(a),f&8192)e:for(o=a.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(l===null||R||Ma||Rt||Ao(a)),l=null,o=a;;){if(o.tag===5||o.tag===26){if(l===null){R=l=o;try{if(b=R.stateNode,g)w=b.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{T=R.stateNode;var fe=R.memoizedProps.style,X=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;T.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Z){gt(R,R.return,Z)}}}else if(o.tag===6){if(l===null){R=o;try{R.stateNode.nodeValue=g?"":R.memoizedProps}catch(Z){gt(R,R.return,Z)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=a.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,pm(a,l))));break;case 19:Jn(o,a),er(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,pm(a,f)));break;case 30:break;case 21:break;default:Jn(o,a),er(a)}}function er(a){var o=a.flags;if(o&2){try{for(var l,f=a.return;f!==null;){if(HS(f)){l=f;break}f=f.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,b=fm(a);gf(a,b,g);break;case 5:var w=l.stateNode;l.flags&32&&(ai(w,""),l.flags&=-33);var T=fm(a);gf(a,T,w);break;case 3:case 4:var R=l.stateNode.containerInfo,K=fm(a);dm(a,K,R);break;default:throw Error(r(161))}}catch(oe){gt(a,a.return,oe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function QS(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;QS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function yi(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)FS(a,o.alternate,o),o=o.sibling}function Ao(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:gi(4,o,o.return),Ao(o);break;case 1:aa(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&zS(o,o.return,l),Ao(o);break;case 27:mc(o.stateNode);case 26:case 5:aa(o,o.return),Ao(o);break;case 22:o.memoizedState===null&&Ao(o);break;case 30:Ao(o);break;default:Ao(o)}a=a.sibling}}function vi(a,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,g=a,b=o,w=b.flags;switch(b.tag){case 0:case 11:case 15:vi(g,b,l),ic(4,b);break;case 1:if(vi(g,b,l),f=b,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(K){gt(f,f.return,K)}if(f=b,g=f.updateQueue,g!==null){var T=f.stateNode;try{var R=g.shared.hiddenCallbacks;if(R!==null)for(g.shared.hiddenCallbacks=null,g=0;g<R.length;g++)wx(R[g],T)}catch(K){gt(f,f.return,K)}}l&&w&64&&US(b),oc(b,b.return);break;case 27:qS(b);case 26:case 5:vi(g,b,l),l&&f===null&&w&4&&GS(b),oc(b,b.return);break;case 12:vi(g,b,l);break;case 13:vi(g,b,l),l&&w&4&&XS(g,b);break;case 22:b.memoizedState===null&&vi(g,b,l),oc(b,b.return);break;case 30:break;default:vi(g,b,l)}o=o.sibling}}function mm(a,o){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&Yl(l))}function gm(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Yl(a))}function ia(a,o,l,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ZS(a,o,l,f),o=o.sibling}function ZS(a,o,l,f){var g=o.flags;switch(o.tag){case 0:case 11:case 15:ia(a,o,l,f),g&2048&&ic(9,o);break;case 1:ia(a,o,l,f);break;case 3:ia(a,o,l,f),g&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Yl(a)));break;case 12:if(g&2048){ia(a,o,l,f),a=o.stateNode;try{var b=o.memoizedProps,w=b.id,T=b.onPostCommit;typeof T=="function"&&T(w,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(R){gt(o,o.return,R)}}else ia(a,o,l,f);break;case 13:ia(a,o,l,f);break;case 23:break;case 22:b=o.stateNode,w=o.alternate,o.memoizedState!==null?b._visibility&2?ia(a,o,l,f):sc(a,o):b._visibility&2?ia(a,o,l,f):(b._visibility|=2,Es(a,o,l,f,(o.subtreeFlags&10256)!==0)),g&2048&&mm(w,o);break;case 24:ia(a,o,l,f),g&2048&&gm(o.alternate,o);break;default:ia(a,o,l,f)}}function Es(a,o,l,f,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=a,w=o,T=l,R=f,K=w.flags;switch(w.tag){case 0:case 11:case 15:Es(b,w,T,R,g),ic(8,w);break;case 23:break;case 22:var oe=w.stateNode;w.memoizedState!==null?oe._visibility&2?Es(b,w,T,R,g):sc(b,w):(oe._visibility|=2,Es(b,w,T,R,g)),g&&K&2048&&mm(w.alternate,w);break;case 24:Es(b,w,T,R,g),g&&K&2048&&gm(w.alternate,w);break;default:Es(b,w,T,R,g)}o=o.sibling}}function sc(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=a,f=o,g=f.flags;switch(f.tag){case 22:sc(l,f),g&2048&&mm(f.alternate,f);break;case 24:sc(l,f),g&2048&&gm(f.alternate,f);break;default:sc(l,f)}o=o.sibling}}var lc=8192;function ws(a){if(a.subtreeFlags&lc)for(a=a.child;a!==null;)JS(a),a=a.sibling}function JS(a){switch(a.tag){case 26:ws(a),a.flags&lc&&a.memoizedState!==null&&Ij(Ur,a.memoizedState,a.memoizedProps);break;case 5:ws(a);break;case 3:case 4:var o=Ur;Ur=Tf(a.stateNode.containerInfo),ws(a),Ur=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=lc,lc=16777216,ws(a),lc=o):ws(a));break;default:ws(a)}}function e1(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function cc(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];rn=f,n1(f,a)}e1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)t1(a),a=a.sibling}function t1(a){switch(a.tag){case 0:case 11:case 15:cc(a),a.flags&2048&&gi(9,a,a.return);break;case 3:cc(a);break;case 12:cc(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,yf(a)):cc(a);break;default:cc(a)}}function yf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];rn=f,n1(f,a)}e1(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:gi(8,o,o.return),yf(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,yf(o));break;default:yf(o)}a=a.sibling}}function n1(a,o){for(;rn!==null;){var l=rn;switch(l.tag){case 0:case 11:case 15:gi(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Yl(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,rn=f;else e:for(l=a;rn!==null;){f=rn;var g=f.sibling,b=f.return;if(KS(f),f===l){rn=null;break e}if(g!==null){g.return=b,rn=g;break e}rn=b}}}var Zk={getCacheForType:function(a){var o=Cn(Kt),l=o.data.get(a);return l===void 0&&(l=a(),o.data.set(a,l)),l}},Jk=typeof WeakMap=="function"?WeakMap:Map,at=0,bt=null,Ge=null,Ke=0,it=0,tr=null,bi=!1,_s=!1,ym=!1,Ia=0,jt=0,xi=0,Co=0,vm=0,Ar=0,Os=0,uc=null,Hn=null,bm=!1,xm=0,vf=1/0,bf=null,Si=null,hn=0,Ai=null,Ts=null,Ds=0,Sm=0,Am=null,r1=null,fc=0,Cm=null;function nr(){if((at&2)!==0&&Ke!==0)return Ke&-Ke;if(U.T!==null){var a=ys;return a!==0?a:Dm()}return Sl()}function a1(){Ar===0&&(Ar=(Ke&536870912)===0||et?bl():536870912);var a=Sr.current;return a!==null&&(a.flags|=32),Ar}function rr(a,o,l){(a===bt&&(it===2||it===9)||a.cancelPendingCommit!==null)&&(ks(a,0),Ci(a,Ke,Ar,!1)),Xn(a,l),((at&2)===0||a!==bt)&&(a===bt&&((at&2)===0&&(Co|=l),jt===4&&Ci(a,Ke,Ar,!1)),oa(a))}function i1(a,o,l){if((at&6)!==0)throw Error(r(327));var f=!l&&(o&124)===0&&(o&a.expiredLanes)===0||pa(a,o),g=f?nj(a,o):wm(a,o,!0),b=f;do{if(g===0){_s&&!f&&Ci(a,o,0,!1);break}else{if(l=a.current.alternate,b&&!ej(l)){g=wm(a,o,!1),b=!1;continue}if(g===2){if(b=o,a.errorRecoveryDisabledLanes&b)var w=0;else w=a.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){o=w;e:{var T=a;g=uc;var R=T.current.memoizedState.isDehydrated;if(R&&(ks(T,w).flags|=256),w=wm(T,w,!1),w!==2){if(ym&&!R){T.errorRecoveryDisabledLanes|=b,Co|=b,g=4;break e}b=Hn,Hn=g,b!==null&&(Hn===null?Hn=b:Hn.push.apply(Hn,b))}g=w}if(b=!1,g!==2)continue}}if(g===1){ks(a,0),Ci(a,o,0,!0);break}e:{switch(f=a,b=g,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ci(f,o,Ar,!bi);break e;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(g=xm+300-Be(),10<g)){if(Ci(f,o,Ar,!bi),ha(f,0,!0)!==0)break e;f.timeoutHandle=M1(o1.bind(null,f,l,Hn,bf,bm,o,Ar,Co,Os,bi,b,2,-0,0),g);break e}o1(f,l,Hn,bf,bm,o,Ar,Co,Os,bi,b,0,-0,0)}}break}while(!0);oa(a)}function o1(a,o,l,f,g,b,w,T,R,K,oe,fe,X,Z){if(a.timeoutHandle=-1,fe=o.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(vc={stylesheets:null,count:0,unsuspend:Rj},JS(o),fe=Lj(),fe!==null)){a.cancelPendingCommit=fe(h1.bind(null,a,o,b,l,f,g,w,T,R,oe,1,X,Z)),Ci(a,b,w,!K);return}h1(a,o,b,l,f,g,w,T,R)}function ej(a){for(var o=a;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var g=l[f],b=g.getSnapshot;g=g.value;try{if(!nt(b(),g))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ci(a,o,l,f){o&=~vm,o&=~Co,a.suspendedLanes|=o,a.pingedLanes&=~o,f&&(a.warmLanes|=o),f=a.expirationTimes;for(var g=o;0<g;){var b=31-vn(g),w=1<<b;f[b]=-1,g&=~w}l!==0&&Gh(a,l,o)}function xf(){return(at&6)===0?(dc(0),!1):!0}function Pm(){if(Ge!==null){if(it===0)var a=Ge.return;else a=Ge,Oa=yo=null,zp(a),Cs=null,nc=0,a=Ge;for(;a!==null;)BS(a.alternate,a),a=a.return;Ge=null}}function ks(a,o){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,vj(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),Pm(),bt=a,Ge=l=Ea(a.current,null),Ke=o,it=0,tr=null,bi=!1,_s=pa(a,o),ym=!1,Os=Ar=vm=Co=xi=jt=0,Hn=uc=null,bm=!1,(o&8)!==0&&(o|=o&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=o;0<f;){var g=31-vn(f),b=1<<g;o|=a[g],f&=~b}return Ia=o,zu(),l}function s1(a,o){$e=null,U.H=sf,o===Kl||o===Wu?(o=Px(),it=3):o===Sx?(o=Px(),it=4):it=o===ES?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,tr=o,Ge===null&&(jt=1,df(a,yr(o,a.current)))}function l1(){var a=U.H;return U.H=sf,a===null?sf:a}function c1(){var a=U.A;return U.A=Zk,a}function Em(){jt=4,bi||(Ke&4194048)!==Ke&&Sr.current!==null||(_s=!0),(xi&134217727)===0&&(Co&134217727)===0||bt===null||Ci(bt,Ke,Ar,!1)}function wm(a,o,l){var f=at;at|=2;var g=l1(),b=c1();(bt!==a||Ke!==o)&&(bf=null,ks(a,o)),o=!1;var w=jt;e:do try{if(it!==0&&Ge!==null){var T=Ge,R=tr;switch(it){case 8:Pm(),w=6;break e;case 3:case 2:case 9:case 6:Sr.current===null&&(o=!0);var K=it;if(it=0,tr=null,js(a,T,R,K),l&&_s){w=0;break e}break;default:K=it,it=0,tr=null,js(a,T,R,K)}}tj(),w=jt;break}catch(oe){s1(a,oe)}while(!0);return o&&a.shellSuspendCounter++,Oa=yo=null,at=f,U.H=g,U.A=b,Ge===null&&(bt=null,Ke=0,zu()),w}function tj(){for(;Ge!==null;)u1(Ge)}function nj(a,o){var l=at;at|=2;var f=l1(),g=c1();bt!==a||Ke!==o?(bf=null,vf=Be()+500,ks(a,o)):_s=pa(a,o);e:do try{if(it!==0&&Ge!==null){o=Ge;var b=tr;t:switch(it){case 1:it=0,tr=null,js(a,o,b,1);break;case 2:case 9:if(Ax(b)){it=0,tr=null,f1(o);break}o=function(){it!==2&&it!==9||bt!==a||(it=7),oa(a)},b.then(o,o);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Ax(b)?(it=0,tr=null,f1(o)):(it=0,tr=null,js(a,o,b,7));break;case 5:var w=null;switch(Ge.tag){case 26:w=Ge.memoizedState;case 5:case 27:var T=Ge;if(!w||F1(w)){it=0,tr=null;var R=T.sibling;if(R!==null)Ge=R;else{var K=T.return;K!==null?(Ge=K,Sf(K)):Ge=null}break t}}it=0,tr=null,js(a,o,b,5);break;case 6:it=0,tr=null,js(a,o,b,6);break;case 8:Pm(),jt=6;break e;default:throw Error(r(462))}}rj();break}catch(oe){s1(a,oe)}while(!0);return Oa=yo=null,U.H=f,U.A=g,at=l,Ge!==null?0:(bt=null,Ke=0,zu(),jt)}function rj(){for(;Ge!==null&&!Jt();)u1(Ge)}function u1(a){var o=LS(a.alternate,a,Ia);a.memoizedProps=a.pendingProps,o===null?Sf(a):Ge=o}function f1(a){var o=a,l=o.alternate;switch(o.tag){case 15:case 0:o=kS(l,o,o.pendingProps,o.type,void 0,Ke);break;case 11:o=kS(l,o,o.pendingProps,o.type.render,o.ref,Ke);break;case 5:zp(o);default:BS(l,o),o=Ge=dx(o,Ia),o=LS(l,o,Ia)}a.memoizedProps=a.pendingProps,o===null?Sf(a):Ge=o}function js(a,o,l,f){Oa=yo=null,zp(o),Cs=null,nc=0;var g=o.return;try{if(Fk(a,g,o,l,Ke)){jt=1,df(a,yr(l,a.current)),Ge=null;return}}catch(b){if(g!==null)throw Ge=g,b;jt=1,df(a,yr(l,a.current)),Ge=null;return}o.flags&32768?(et||f===1?a=!0:_s||(Ke&536870912)!==0?a=!1:(bi=a=!0,(f===2||f===9||f===3||f===6)&&(f=Sr.current,f!==null&&f.tag===13&&(f.flags|=16384))),d1(o,a)):Sf(o)}function Sf(a){var o=a;do{if((o.flags&32768)!==0){d1(o,bi);return}a=o.return;var l=Vk(o.alternate,o,Ia);if(l!==null){Ge=l;return}if(o=o.sibling,o!==null){Ge=o;return}Ge=o=a}while(o!==null);jt===0&&(jt=5)}function d1(a,o){do{var l=Xk(a.alternate,a);if(l!==null){l.flags&=32767,Ge=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(a=a.sibling,a!==null)){Ge=a;return}Ge=a=l}while(a!==null);jt=6,Ge=null}function h1(a,o,l,f,g,b,w,T,R){a.cancelPendingCommit=null;do Af();while(hn!==0);if((at&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=gp,xu(a,l,b,w,T,R),a===bt&&(Ge=bt=null,Ke=0),Ts=o,Ai=a,Ds=l,Sm=b,Am=g,r1=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,sj(vl,function(){return v1(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=U.T,U.T=null,g=ae.p,ae.p=2,w=at,at|=4;try{Wk(a,o,l)}finally{at=w,ae.p=g,U.T=f}}hn=1,p1(),m1(),g1()}}function p1(){if(hn===1){hn=0;var a=Ai,o=Ts,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var f=ae.p;ae.p=2;var g=at;at|=4;try{WS(o,a);var b=$m,w=Uu(a.containerInfo),T=b.focusedElem,R=b.selectionRange;if(w!==T&&T&&T.ownerDocument&&Pa(T.ownerDocument.documentElement,T)){if(R!==null&&cs(T)){var K=R.start,oe=R.end;if(oe===void 0&&(oe=K),"selectionStart"in T)T.selectionStart=K,T.selectionEnd=Math.min(oe,T.value.length);else{var fe=T.ownerDocument||document,X=fe&&fe.defaultView||window;if(X.getSelection){var Z=X.getSelection(),Me=T.textContent.length,je=Math.min(R.start,Me),ft=R.end===void 0?je:Math.min(R.end,Me);!Z.extend&&je>ft&&(w=ft,ft=je,je=w);var H=ta(T,je),B=ta(T,ft);if(H&&B&&(Z.rangeCount!==1||Z.anchorNode!==H.node||Z.anchorOffset!==H.offset||Z.focusNode!==B.node||Z.focusOffset!==B.offset)){var F=fe.createRange();F.setStart(H.node,H.offset),Z.removeAllRanges(),je>ft?(Z.addRange(F),Z.extend(B.node,B.offset)):(F.setEnd(B.node,B.offset),Z.addRange(F))}}}}for(fe=[],Z=T;Z=Z.parentNode;)Z.nodeType===1&&fe.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<fe.length;T++){var ce=fe[T];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Mf=!!Lm,$m=Lm=null}finally{at=g,ae.p=f,U.T=l}}a.current=o,hn=2}}function m1(){if(hn===2){hn=0;var a=Ai,o=Ts,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var f=ae.p;ae.p=2;var g=at;at|=4;try{FS(a,o.alternate,o)}finally{at=g,ae.p=f,U.T=l}}hn=3}}function g1(){if(hn===4||hn===3){hn=0,Fe();var a=Ai,o=Ts,l=Ds,f=r1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?hn=5:(hn=0,Ts=Ai=null,y1(a,a.pendingLanes));var g=a.pendingLanes;if(g===0&&(Si=null),Zo(l),o=o.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ze,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=U.T,g=ae.p,ae.p=2,U.T=null;try{for(var b=a.onRecoverableError,w=0;w<f.length;w++){var T=f[w];b(T.value,{componentStack:T.stack})}}finally{U.T=o,ae.p=g}}(Ds&3)!==0&&Af(),oa(a),g=a.pendingLanes,(l&4194090)!==0&&(g&42)!==0?a===Cm?fc++:(fc=0,Cm=a):fc=0,dc(0)}}function y1(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Yl(o)))}function Af(a){return p1(),m1(),g1(),v1()}function v1(){if(hn!==5)return!1;var a=Ai,o=Sm;Sm=0;var l=Zo(Ds),f=U.T,g=ae.p;try{ae.p=32>l?32:l,U.T=null,l=Am,Am=null;var b=Ai,w=Ds;if(hn=0,Ts=Ai=null,Ds=0,(at&6)!==0)throw Error(r(331));var T=at;if(at|=4,t1(b.current),ZS(b,b.current,w,l),at=T,dc(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ze,b)}catch{}return!0}finally{ae.p=g,U.T=f,y1(a,o)}}function b1(a,o,l){o=yr(l,o),o=tm(a.stateNode,o,2),a=di(a,o,2),a!==null&&(Xn(a,2),oa(a))}function gt(a,o,l){if(a.tag===3)b1(a,a,l);else for(;o!==null;){if(o.tag===3){b1(o,a,l);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Si===null||!Si.has(f))){a=yr(l,a),l=CS(2),f=di(o,l,2),f!==null&&(PS(l,f,o,a),Xn(f,2),oa(f));break}}o=o.return}}function _m(a,o,l){var f=a.pingCache;if(f===null){f=a.pingCache=new Jk;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(l)||(ym=!0,g.add(l),a=aj.bind(null,a,o,l),o.then(a,a))}function aj(a,o,l){var f=a.pingCache;f!==null&&f.delete(o),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,bt===a&&(Ke&l)===l&&(jt===4||jt===3&&(Ke&62914560)===Ke&&300>Be()-xm?(at&2)===0&&ks(a,0):vm|=l,Os===Ke&&(Os=0)),oa(a)}function x1(a,o){o===0&&(o=xl()),a=hs(a,o),a!==null&&(Xn(a,o),oa(a))}function ij(a){var o=a.memoizedState,l=0;o!==null&&(l=o.retryLane),x1(a,l)}function oj(a,o){var l=0;switch(a.tag){case 13:var f=a.stateNode,g=a.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(o),x1(a,l)}function sj(a,o){return Xe(a,o)}var Cf=null,Ns=null,Om=!1,Pf=!1,Tm=!1,Po=0;function oa(a){a!==Ns&&a.next===null&&(Ns===null?Cf=Ns=a:Ns=Ns.next=a),Pf=!0,Om||(Om=!0,cj())}function dc(a,o){if(!Tm&&Pf){Tm=!0;do for(var l=!1,f=Cf;f!==null;){if(a!==0){var g=f.pendingLanes;if(g===0)var b=0;else{var w=f.suspendedLanes,T=f.pingedLanes;b=(1<<31-vn(42|a)+1)-1,b&=g&~(w&~T),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,P1(f,b))}else b=Ke,b=ha(f,f===bt?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||pa(f,b)||(l=!0,P1(f,b));f=f.next}while(l);Tm=!1}}function lj(){S1()}function S1(){Pf=Om=!1;var a=0;Po!==0&&(yj()&&(a=Po),Po=0);for(var o=Be(),l=null,f=Cf;f!==null;){var g=f.next,b=A1(f,o);b===0?(f.next=null,l===null?Cf=g:l.next=g,g===null&&(Ns=l)):(l=f,(a!==0||(b&3)!==0)&&(Pf=!0)),f=g}dc(a)}function A1(a,o){for(var l=a.suspendedLanes,f=a.pingedLanes,g=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var w=31-vn(b),T=1<<w,R=g[w];R===-1?((T&l)===0||(T&f)!==0)&&(g[w]=zh(T,o)):R<=o&&(a.expiredLanes|=T),b&=~T}if(o=bt,l=Ke,l=ha(a,a===o?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,l===0||a===o&&(it===2||it===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&qe(f),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||pa(a,l)){if(o=l&-l,o===a.callbackPriority)return o;switch(f!==null&&qe(f),Zo(l)){case 2:case 8:l=ni;break;case 32:l=vl;break;case 268435456:l=Ie;break;default:l=vl}return f=C1.bind(null,a),l=Xe(l,f),a.callbackPriority=o,a.callbackNode=l,o}return f!==null&&f!==null&&qe(f),a.callbackPriority=2,a.callbackNode=null,2}function C1(a,o){if(hn!==0&&hn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(Af()&&a.callbackNode!==l)return null;var f=Ke;return f=ha(a,a===bt?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(i1(a,f,o),A1(a,Be()),a.callbackNode!=null&&a.callbackNode===l?C1.bind(null,a):null)}function P1(a,o){if(Af())return null;i1(a,o,!0)}function cj(){bj(function(){(at&6)!==0?Xe(ti,lj):S1()})}function Dm(){return Po===0&&(Po=bl()),Po}function E1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:xa(""+a)}function w1(a,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,a.id&&l.setAttribute("form",a.id),o.parentNode.insertBefore(l,o),a=new FormData(a),l.parentNode.removeChild(l),a}function uj(a,o,l,f,g){if(o==="submit"&&l&&l.stateNode===g){var b=E1((g[bn]||null).action),w=f.submitter;w&&(o=(o=w[bn]||null)?E1(o.formAction):w.getAttribute("formAction"),o!==null&&(b=o,w=null));var T=new Dt("action","action",null,f,g);a.push({event:T,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Po!==0){var R=w?w1(g,w):new FormData(g);Wp(l,{pending:!0,data:R,method:g.method,action:b},null,R)}}else typeof b=="function"&&(T.preventDefault(),R=w?w1(g,w):new FormData(g),Wp(l,{pending:!0,data:R,method:g.method,action:b},b,R))},currentTarget:g}]})}}for(var km=0;km<mp.length;km++){var jm=mp[km],fj=jm.toLowerCase(),dj=jm[0].toUpperCase()+jm.slice(1);Br(fj,"on"+dj)}Br(ix,"onAnimationEnd"),Br(ox,"onAnimationIteration"),Br(sx,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(Tk,"onTransitionRun"),Br(Dk,"onTransitionStart"),Br(kk,"onTransitionCancel"),Br(lx,"onTransitionEnd"),en("onMouseEnter",["mouseout","mouseover"]),en("onMouseLeave",["mouseout","mouseover"]),en("onPointerEnter",["pointerout","pointerover"]),en("onPointerLeave",["pointerout","pointerover"]),mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hc));function _1(a,o){o=(o&4)!==0;for(var l=0;l<a.length;l++){var f=a[l],g=f.event;f=f.listeners;e:{var b=void 0;if(o)for(var w=f.length-1;0<=w;w--){var T=f[w],R=T.instance,K=T.currentTarget;if(T=T.listener,R!==b&&g.isPropagationStopped())break e;b=T,g.currentTarget=K;try{b(g)}catch(oe){ff(oe)}g.currentTarget=null,b=R}else for(w=0;w<f.length;w++){if(T=f[w],R=T.instance,K=T.currentTarget,T=T.listener,R!==b&&g.isPropagationStopped())break e;b=T,g.currentTarget=K;try{b(g)}catch(oe){ff(oe)}g.currentTarget=null,b=R}}}}function He(a,o){var l=o[Cl];l===void 0&&(l=o[Cl]=new Set);var f=a+"__bubble";l.has(f)||(O1(o,a,2,!1),l.add(f))}function Nm(a,o,l){var f=0;o&&(f|=4),O1(l,a,f,o)}var Ef="_reactListening"+Math.random().toString(36).slice(2);function Mm(a){if(!a[Ef]){a[Ef]=!0,El.forEach(function(l){l!=="selectionchange"&&(hj.has(l)||Nm(l,!1,a),Nm(l,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Ef]||(o[Ef]=!0,Nm("selectionchange",!1,o))}}function O1(a,o,l,f){switch(Z1(o)){case 2:var g=Uj;break;case 8:g=zj;break;default:g=Vm}l=g.bind(null,o,l,a),g=void 0,!Nl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?a.addEventListener(o,l,{capture:!0,passive:g}):a.addEventListener(o,l,!0):g!==void 0?a.addEventListener(o,l,{passive:g}):a.addEventListener(o,l,!1)}function Rm(a,o,l,f,g){var b=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var T=f.stateNode.containerInfo;if(T===g)break;if(w===4)for(w=f.return;w!==null;){var R=w.tag;if((R===3||R===4)&&w.stateNode.containerInfo===g)return;w=w.return}for(;T!==null;){if(w=$r(T),w===null)return;if(R=w.tag,R===5||R===6||R===26||R===27){f=b=w;continue e}T=T.parentNode}}f=f.return}Hh(function(){var K=b,oe=kl(l),fe=[];e:{var X=cx.get(a);if(X!==void 0){var Z=Dt,Me=a;switch(a){case"keypress":if(ii(l)===0)break e;case"keydown":case"keyup":Z=ep;break;case"focusin":Me="focus",Z=Rl;break;case"focusout":Me="blur",Z=Rl;break;case"beforeblur":case"afterblur":Z=Rl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Tu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=np;break;case ix:case ox:case sx:Z=Fh;break;case lx:Z=ap;break;case"scroll":case"scrollend":Z=Ou;break;case"wheel":Z=Bl;break;case"copy":case"cut":case"paste":Z=Vh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=ju;break;case"toggle":case"beforetoggle":Z=Nu}var je=(o&4)!==0,ft=!je&&(a==="scroll"||a==="scrollend"),H=je?X!==null?X+"Capture":null:X;je=[];for(var B=K,F;B!==null;){var ce=B;if(F=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||F===null||H===null||(ce=Ji(B,H),ce!=null&&je.push(pc(B,ce,F))),ft)break;B=B.return}0<je.length&&(X=new Z(X,Me,null,l,oe),fe.push({event:X,listeners:je}))}}if((o&7)===0){e:{if(X=a==="mouseover"||a==="pointerover",Z=a==="mouseout"||a==="pointerout",X&&l!==Sa&&(Me=l.relatedTarget||l.fromElement)&&($r(Me)||Me[ma]))break e;if((Z||X)&&(X=oe.window===oe?oe:(X=oe.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(Me=l.relatedTarget||l.toElement,Z=K,Me=Me?$r(Me):null,Me!==null&&(ft=s(Me),je=Me.tag,Me!==ft||je!==5&&je!==27&&je!==6)&&(Me=null)):(Z=null,Me=K),Z!==Me)){if(je=Tu,ce="onMouseLeave",H="onMouseEnter",B="mouse",(a==="pointerout"||a==="pointerover")&&(je=ju,ce="onPointerLeave",H="onPointerEnter",B="pointer"),ft=Z==null?X:pr(Z),F=Me==null?X:pr(Me),X=new je(ce,B+"leave",Z,l,oe),X.target=ft,X.relatedTarget=F,ce=null,$r(oe)===K&&(je=new je(H,B+"enter",Me,l,oe),je.target=F,je.relatedTarget=ft,ce=je),ft=ce,Z&&Me)t:{for(je=Z,H=Me,B=0,F=je;F;F=Ms(F))B++;for(F=0,ce=H;ce;ce=Ms(ce))F++;for(;0<B-F;)je=Ms(je),B--;for(;0<F-B;)H=Ms(H),F--;for(;B--;){if(je===H||H!==null&&je===H.alternate)break t;je=Ms(je),H=Ms(H)}je=null}else je=null;Z!==null&&T1(fe,X,Z,je,!1),Me!==null&&ft!==null&&T1(fe,ft,Me,je,!0)}}e:{if(X=K?pr(K):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var we=I;else if($u(X))if($)we=St;else{we=Ve;var Ue=Re}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&Dl(K.elementType)&&(we=I):we=lt;if(we&&(we=we(a,K))){Bu(fe,we,l,oe);break e}Ue&&Ue(a,X,K),a==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&ns(X,"number",X.value)}switch(Ue=K?pr(K):window,a){case"focusin":($u(Ue)||Ue.contentEditable==="true")&&(li=Ue,lo=K,us=null);break;case"focusout":us=lo=li=null;break;case"mousedown":hp=!0;break;case"contextmenu":case"mouseup":case"dragend":hp=!1,rx(fe,l,oe);break;case"selectionchange":if(so)break;case"keydown":case"keyup":rx(fe,l,oe)}var De;if(ss)e:{switch(a){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else oi?Lu(a,l)&&(Ne="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(Ne="onCompositionStart");Ne&&(Mu&&l.locale!=="ko"&&(oi||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&oi&&(De=eo()):(Jr=oe,Un="value"in Jr?Jr.value:Jr.textContent,oi=!0)),Ue=wf(K,Ne),0<Ue.length&&(Ne=new Il(Ne,a,null,l,oe),fe.push({event:Ne,listeners:Ue}),De?Ne.data=De:(De=Ul(l),De!==null&&(Ne.data=De)))),(De=lp?cp(a,l):up(a,l))&&(Ne=wf(K,"onBeforeInput"),0<Ne.length&&(Ue=new Il("onBeforeInput","beforeinput",null,l,oe),fe.push({event:Ue,listeners:Ne}),Ue.data=De)),uj(fe,a,K,l,oe)}_1(fe,o)})}function pc(a,o,l){return{instance:a,listener:o,currentTarget:l}}function wf(a,o){for(var l=o+"Capture",f=[];a!==null;){var g=a,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=Ji(a,l),g!=null&&f.unshift(pc(a,g,b)),g=Ji(a,o),g!=null&&f.push(pc(a,g,b))),a.tag===3)return f;a=a.return}return[]}function Ms(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function T1(a,o,l,f,g){for(var b=o._reactName,w=[];l!==null&&l!==f;){var T=l,R=T.alternate,K=T.stateNode;if(T=T.tag,R!==null&&R===f)break;T!==5&&T!==26&&T!==27||K===null||(R=K,g?(K=Ji(l,b),K!=null&&w.unshift(pc(l,K,R))):g||(K=Ji(l,b),K!=null&&w.push(pc(l,K,R)))),l=l.return}w.length!==0&&a.push({event:o,listeners:w})}var pj=/\r\n?/g,mj=/\u0000|\uFFFD/g;function D1(a){return(typeof a=="string"?a:""+a).replace(pj,`
`).replace(mj,"")}function k1(a,o){return o=D1(o),D1(a)===o}function _f(){}function ut(a,o,l,f,g,b){switch(l){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||ai(a,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&ai(a,""+f);break;case"className":Qi(a,"class",f);break;case"tabIndex":Qi(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Qi(a,l,f);break;case"style":ba(a,f,b);break;case"data":if(o!=="object"){Qi(a,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||l!=="href")){a.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(l);break}f=xa(""+f),a.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(o!=="input"&&ut(a,o,"name",g.name,g,null),ut(a,o,"formEncType",g.formEncType,g,null),ut(a,o,"formMethod",g.formMethod,g,null),ut(a,o,"formTarget",g.formTarget,g,null)):(ut(a,o,"encType",g.encType,g,null),ut(a,o,"method",g.method,g,null),ut(a,o,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(l);break}f=xa(""+f),a.setAttribute(l,f);break;case"onClick":f!=null&&(a.onclick=_f);break;case"onScroll":f!=null&&He("scroll",a);break;case"onScrollEnd":f!=null&&He("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=l}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}l=xa(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(l,""+f):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":f===!0?a.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(l,f):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(l,f):a.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(l):a.setAttribute(l,f);break;case"popover":He("beforetoggle",a),He("toggle",a),Vr(a,"popover",f);break;case"xlinkActuate":tn(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":tn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":tn(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":tn(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":tn(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":tn(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":tn(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":tn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":tn(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Vr(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=wu.get(l)||l,Vr(a,l,f))}}function Im(a,o,l,f,g,b){switch(l){case"style":ba(a,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=l}}break;case"children":typeof f=="string"?ai(a,f):(typeof f=="number"||typeof f=="bigint")&&ai(a,""+f);break;case"onScroll":f!=null&&He("scroll",a);break;case"onScrollEnd":f!=null&&He("scrollend",a);break;case"onClick":f!=null&&(a.onclick=_f);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),o=l.slice(2,g?l.length-7:void 0),b=a[bn]||null,b=b!=null?b[l]:null,typeof b=="function"&&a.removeEventListener(o,b,g),typeof f=="function")){typeof b!="function"&&b!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(o,f,g);break e}l in a?a[l]=f:f===!0?a.setAttribute(l,""):Vr(a,l,f)}}}function pn(a,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",a),He("load",a);var f=!1,g=!1,b;for(b in l)if(l.hasOwnProperty(b)){var w=l[b];if(w!=null)switch(b){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:ut(a,o,b,w,l,null)}}g&&ut(a,o,"srcSet",l.srcSet,l,null),f&&ut(a,o,"src",l.src,l,null);return;case"input":He("invalid",a);var T=b=w=g=null,R=null,K=null;for(f in l)if(l.hasOwnProperty(f)){var oe=l[f];if(oe!=null)switch(f){case"name":g=oe;break;case"type":w=oe;break;case"checked":R=oe;break;case"defaultChecked":K=oe;break;case"value":b=oe;break;case"defaultValue":T=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,o));break;default:ut(a,o,f,oe,l,null)}}ts(a,b,T,R,K,w,g,!1),Wr(a);return;case"select":He("invalid",a),f=w=b=null;for(g in l)if(l.hasOwnProperty(g)&&(T=l[g],T!=null))switch(g){case"value":b=T;break;case"defaultValue":w=T;break;case"multiple":f=T;default:ut(a,o,g,T,l,null)}o=b,l=w,a.multiple=!!f,o!=null?ya(a,!!f,o,!1):l!=null&&ya(a,!!f,l,!0);return;case"textarea":He("invalid",a),b=g=f=null;for(w in l)if(l.hasOwnProperty(w)&&(T=l[w],T!=null))switch(w){case"value":f=T;break;case"defaultValue":g=T;break;case"children":b=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ut(a,o,w,T,l,null)}Qr(a,f,g,b),Wr(a);return;case"option":for(R in l)if(l.hasOwnProperty(R)&&(f=l[R],f!=null))switch(R){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ut(a,o,R,f,l,null)}return;case"dialog":He("beforetoggle",a),He("toggle",a),He("cancel",a),He("close",a);break;case"iframe":case"object":He("load",a);break;case"video":case"audio":for(f=0;f<hc.length;f++)He(hc[f],a);break;case"image":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"embed":case"source":case"link":He("error",a),He("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(f=l[K],f!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:ut(a,o,K,f,l,null)}return;default:if(Dl(o)){for(oe in l)l.hasOwnProperty(oe)&&(f=l[oe],f!==void 0&&Im(a,o,oe,f,l,void 0));return}}for(T in l)l.hasOwnProperty(T)&&(f=l[T],f!=null&&ut(a,o,T,f,l,null))}function gj(a,o,l,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,w=null,T=null,R=null,K=null,oe=null;for(Z in l){var fe=l[Z];if(l.hasOwnProperty(Z)&&fe!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":R=fe;default:f.hasOwnProperty(Z)||ut(a,o,Z,null,f,fe)}}for(var X in f){var Z=f[X];if(fe=l[X],f.hasOwnProperty(X)&&(Z!=null||fe!=null))switch(X){case"type":b=Z;break;case"name":g=Z;break;case"checked":K=Z;break;case"defaultChecked":oe=Z;break;case"value":w=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,o));break;default:Z!==fe&&ut(a,o,X,Z,f,fe)}}es(a,w,T,R,K,oe,b,g);return;case"select":Z=w=T=X=null;for(b in l)if(R=l[b],l.hasOwnProperty(b)&&R!=null)switch(b){case"value":break;case"multiple":Z=R;default:f.hasOwnProperty(b)||ut(a,o,b,null,f,R)}for(g in f)if(b=f[g],R=l[g],f.hasOwnProperty(g)&&(b!=null||R!=null))switch(g){case"value":X=b;break;case"defaultValue":T=b;break;case"multiple":w=b;default:b!==R&&ut(a,o,g,b,f,R)}o=T,l=w,f=Z,X!=null?ya(a,!!l,X,!1):!!f!=!!l&&(o!=null?ya(a,!!l,o,!0):ya(a,!!l,l?[]:"",!1));return;case"textarea":Z=X=null;for(T in l)if(g=l[T],l.hasOwnProperty(T)&&g!=null&&!f.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ut(a,o,T,null,f,g)}for(w in f)if(g=f[w],b=l[w],f.hasOwnProperty(w)&&(g!=null||b!=null))switch(w){case"value":X=g;break;case"defaultValue":Z=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==b&&ut(a,o,w,g,f,b)}An(a,X,Z);return;case"option":for(var Me in l)if(X=l[Me],l.hasOwnProperty(Me)&&X!=null&&!f.hasOwnProperty(Me))switch(Me){case"selected":a.selected=!1;break;default:ut(a,o,Me,null,f,X)}for(R in f)if(X=f[R],Z=l[R],f.hasOwnProperty(R)&&X!==Z&&(X!=null||Z!=null))switch(R){case"selected":a.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ut(a,o,R,X,f,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in l)X=l[je],l.hasOwnProperty(je)&&X!=null&&!f.hasOwnProperty(je)&&ut(a,o,je,null,f,X);for(K in f)if(X=f[K],Z=l[K],f.hasOwnProperty(K)&&X!==Z&&(X!=null||Z!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,o));break;default:ut(a,o,K,X,f,Z)}return;default:if(Dl(o)){for(var ft in l)X=l[ft],l.hasOwnProperty(ft)&&X!==void 0&&!f.hasOwnProperty(ft)&&Im(a,o,ft,void 0,f,X);for(oe in f)X=f[oe],Z=l[oe],!f.hasOwnProperty(oe)||X===Z||X===void 0&&Z===void 0||Im(a,o,oe,X,f,Z);return}}for(var H in l)X=l[H],l.hasOwnProperty(H)&&X!=null&&!f.hasOwnProperty(H)&&ut(a,o,H,null,f,X);for(fe in f)X=f[fe],Z=l[fe],!f.hasOwnProperty(fe)||X===Z||X==null&&Z==null||ut(a,o,fe,X,f,Z)}var Lm=null,$m=null;function Of(a){return a.nodeType===9?a:a.ownerDocument}function j1(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N1(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Bm(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Um=null;function yj(){var a=window.event;return a&&a.type==="popstate"?a===Um?!1:(Um=a,!0):(Um=null,!1)}var M1=typeof setTimeout=="function"?setTimeout:void 0,vj=typeof clearTimeout=="function"?clearTimeout:void 0,R1=typeof Promise=="function"?Promise:void 0,bj=typeof queueMicrotask=="function"?queueMicrotask:typeof R1<"u"?function(a){return R1.resolve(null).then(a).catch(xj)}:M1;function xj(a){setTimeout(function(){throw a})}function Pi(a){return a==="head"}function I1(a,o){var l=o,f=0,g=0;do{var b=l.nextSibling;if(a.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"){if(0<f&&8>f){l=f;var w=a.ownerDocument;if(l&1&&mc(w.documentElement),l&2&&mc(w.body),l&4)for(l=w.head,mc(l),w=l.firstChild;w;){var T=w.nextSibling,R=w.nodeName;w[Jo]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=T}}if(g===0){a.removeChild(b),Cc(o);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:f=l.charCodeAt(0)-48;else f=0;l=b}while(l);Cc(o)}function zm(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":zm(l),Cu(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function Sj(a,o,l,f){for(;a.nodeType===1;){var g=l;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[Jo])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==g.rel||a.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||a.getAttribute("title")!==(g.title==null?null:g.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(g.src==null?null:g.src)||a.getAttribute("type")!==(g.type==null?null:g.type)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=zr(a.nextSibling),a===null)break}return null}function Aj(a,o,l){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=zr(a.nextSibling),a===null))return null;return a}function Gm(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function Cj(a,o){var l=a.ownerDocument;if(a.data!=="$?"||l.readyState==="complete")o();else{var f=function(){o(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function zr(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}var Hm=null;function L1(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return a;o--}else l==="/$"&&o++}a=a.previousSibling}return null}function $1(a,o,l){switch(o=Of(l),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function mc(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Cu(a)}var Cr=new Map,B1=new Set;function Tf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var La=ae.d;ae.d={f:Pj,r:Ej,D:wj,C:_j,L:Oj,m:Tj,X:kj,S:Dj,M:jj};function Pj(){var a=La.f(),o=xf();return a||o}function Ej(a){var o=Wn(a);o!==null&&o.tag===5&&o.type==="form"?iS(o):La.r(a)}var Rs=typeof document>"u"?null:document;function U1(a,o,l){var f=Rs;if(f&&typeof o=="string"&&o){var g=Sn(o);g='link[rel="'+a+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),B1.has(g)||(B1.add(g),a={rel:a,crossOrigin:l,href:o},f.querySelector(g)===null&&(o=f.createElement("link"),pn(o,"link",a),Nt(o),f.head.appendChild(o)))}}function wj(a){La.D(a),U1("dns-prefetch",a,null)}function _j(a,o){La.C(a,o),U1("preconnect",a,o)}function Oj(a,o,l){La.L(a,o,l);var f=Rs;if(f&&a&&o){var g='link[rel="preload"][as="'+Sn(o)+'"]';o==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Sn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Sn(l.imageSizes)+'"]')):g+='[href="'+Sn(a)+'"]';var b=g;switch(o){case"style":b=Is(a);break;case"script":b=Ls(a)}Cr.has(b)||(a=p({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:a,as:o},l),Cr.set(b,a),f.querySelector(g)!==null||o==="style"&&f.querySelector(gc(b))||o==="script"&&f.querySelector(yc(b))||(o=f.createElement("link"),pn(o,"link",a),Nt(o),f.head.appendChild(o)))}}function Tj(a,o){La.m(a,o);var l=Rs;if(l&&a){var f=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+Sn(f)+'"][href="'+Sn(a)+'"]',b=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Ls(a)}if(!Cr.has(b)&&(a=p({rel:"modulepreload",href:a},o),Cr.set(b,a),l.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(yc(b)))return}f=l.createElement("link"),pn(f,"link",a),Nt(f),l.head.appendChild(f)}}}function Dj(a,o,l){La.S(a,o,l);var f=Rs;if(f&&a){var g=Qn(f).hoistableStyles,b=Is(a);o=o||"default";var w=g.get(b);if(!w){var T={loading:0,preload:null};if(w=f.querySelector(gc(b)))T.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},l),(l=Cr.get(b))&&qm(a,l);var R=w=f.createElement("link");Nt(R),pn(R,"link",a),R._p=new Promise(function(K,oe){R.onload=K,R.onerror=oe}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Df(w,o,f)}w={type:"stylesheet",instance:w,count:1,state:T},g.set(b,w)}}}function kj(a,o){La.X(a,o);var l=Rs;if(l&&a){var f=Qn(l).hoistableScripts,g=Ls(a),b=f.get(g);b||(b=l.querySelector(yc(g)),b||(a=p({src:a,async:!0},o),(o=Cr.get(g))&&Ym(a,o),b=l.createElement("script"),Nt(b),pn(b,"link",a),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(g,b))}}function jj(a,o){La.M(a,o);var l=Rs;if(l&&a){var f=Qn(l).hoistableScripts,g=Ls(a),b=f.get(g);b||(b=l.querySelector(yc(g)),b||(a=p({src:a,async:!0,type:"module"},o),(o=Cr.get(g))&&Ym(a,o),b=l.createElement("script"),Nt(b),pn(b,"link",a),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(g,b))}}function z1(a,o,l,f){var g=(g=se.current)?Tf(g):null;if(!g)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=Is(l.href),l=Qn(g).hoistableStyles,f=l.get(o),f||(f={type:"style",instance:null,count:0,state:null},l.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=Is(l.href);var b=Qn(g).hoistableStyles,w=b.get(a);if(w||(g=g.ownerDocument||g,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,w),(b=g.querySelector(gc(a)))&&!b._p&&(w.instance=b,w.state.loading=5),Cr.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Cr.set(a,l),b||Nj(g,a,l,w.state))),o&&f===null)throw Error(r(528,""));return w}if(o&&f!==null)throw Error(r(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ls(l),l=Qn(g).hoistableScripts,f=l.get(o),f||(f={type:"script",instance:null,count:0,state:null},l.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Is(a){return'href="'+Sn(a)+'"'}function gc(a){return'link[rel="stylesheet"]['+a+"]"}function G1(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function Nj(a,o,l,f){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=a.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),pn(o,"link",l),Nt(o),a.head.appendChild(o))}function Ls(a){return'[src="'+Sn(a)+'"]'}function yc(a){return"script[async]"+a}function H1(a,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var f=a.querySelector('style[data-href~="'+Sn(l.href)+'"]');if(f)return o.instance=f,Nt(f),f;var g=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),Nt(f),pn(f,"style",g),Df(f,l.precedence,a),o.instance=f;case"stylesheet":g=Is(l.href);var b=a.querySelector(gc(g));if(b)return o.state.loading|=4,o.instance=b,Nt(b),b;f=G1(l),(g=Cr.get(g))&&qm(f,g),b=(a.ownerDocument||a).createElement("link"),Nt(b);var w=b;return w._p=new Promise(function(T,R){w.onload=T,w.onerror=R}),pn(b,"link",f),o.state.loading|=4,Df(b,l.precedence,a),o.instance=b;case"script":return b=Ls(l.src),(g=a.querySelector(yc(b)))?(o.instance=g,Nt(g),g):(f=l,(g=Cr.get(b))&&(f=p({},l),Ym(f,g)),a=a.ownerDocument||a,g=a.createElement("script"),Nt(g),pn(g,"link",f),a.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,Df(f,l.precedence,a));return o.instance}function Df(a,o,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,b=g,w=0;w<f.length;w++){var T=f[w];if(T.dataset.precedence===o)b=T;else if(b!==g)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(a,o.firstChild))}function qm(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Ym(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var kf=null;function q1(a,o,l){if(kf===null){var f=new Map,g=kf=new Map;g.set(l,f)}else g=kf,f=g.get(l),f||(f=new Map,g.set(l,f));if(f.has(a))return f;for(f.set(a,null),l=l.getElementsByTagName(a),g=0;g<l.length;g++){var b=l[g];if(!(b[Jo]||b[$t]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var w=b.getAttribute(o)||"";w=a+w;var T=f.get(w);T?T.push(b):f.set(w,[b])}}return f}function Y1(a,o,l){a=a.ownerDocument||a,a.head.insertBefore(l,o==="title"?a.querySelector("head > title"):null)}function Mj(a,o,l){if(l===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function F1(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var vc=null;function Rj(){}function Ij(a,o,l){if(vc===null)throw Error(r(475));var f=vc;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=Is(l.href),b=a.querySelector(gc(g));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(f.count++,f=jf.bind(f),a.then(f,f)),o.state.loading|=4,o.instance=b,Nt(b);return}b=a.ownerDocument||a,l=G1(l),(g=Cr.get(g))&&qm(l,g),b=b.createElement("link"),Nt(b);var w=b;w._p=new Promise(function(T,R){w.onload=T,w.onerror=R}),pn(b,"link",l),o.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=jf.bind(f),a.addEventListener("load",o),a.addEventListener("error",o))}}function Lj(){if(vc===null)throw Error(r(475));var a=vc;return a.stylesheets&&a.count===0&&Fm(a,a.stylesheets),0<a.count?function(o){var l=setTimeout(function(){if(a.stylesheets&&Fm(a,a.stylesheets),a.unsuspend){var f=a.unsuspend;a.unsuspend=null,f()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(l)}}:null}function jf(){if(this.count--,this.count===0){if(this.stylesheets)Fm(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Nf=null;function Fm(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Nf=new Map,o.forEach($j,a),Nf=null,jf.call(a))}function $j(a,o){if(!(o.state.loading&4)){var l=Nf.get(a);if(l)var f=l.get(null);else{l=new Map,Nf.set(a,l);for(var g=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var w=g[b];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),f=w)}f&&l.set(null,f)}g=o.instance,w=g.getAttribute("data-precedence"),b=l.get(w)||f,b===f&&l.set(null,g),l.set(w,g),this.count++,f=jf.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),b?b.parentNode.insertBefore(g,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(g,a.firstChild)),o.state.loading|=4}}var bc={$$typeof:O,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function Bj(a,o,l,f,g,b,w,T){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function K1(a,o,l,f,g,b,w,T,R,K,oe,fe){return a=new Bj(a,o,l,w,T,R,K,fe),o=1,b===!0&&(o|=24),b=Zn(3,null,null,o),a.current=b,b.stateNode=a,o=_p(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:f,isDehydrated:l,cache:o},kp(b),a}function V1(a){return a?(a=ps,a):ps}function X1(a,o,l,f,g,b){g=V1(g),f.context===null?f.context=g:f.pendingContext=g,f=fi(o),f.payload={element:l},b=b===void 0?null:b,b!==null&&(f.callback=b),l=di(a,f,o),l!==null&&(rr(l,a,o),Xl(l,a,o))}function W1(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<o?l:o}}function Km(a,o){W1(a,o),(a=a.alternate)&&W1(a,o)}function Q1(a){if(a.tag===13){var o=hs(a,67108864);o!==null&&rr(o,a,67108864),Km(a,67108864)}}var Mf=!0;function Uj(a,o,l,f){var g=U.T;U.T=null;var b=ae.p;try{ae.p=2,Vm(a,o,l,f)}finally{ae.p=b,U.T=g}}function zj(a,o,l,f){var g=U.T;U.T=null;var b=ae.p;try{ae.p=8,Vm(a,o,l,f)}finally{ae.p=b,U.T=g}}function Vm(a,o,l,f){if(Mf){var g=Xm(f);if(g===null)Rm(a,o,f,Rf,l),J1(a,f);else if(Hj(g,a,o,l,f))f.stopPropagation();else if(J1(a,f),o&4&&-1<Gj.indexOf(a)){for(;g!==null;){var b=Wn(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var w=hr(b.pendingLanes);if(w!==0){var T=b;for(T.pendingLanes|=2,T.entangledLanes|=2;w;){var R=1<<31-vn(w);T.entanglements[1]|=R,w&=~R}oa(b),(at&6)===0&&(vf=Be()+500,dc(0))}}break;case 13:T=hs(b,2),T!==null&&rr(T,b,2),xf(),Km(b,2)}if(b=Xm(f),b===null&&Rm(a,o,f,Rf,l),b===g)break;g=b}g!==null&&f.stopPropagation()}else Rm(a,o,f,null,l)}}function Xm(a){return a=kl(a),Wm(a)}var Rf=null;function Wm(a){if(Rf=null,a=$r(a),a!==null){var o=s(a);if(o===null)a=null;else{var l=o.tag;if(l===13){if(a=c(o),a!==null)return a;a=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Rf=a,null}function Z1(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(da()){case ti:return 2;case ni:return 8;case vl:case Pe:return 32;case Ie:return 268435456;default:return 32}default:return 32}}var Qm=!1,Ei=null,wi=null,_i=null,xc=new Map,Sc=new Map,Oi=[],Gj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J1(a,o){switch(a){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":xc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(o.pointerId)}}function Ac(a,o,l,f,g,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:l,eventSystemFlags:f,nativeEvent:b,targetContainers:[g]},o!==null&&(o=Wn(o),o!==null&&Q1(o)),a):(a.eventSystemFlags|=f,o=a.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),a)}function Hj(a,o,l,f,g){switch(o){case"focusin":return Ei=Ac(Ei,a,o,l,f,g),!0;case"dragenter":return wi=Ac(wi,a,o,l,f,g),!0;case"mouseover":return _i=Ac(_i,a,o,l,f,g),!0;case"pointerover":var b=g.pointerId;return xc.set(b,Ac(xc.get(b)||null,a,o,l,f,g)),!0;case"gotpointercapture":return b=g.pointerId,Sc.set(b,Ac(Sc.get(b)||null,a,o,l,f,g)),!0}return!1}function eA(a){var o=$r(a.target);if(o!==null){var l=s(o);if(l!==null){if(o=l.tag,o===13){if(o=c(l),o!==null){a.blockedOn=o,Al(a.priority,function(){if(l.tag===13){var f=nr();f=Qo(f);var g=hs(l,f);g!==null&&rr(g,l,f),Km(l,f)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function If(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var l=Xm(a.nativeEvent);if(l===null){l=a.nativeEvent;var f=new l.constructor(l.type,l);Sa=f,l.target.dispatchEvent(f),Sa=null}else return o=Wn(l),o!==null&&Q1(o),a.blockedOn=l,!1;o.shift()}return!0}function tA(a,o,l){If(a)&&l.delete(o)}function qj(){Qm=!1,Ei!==null&&If(Ei)&&(Ei=null),wi!==null&&If(wi)&&(wi=null),_i!==null&&If(_i)&&(_i=null),xc.forEach(tA),Sc.forEach(tA)}function Lf(a,o){a.blockedOn===o&&(a.blockedOn=null,Qm||(Qm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qj)))}var $f=null;function nA(a){$f!==a&&($f=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){$f===a&&($f=null);for(var o=0;o<a.length;o+=3){var l=a[o],f=a[o+1],g=a[o+2];if(typeof f!="function"){if(Wm(f||l)===null)continue;break}var b=Wn(l);b!==null&&(a.splice(o,3),o-=3,Wp(b,{pending:!0,data:g,method:l.method,action:f},f,g))}}))}function Cc(a){function o(R){return Lf(R,a)}Ei!==null&&Lf(Ei,a),wi!==null&&Lf(wi,a),_i!==null&&Lf(_i,a),xc.forEach(o),Sc.forEach(o);for(var l=0;l<Oi.length;l++){var f=Oi[l];f.blockedOn===a&&(f.blockedOn=null)}for(;0<Oi.length&&(l=Oi[0],l.blockedOn===null);)eA(l),l.blockedOn===null&&Oi.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var g=l[f],b=l[f+1],w=g[bn]||null;if(typeof b=="function")w||nA(l);else if(w){var T=null;if(b&&b.hasAttribute("formAction")){if(g=b,w=b[bn]||null)T=w.formAction;else if(Wm(g)!==null)continue}else T=w.action;typeof T=="function"?l[f+1]=T:(l.splice(f,3),f-=3),nA(l)}}}function Zm(a){this._internalRoot=a}Bf.prototype.render=Zm.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var l=o.current,f=nr();X1(l,f,a,o,null,null)},Bf.prototype.unmount=Zm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;X1(a.current,2,null,a,null,null),xf(),o[ma]=null}};function Bf(a){this._internalRoot=a}Bf.prototype.unstable_scheduleHydration=function(a){if(a){var o=Sl();a={blockedOn:null,target:a,priority:o};for(var l=0;l<Oi.length&&o!==0&&o<Oi[l].priority;l++);Oi.splice(l,0,a),l===0&&eA(a)}};var rA=t.version;if(rA!=="19.1.1")throw Error(r(527,rA,"19.1.1"));ae.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(o),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var Yj={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uf.isDisabled&&Uf.supportsFiber)try{ze=Uf.inject(Yj),Ye=Uf}catch{}}return Ec.createRoot=function(a,o){if(!i(a))throw Error(r(299));var l=!1,f="",g=bS,b=xS,w=SS,T=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(T=o.unstable_transitionCallbacks)),o=K1(a,1,!1,null,null,l,f,g,b,w,T,null),a[ma]=o.current,Mm(a),new Zm(o)},Ec.hydrateRoot=function(a,o,l){if(!i(a))throw Error(r(299));var f=!1,g="",b=bS,w=xS,T=SS,R=null,K=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(R=l.unstable_transitionCallbacks),l.formState!==void 0&&(K=l.formState)),o=K1(a,1,!0,o,l??null,f,g,b,w,T,R,K),o.context=V1(null),l=o.current,f=nr(),f=Qo(f),g=fi(f),g.callback=null,di(l,g,f),l=f,o.current.lanes=l,Xn(o,l),oa(o),a[ma]=o.current,Mm(a),new Bf(o)},Ec.version="19.1.1",Ec}var hA;function tN(){if(hA)return tg.exports;hA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tg.exports=eN(),tg.exports}var nN=tN();const rN=qr(nN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),pA=e=>{const t=iN(e);return t.charAt(0).toUpperCase()+t.slice(1)},zw=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),oN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:c,...u},d)=>C.createElement("svg",{ref:d,...sN,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:zw("lucide",i),...!s&&!oN(u)&&{"aria-hidden":"true"},...u},[...c.map(([h,p])=>C.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(e,t)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement(lN,{ref:s,iconNode:t,className:zw(`lucide-${aN(pA(e))}`,`lucide-${e}`,r),...i}));return n.displayName=pA(e),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],qc=ht("bolt",cN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]],fN=ht("bomb",uN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hN=ht("check",dN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],mA=ht("chevron-right",pN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$c=ht("chevron-up",mN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yN=ht("clock",gN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Gw=ht("copy",vN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],gA=ht("cpu",bN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],SN=ht("download",xN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yA=ht("eye",AN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]],PN=ht("gamepad",CN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],wN=ht("hand",EN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],To=ht("loader-circle",_N);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Gy=ht("rocket",ON);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],DN=ht("rotate-ccw",TN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jN=ht("settings",kN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ad=ht("shield-check",NN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ig=ht("shield",MN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],IN=ht("skull",RN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],Hy=ht("sword",LN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],BN=ht("target",$N);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],zN=ht("upload",UN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],HN=ht("user",GN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],YN=ht("users",qN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],KN=ht("wifi-off",FN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],vA=ht("wifi",VN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],bA=ht("wrench",XN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],il=ht("x",WN),Tn=[{name:"Scout Drone",class:1,limit:3,attack:1,hull:1,shields:1,speed:5,image:"/img/Scout.png",abilities:[],upgradeSlots:2},{name:"Standard Fighter",class:2,limit:3,attack:3,hull:2,shields:1,speed:4,image:"/img/StandardFighter.png",abilities:[],upgradeSlots:2},{name:"Heavy Fighter",class:3,limit:2,attack:4,hull:4,shields:1,speed:3,image:"/img/HeavyFighter.png",abilities:[],upgradeSlots:2},{name:"Guardian Drone",class:3,limit:2,attack:1,hull:5,shields:1,speed:1,image:"/img/Guardian.png",abilities:[{name:"Guardian Protocol",description:"The ship section in this lane cannot be targeted by attacks while this drone is active.",type:"PASSIVE",icon:ig,effect:{type:"GRANT_KEYWORD",keyword:"GUARDIAN"}}],upgradeSlots:2},{name:"Bomber",class:3,limit:3,attack:1,hull:2,shields:1,speed:1,image:"/img/Bomber.png",abilities:[{name:"Tachyon Warhead",description:"Deals +5 damage when attacking an enemy ship section.",type:"PASSIVE",icon:fN,effect:{type:"BONUS_DAMAGE_VS_SHIP",value:4}}],upgradeSlots:2},{name:"Repair Drone",class:1,limit:2,attack:0,hull:1,shields:3,speed:2,image:"/img/Repair.png",abilities:[{name:"Hull Repair",description:"Pay 1 Energy and exhaust to restore 3 hull to a damaged friendly drone in the same lane.",type:"ACTIVE",icon:bA,targeting:{type:"DRONE",affinity:"FRIENDLY",location:"SAME_LANE",custom:["DAMAGED_HULL"]},effect:{type:"HEAL",value:3},cost:{energy:1,exhausts:!0}}],upgradeSlots:2},{name:"Interceptor",class:3,limit:3,attack:1,hull:4,shields:0,speed:2,image:"/img/Interceptor.png",abilities:[{name:"Vigilant",description:"Can always intercept attacks in this lane, regardless of speed.",type:"PASSIVE",icon:ad,effect:{type:"GRANT_KEYWORD",keyword:"ALWAYS_INTERCEPTS"}},{name:"Defender",description:"Does not exhaust when intercepting.",type:"PASSIVE",icon:ig,effect:{type:"GRANT_KEYWORD",keyword:"DEFENDER"}}],upgradeSlots:2},{name:"Aegis Drone",class:3,limit:2,attack:1,hull:2,shields:2,speed:2,image:"/img/Aegis.png",abilities:[{name:"Shield Harmonizer",description:"Other friendly drones in this lane gain +1 max shields.",type:"PASSIVE",icon:ig,scope:"FRIENDLY_IN_LANE",effect:{type:"MODIFY_STAT",stat:"shields",value:1}}],upgradeSlots:2},{name:"Kamikaze Drone",class:1,limit:4,attack:3,hull:1,shields:0,speed:3,image:"/img/Kamikaze.png",abilities:[{name:"Self-Destruct",description:"This drone is destroyed after it attacks.",type:"PASSIVE",icon:IN,effect:{type:"AFTER_ATTACK",subEffect:{type:"DESTROY_SELF"}}}],upgradeSlots:2},{name:"Swarm Drone",class:0,limit:3,attack:1,hull:1,shields:0,speed:3,image:"/img/Swarm.png",abilities:[],upgradeSlots:3},{name:"Sniper Drone",class:4,limit:2,attack:1,hull:1,shields:0,speed:2,image:"/img/Sniper.png",abilities:[{name:"Long-Range Shot",description:"Pay 1 Energy and exhaust to deal 4 damage to an enemy drone in any lane.",type:"ACTIVE",icon:BN,targeting:{type:"DRONE",affinity:"ENEMY",location:"ANY_LANE"},effect:{type:"DAMAGE",value:4},cost:{energy:1,exhausts:!0}}],upgradeSlots:2},{name:"Sabot Drone",class:3,limit:2,attack:2,hull:3,shields:1,speed:2,image:"/img/Sabot.png",abilities:[{name:"Piercing",description:"Damage ignores enemy shields.",type:"PASSIVE",effect:{type:"GRANT_KEYWORD",keyword:"PIERCING"}}],upgradeSlots:2},{name:"Avenger Drone",class:1,limit:2,attack:1,hull:1,shields:1,speed:3,image:"/img/Avenger.png",abilities:[{name:"Vengeance Protocol",description:"Gains +3 attack if the friendly ship section in this lane has taken hull damage.",type:"PASSIVE",icon:Hy,effect:{type:"CONDITIONAL_MODIFY_STAT",mod:{stat:"attack",value:3},condition:{type:"SHIP_SECTION_HULL_DAMAGED",location:"SAME_LANE"}}}],upgradeSlots:2},{name:"Gladiator",class:2,limit:2,attack:2,hull:2,shields:2,speed:3,image:"/img/Gladiator.png",abilities:[{name:"Veteran Instincts",description:"Gains +1 attack permanently after it attacks.",type:"PASSIVE",icon:$c,effect:{type:"AFTER_ATTACK",subEffect:{type:"PERMANENT_STAT_MOD",mod:{stat:"attack",value:1,type:"permanent"}}}}],upgradeSlots:2},{name:"Vindicator Drone",class:1,limit:3,attack:1,hull:1,shields:1,speed:3,image:"/img/Vindicator.png",abilities:[{name:"Retribution",description:"Gains +1 attack for each of your damaged or critical ship sections.",type:"PASSIVE",icon:Hy,effect:{type:"CONDITIONAL_MODIFY_STAT_SCALING",mod:{stat:"attack",value:1},condition:{type:"OWN_DAMAGED_SECTIONS"}}}],upgradeSlots:2},{name:"Skirmisher Drone",class:1,limit:3,attack:1,hull:1,shields:1,speed:1,image:"/img/Skirmisher.png",abilities:[{name:"Flanking",description:"Gains +1 attack and +2 speed while in an outer lane (Lane 1 or Lane 3).",type:"PASSIVE",icon:mA,effect:{type:"FLANKING_BONUS",mods:[{stat:"attack",value:1},{stat:"speed",value:2}]}}],upgradeSlots:2},{name:"Phase Jumper",class:1,limit:3,attack:1,hull:1,shields:1,speed:1,image:"/img/PhaseJumper.png",abilities:[{name:"Phase Shift",description:"After this drone moves, permanently gain +1 Attack and +1 Speed.",type:"TRIGGERED",trigger:"ON_MOVE",icon:mA,effects:[{type:"PERMANENT_STAT_MOD",mod:{stat:"attack",value:1,type:"permanent"}},{type:"PERMANENT_STAT_MOD",mod:{stat:"speed",value:1,type:"permanent"}}]}],upgradeSlots:2},{name:"Nano Repair Drone",class:1,limit:2,attack:0,hull:1,shields:3,speed:2,image:"/img/NanoRepair.png",abilities:[{name:"Nano Repair Swarm",description:"Pay 1 Energy and exhaust to restore 1 hull to all damaged friendly drones in the same lane.",type:"ACTIVE",icon:bA,targeting:{type:"LANE",affinity:"FRIENDLY",location:"SAME_LANE"},effect:{type:"HEAL",value:1,scope:"LANE"},cost:{energy:1,exhausts:!0}}],upgradeSlots:2}],QN=[{id:"CARD001",baseCardId:"CARD001",name:"Laser Blast",maxInDeck:4,type:"Action",cost:3,image:"/cards/LaserBlast.png",description:"Deal 3 damage to any drone.",targeting:{type:"DRONE",affinity:"ANY",location:"ANY_LANE"},effect:{type:"DAMAGE",value:3}},{id:"CARD001_ENHANCED",baseCardId:"CARD001",name:"Laser Blast+",maxInDeck:4,type:"Action",cost:2,image:"/cards/LaserBlast.png",description:"Deal 4 damage to any drone.",targeting:{type:"DRONE",affinity:"ANY",location:"ANY_LANE"},effect:{type:"DAMAGE",value:4}},{id:"CARD002",baseCardId:"CARD002",name:"System Reboot",maxInDeck:4,type:"Action",cost:1,image:"/cards/Reboot.png",description:"Draw 2 cards from your deck. Go again.",effect:{type:"DRAW",value:2,goAgain:!0}},{id:"CARD002_ENHANCED",baseCardId:"CARD002",name:"System Reboot+",maxInDeck:4,type:"Action",cost:2,image:"/cards/Reboot.png",description:"Draw 3 cards from your deck Go again.",effect:{type:"DRAW",value:3,goAgain:!0}},{id:"CARD003",baseCardId:"CARD003",name:"Out Think",maxInDeck:4,type:"Action",cost:1,image:"/cards/OutThink.png",description:"Draw 1 card.",effect:{type:"DRAW",value:1}},{id:"CARD004",baseCardId:"CARD004",name:"Energy Surge",maxInDeck:4,type:"Action",cost:0,image:"/cards/EnergySurge.png",description:"Gain 2 Energy. Go again",effect:{type:"GAIN_ENERGY",value:2,goAgain:!0}},{id:"CARD004_ENHANCED",baseCardId:"CARD004",name:"Energy Surge+",maxInDeck:4,type:"Action",cost:0,image:"/cards/EnergySurge.png",description:"Gain 3 Energy. Go again.",effect:{type:"GAIN_ENERGY",value:3,goAgain:!0}},{id:"CARD005",baseCardId:"CARD005",name:"Adrenaline Rush",maxInDeck:4,type:"Action",cost:2,image:"/cards/AdrenalineRush.png",description:"Ready an exhausted friendly drone.",targeting:{type:"DRONE",affinity:"FRIENDLY",location:"ANY_LANE",custom:["EXHAUSTED"]},effect:{type:"READY_DRONE"}},{id:"CARD005_ENHANCED",baseCardId:"CARD005",name:"Adrenaline Rush+",maxInDeck:4,type:"Action",cost:3,image:"/cards/AdrenalineRush.png",description:"Ready an exhausted friendly drone. Go again",targeting:{type:"DRONE",affinity:"FRIENDLY",location:"ANY_LANE",custom:["EXHAUSTED"]},effect:{type:"READY_DRONE",goAgain:!0}},{id:"CARD006",baseCardId:"CARD006",name:"Nanobot Repair",maxInDeck:4,type:"Action",cost:1,image:"/cards/NanobotRepair.png",description:"Restore 3 hull to a friendly drone. Cannot exceed its maximum hull. Go again.",targeting:{type:"DRONE",affinity:"FRIENDLY",location:"ANY_LANE"},effect:{type:"HEAL_HULL",value:3,goAgain:!0}},{id:"CARD007",baseCardId:"CARD007",name:"Emergency Patch",maxInDeck:4,type:"Action",cost:3,image:"/cards/EmergencyPatch.png",description:"Restore 4 hull to one of your ship sections.",targeting:{type:"SHIP_SECTION",affinity:"FRIENDLY"},effect:{type:"HEAL_HULL",value:4}},{id:"CARD007_ENHANCED",baseCardId:"CARD007",name:"Emergency Patch+",maxInDeck:4,type:"Action",cost:3,image:"/cards/EmergencyPatch.png",description:"Restore 5 hull to one of your ship sections.",targeting:{type:"SHIP_SECTION",affinity:"FRIENDLY"},effect:{type:"HEAL_HULL",value:5}},{id:"CARD008",baseCardId:"CARD008",name:"Shield Recharge",maxInDeck:4,type:"Action",cost:1,image:"/cards/ShieldRecharge.png",description:"Restore 2 shield to all friendly drones in a target lane. Go again.",targeting:{type:"LANE",affinity:"FRIENDLY"},effect:{type:"HEAL_SHIELDS",value:2,goAgain:!0}},{id:"CARD009",baseCardId:"CARD009",name:"Target Lock",maxInDeck:4,type:"Action",cost:5,image:"/cards/TargetLock.png",description:"Destroy a single target drone.",targeting:{type:"DRONE",affinity:"ANY",location:"ANY_LANE"},effect:{type:"DESTROY",scope:"SINGLE"}},{id:"CARD010",baseCardId:"CARD010",name:"Shrieker Missiles",maxInDeck:4,type:"Action",cost:4,image:"/cards/ShriekerMissiles.png",description:"Destroy all enemy drones with a speed of 5 or higher in a selected lane.",targeting:{type:"LANE",affinity:"ENEMY"},effect:{type:"DESTROY",scope:"FILTERED",filter:{stat:"speed",comparison:"GTE",value:5}}},{id:"CARD011",baseCardId:"CARD011",name:"Nuke",maxInDeck:2,type:"Action",cost:7,image:"/cards/Nuke.png",description:"Destroy ALL drones in a selected lane (both sides).",targeting:{type:"LANE",affinity:"ANY"},effect:{type:"DESTROY",scope:"LANE"}},{id:"CARD012",baseCardId:"CARD012",name:"Piercing Shot",maxInDeck:4,type:"Action",cost:4,image:"/cards/PiercingShot.png",description:"Deal 2 piercing damage to any drone. (Piercing damage ignores shields).",targeting:{type:"DRONE",affinity:"ANY",location:"ANY_LANE"},effect:{type:"DAMAGE",value:2,damageType:"PIERCING"}},{id:"CARD012_ENHANCED",baseCardId:"CARD012",name:"Piercing Shot+",maxInDeck:4,type:"Action",cost:3,image:"/cards/PiercingShot.png",description:"Deal 2 piercing damage to any drone. (Piercing damage ignores shields).",targeting:{type:"DRONE",affinity:"ANY",location:"ANY_LANE"},effect:{type:"DAMAGE",value:2,damageType:"PIERCING"}},{id:"CARD013",baseCardId:"CARD013",name:"Sidewinder Missiles",maxInDeck:4,type:"Action",cost:3,image:"/cards/SidewinderMissiles.png",description:"Deal 2 damage to all enemy drones with a speed of 3 or Less in a selected lane.",targeting:{type:"LANE",affinity:"ENEMY"},effect:{type:"DAMAGE",value:2,scope:"FILTERED",filter:{stat:"speed",comparison:"LTE",value:3}}},{id:"CARD014",baseCardId:"CARD014",name:"Overcharge",maxInDeck:4,type:"Action",cost:0,image:"/cards/Overcharge.png",description:"Give a friendly drone +2 attack until the end of the turn.",targeting:{type:"DRONE",affinity:"FRIENDLY",location:"ANY_LANE"},effect:{type:"MODIFY_STAT",mod:{stat:"attack",value:2,type:"temporary"}}},{id:"CARD015",baseCardId:"CARD015",name:"Streamline",maxInDeck:4,type:"Action",cost:2,image:"/cards/Streamline.png",description:"Give all friendly drones in a line a permanent +1 speed bonus. Go again.",targeting:{type:"LANE",affinity:"FRIENDLY",location:"ANY_LANE"},effect:{type:"MODIFY_STAT",mod:{stat:"speed",value:1,type:"permanent"},goAgain:!0}},{id:"CARD016",baseCardId:"CARD016",name:"Static Field",maxInDeck:4,type:"Action",cost:1,image:"/cards/StaticField.png",description:"Give an enemy drone -2 attack until the end of the turn. Go again.",targeting:{type:"DRONE",affinity:"ENEMY",location:"ANY_LANE"},effect:{type:"MODIFY_STAT",mod:{stat:"attack",value:-2,type:"temporary"},goAgain:!0}},{id:"CARD017",baseCardId:"CARD017",name:"Boosters",maxInDeck:4,type:"Action",cost:1,image:"/cards/Boosters.png",description:"Give a friendly drone +2 speed until the end of the turn.",targeting:{type:"DRONE",affinity:"FRIENDLY",location:"ANY_LANE"},effect:{type:"MODIFY_STAT",mod:{stat:"speed",value:2,type:"temporary"}}},{id:"CARD018",baseCardId:"CARD018",name:"Desperate Measures",maxInDeck:4,type:"Action",cost:1,image:"/cards/DesperateMeasures.png",description:"Draw 1 card and gain 1 Energy. Repeat this effect for each of your damaged or critical ship sections.",effect:{type:"REPEATING_EFFECT",effects:[{type:"DRAW",value:1},{type:"GAIN_ENERGY",value:1}],condition:"OWN_DAMAGED_SECTIONS",goAgain:!0}},{id:"CARD019",baseCardId:"CARD019",name:"Reposition",maxInDeck:4,type:"Action",cost:1,image:"/cards/Reposition.png",description:"Select a lane. Move up to 3 friendly drones from that lane to another. The moved drones are not exhausted.",effect:{type:"MULTI_MOVE",count:3,source:{location:"SAME_LANE",affinity:"FRIENDLY"},destination:{affinity:"FRIENDLY"},properties:["DO_NOT_EXHAUST"]}},{id:"CARD020",baseCardId:"CARD020",name:"Slimline Bodywork",maxInDeck:2,type:"Upgrade",cost:3,image:"/cards/SlimlineBodywork.png",description:"Permanently increase the deployment limit of a target drone type by 1. Go again.",targeting:{type:"DRONE_CARD"},effect:{type:"MODIFY_DRONE_BASE",mod:{stat:"limit",value:1},goAgain:!0},maxApplications:1},{id:"CARD021",baseCardId:"CARD021",name:"Overclocked Thrusters",maxInDeck:2,type:"Upgrade",cost:3,image:"/cards/OverclockedThrusters.png",description:"Permanently grant all drones of a target type +1 Speed.",targeting:{type:"DRONE_CARD"},effect:{type:"MODIFY_DRONE_BASE",mod:{stat:"speed",value:1}},maxApplications:2},{id:"CARD022",baseCardId:"CARD022",name:"System Sabotage",maxInDeck:4,type:"Action",cost:1,image:"/cards/SystemSabotage.png",description:"Destroy a single applied Upgrade on an enemy drone type.",targeting:{type:"APPLIED_UPGRADE",affinity:"ENEMY"},effect:{type:"DESTROY_UPGRADE"}},{id:"CARD023",baseCardId:"CARD023",name:"Maneuver",maxInDeck:4,type:"Action",cost:1,image:"/cards/Maneuver.png",description:"Move a friendly drone to an adjacent lane. The drone is not exhausted by this move. Go again.",effect:{type:"SINGLE_MOVE",properties:["DO_NOT_EXHAUST"],goAgain:!0}},{id:"CARD023_ENHANCED",baseCardId:"CARD023",name:"Maneuver+",maxInDeck:4,type:"Action",cost:0,image:"/cards/Maneuver.png",description:"Move a friendly drone to an adjacent lane. The drone is not exhausted by this move. Go again.",effect:{type:"SINGLE_MOVE",properties:["DO_NOT_EXHAUST"],goAgain:!0}},{id:"CARD022",baseCardId:"CARD022",name:"Combat Enhancement",maxInDeck:2,type:"Upgrade",cost:5,image:"/cards/CombatEnhancement.png",description:"Permanently increase the attack of all drones of a target type by 1.",targeting:{type:"DRONE_CARD"},effect:{type:"MODIFY_DRONE_BASE",mod:{stat:"attack",value:1}},maxApplications:2},{id:"CARD023",baseCardId:"CARD023",name:"Shield Amplifier",maxInDeck:2,type:"Upgrade",cost:4,image:"/cards/ShieldAmplifier.png",description:"Permanently increase the shields of all drones of a target type by 1.",targeting:{type:"DRONE_CARD"},effect:{type:"MODIFY_DRONE_BASE",mod:{stat:"shields",value:1}},maxApplications:2},{id:"CARD024",baseCardId:"CARD024",name:"Piercing Rounds",maxInDeck:1,type:"Upgrade",cost:6,image:"/cards/PiercingRounds.png",description:"Permanently grant all drones of a target type the Piercing keyword.",targeting:{type:"DRONE_CARD"},effect:{type:"MODIFY_DRONE_BASE",mod:{stat:"ability",abilityToAdd:{name:"Piercing",type:"PASSIVE",effect:{type:"GRANT_KEYWORD",keyword:"PIERCING"}}}},maxApplications:1},{id:"CARD025",baseCardId:"CARD025",name:"Strategic Planning",maxInDeck:4,type:"Action",cost:2,image:"/cards/StrategicPlanning.png",description:"Look at the top 5 cards of your deck and draw 1. Shuffle your deck.",effect:{type:"SEARCH_AND_DRAW",searchCount:5,drawCount:1,shuffleAfter:!0}},{id:"CARD026",baseCardId:"CARD026",name:"Equipment Cache",maxInDeck:4,type:"Action",cost:4,image:"/cards/EquipmentCache.png",description:"Search your deck for an Upgrade card and add it to your hand. Shuffle your deck.",effect:{type:"SEARCH_AND_DRAW",searchCount:999,drawCount:1,shuffleAfter:!0,filter:{type:"Upgrade"}}},{id:"CARD027",baseCardId:"CARD027",name:"Efficiency Module",maxInDeck:2,type:"Upgrade",cost:4,image:"/cards/EfficiencyModule.png",description:"Permanently reduce the deployment cost of all drones of a target type by 1.",targeting:{type:"DRONE_CARD"},effect:{type:"MODIFY_DRONE_BASE",mod:{stat:"cost",value:-1}},maxApplications:1}],xA={bridge:{hull:10,maxHull:10,shields:3,allocatedShields:3,description:"The command center of your ship.",thresholds:{damaged:5,critical:0},stats:{healthy:{Draw:5,Discard:3},damaged:{Draw:5,Discard:2},critical:{Draw:4,Discard:1}},middleLaneBonus:{Draw:1,Discard:1},image:"/img/Bridge.png",ability:{id:"ABILITY_SHIP_01",name:"Recalculate",description:"Draw a card, then discard a card.",cost:{energy:1},targeting:null,effect:{type:"DRAW_THEN_DISCARD",value:{draw:1,discard:1}}}},powerCell:{hull:10,maxHull:10,shields:3,allocatedShields:3,description:"Generates energy to power your abilities.",thresholds:{damaged:5,critical:0},stats:{healthy:{"Energy Per Turn":10,"Max Energy":10,"Shields Per Turn":3},damaged:{"Energy Per Turn":10,"Max Energy":10,"Shields Per Turn":2},critical:{"Energy Per Turn":9,"Max Energy":9,"Shields Per Turn":1}},middleLaneBonus:{"Energy Per Turn":2,"Max Energy":2,"Shields Per Turn":1},image:"/img/Power_Cell.png",ability:{id:"ABILITY_SHIP_02",name:"Reallocate Shields",description:"Take up to 2 shields from your ship sections and redeploy them elsewhere.",cost:{energy:1},targeting:null,effect:{type:"REALLOCATE_SHIELDS",value:{maxShields:2}}}},droneControlHub:{hull:10,maxHull:10,shields:3,allocatedShields:3,description:"Controls your drone fleet.",thresholds:{damaged:5,critical:0},stats:{healthy:{"Initial Deployment":6,"CPU Control Value":10,"Deployment Budget":3},damaged:{"Initial Deployment":5,"CPU Control Value":10,"Deployment Budget":2},critical:{"Initial Deployment":4,"CPU Control Value":8,"Deployment Budget":2}},middleLaneBonus:{"Initial Deployment":2,"Deployment Budget":2,"CPU Control Value":2},image:"/img/Drone_Control_Hub.png",ability:{id:"ABILITY_SHIP_03",name:"Recall",description:"Return a friendly drone from any lane to your active pool.",cost:{energy:1},targeting:{type:"DRONE",affinity:"FRIENDLY",location:"ANY_LANE"},effect:{type:"RECALL_DRONE",value:1}}}},Ii=e=>e.hull<=e.thresholds.critical?"critical":e.hull<=e.thresholds.damaged?"damaged":"healthy",Wa=(e,t=[])=>{const n={totals:{handLimit:0,discardLimit:0,energyPerTurn:0,maxEnergy:0,shieldsPerTurn:0,initialDeployment:0,deploymentBudget:0,cpuLimit:0},bySection:{}};if(!e||!e.shipSections)return n;const r={};for(const s in e.shipSections){const c=e.shipSections[s],u=Ii(c),d={...c.stats[u]};if(t.indexOf(s)===1&&c.middleLaneBonus)for(const p in c.middleLaneBonus)d.hasOwnProperty(p)&&(d[p]+=c.middleLaneBonus[p]);r[s]=d}const i={handLimit:0,discardLimit:0,energyPerTurn:0,maxEnergy:0,shieldsPerTurn:0,initialDeployment:0,deploymentBudget:0,cpuLimit:0};for(const s of Object.values(r))i.handLimit+=s.Draw||0,i.discardLimit+=s.Discard||0,i.energyPerTurn+=s["Energy Per Turn"]||0,i.maxEnergy+=s["Max Energy"]||0,i.shieldsPerTurn+=s["Shields Per Turn"]||0,i.initialDeployment+=s["Initial Deployment"]||0,i.deploymentBudget+=s["Deployment Budget"]||0,i.cpuLimit+=s["CPU Control Value"]||0;return{totals:i,bySection:r}},Dr=(e,t,n,r,i)=>{if(!e||!t||!n||!r||!i)return{attack:0,speed:0,hull:0,maxShields:0,cost:0,baseAttack:0,baseSpeed:0,baseCost:0,keywords:new Set};const s=Tn.find(y=>y.name===e.name);if(!s)return{...e,baseAttack:e.attack,baseSpeed:e.speed,baseCost:e.class||0,cost:e.class||0,maxShields:0,keywords:new Set};const c=n.appliedUpgrades[e.name]||[];let u=s.attack,d=s.speed,h=s.shields,p=s.class;c.forEach(y=>{y.mod.stat==="attack"&&(u+=y.mod.value),y.mod.stat==="speed"&&(d+=y.mod.value),y.mod.stat==="shields"&&(h+=y.mod.value),y.mod.stat==="cost"&&(p+=y.mod.value)}),p=Math.max(0,p);let m={...e,attack:u,speed:d,maxShields:h,cost:p,baseAttack:s.attack,baseSpeed:s.speed,baseCost:s.class,keywords:new Set};return e.statMods?.forEach(y=>{y.stat==="attack"&&(m.attack+=y.value),y.stat==="speed"&&(m.speed+=y.value),y.stat==="cost"&&(m.cost=Math.max(0,m.cost+y.value))}),s.abilities?.forEach(y=>{if(y.type==="PASSIVE"){if(y.effect.type==="GRANT_KEYWORD"&&m.keywords.add(y.effect.keyword),y.effect.type==="CONDITIONAL_MODIFY_STAT"){const{condition:x,mod:S}=y.effect;let A=!1;if(x.type==="SHIP_SECTION_HULL_DAMAGED"&&x.location==="SAME_LANE"){const P=parseInt(t.slice(-1))-1,_=(n.name==="Player 1"?i.player1:i.player2)[P];if(_){const O=n.shipSections[_],j=Ii(O);(j==="damaged"||j==="critical")&&(A=!0)}}A&&S.stat==="attack"&&(m.attack+=S.value)}if(y.effect.type==="CONDITIONAL_MODIFY_STAT_SCALING"){const{condition:x,mod:S}=y.effect;let A=0;if(x.type==="OWN_DAMAGED_SECTIONS")for(const P in n.shipSections){const E=n.shipSections[P],_=Ii(E);(_==="damaged"||_==="critical")&&A++}A>0&&(S.stat==="attack"&&(m.attack+=S.value*A),S.stat==="speed"&&(m.speed+=S.value*A))}y.effect.type==="BONUS_DAMAGE_VS_SHIP"&&(m.potentialShipDamage=(m.potentialShipDamage||0)+y.effect.value),y.effect.type==="FLANKING_BONUS"&&(t==="lane1"||t==="lane3")&&y.effect.mods.forEach(x=>{x.stat==="attack"&&(m.attack+=x.value),x.stat==="speed"&&(m.speed+=x.value)})}}),n.dronesOnBoard[t]?.forEach(y=>{if(y.id===e.id)return;Tn.find(S=>S.name===y.name)?.abilities?.forEach(S=>{if(S.type==="PASSIVE"&&S.scope==="FRIENDLY_IN_LANE"&&S.effect.type==="MODIFY_STAT"){const{stat:A,value:P}=S.effect;A==="shields"?m.maxShields+=P:A==="attack"?m.attack+=P:A==="speed"&&(m.speed+=P)}})}),c.forEach(y=>{y.grantedAbilities&&y.grantedAbilities.forEach(x=>{if(x.type==="PASSIVE"&&(x.effect.type==="GRANT_KEYWORD"&&m.keywords.add(x.effect.keyword),x.effect.type==="MODIFY_STAT")){const{stat:S,value:A}=x.effect;S==="attack"&&(m.attack+=A),S==="speed"&&(m.speed+=A),S==="shields"&&(m.maxShields+=A)}})}),m},ZN=(e,t)=>({...e,instanceId:t}),Bs=[{id:"CARD018",quantity:4},{id:"CARD019",quantity:2},{id:"CARD009",quantity:2},{id:"CARD007",quantity:2},{id:"CARD012",quantity:2},{id:"CARD005",quantity:4},{id:"CARD006",quantity:2},{id:"CARD015",quantity:2},{id:"CARD008",quantity:2},{id:"CARD001",quantity:2},{id:"CARD002",quantity:4},{id:"CARD003",quantity:4},{id:"CARD004",quantity:4},{id:"CARD016",quantity:4}],Hw=e=>{const t=[];let n=0;return e.forEach(r=>{const i=QN.find(s=>s.id===r.id);if(i)for(let s=0;s<r.quantity;s++)t.push(ZN(i,`card-${Date.now()}-${n++}`))}),t.sort(()=>.5-Math.random())},Xv=(e,t,n)=>{const r=t.shipSections[e];if(!r)return 0;let i=r.shields;return n.indexOf(e)===1&&r.middleLaneBonus&&r.middleLaneBonus["Shields Per Turn"]&&(i+=r.middleLaneBonus["Shields Per Turn"]),i},JN=(e,t)=>{const n=Wa({shipSections:xA},[]).totals;return{name:e,shipSections:xA,energy:0,initialDeploymentBudget:n.initialDeployment,deploymentBudget:0,hand:[],deck:Hw(t),discardPile:[],activeDronePool:[],dronesOnBoard:{lane1:[],lane2:[],lane3:[]},deployedDroneCounts:{},appliedUpgrades:{}}},Yc=(e,t)=>{if(!e.deployedDroneCounts.hasOwnProperty(t.name))return{};const n={...e.deployedDroneCounts},r=t.name;return n[r]>0&&(n[r]-=1),{deployedDroneCounts:n}},qw=(e,t)=>{if(!e.deployedDroneCounts.hasOwnProperty(t.name))return{};const n={...e.deployedDroneCounts},r=t.name;return n[r]>0&&(n[r]-=1),{deployedDroneCounts:n}},ol=(e,t,n)=>{const r=JSON.parse(JSON.stringify(e.dronesOnBoard));for(const i in r)r[i].forEach(s=>{const c=s.currentMaxShields,{maxShields:u}=Dr(s,i,e,t,n);u>c&&(s.currentShields+=u-c),s.currentMaxShields=u,s.currentShields=Math.min(s.currentShields,u)});return r},fa=(e,t)=>{for(const[n,r]of Object.entries(t.dronesOnBoard))if(r.some(i=>i.id===e))return n;return null},Bc=(e,t,n,r,i)=>{const s=e==="player1"?r:i,c=e==="player1"?i:r,u=[],h=!(typeof n.cost=="number"),{type:p,affinity:m,location:y,custom:x}=n.targeting;let S=null;if(h&&Object.values(s.dronesOnBoard).flat().some(_=>_.id===t.id)&&(S=fa(t.id,s),!S))return[];const A=(E,_)=>{Object.entries(E.dronesOnBoard).forEach(([O,j])=>{let k=!1;y==="ANY_LANE"&&(k=!0),h&&y==="SAME_LANE"&&(k=O===S),k&&j.forEach(D=>{let N=!0;if(x?.includes("DAMAGED_HULL")){const M=Tn.find(z=>z.name===D.name);(!M||D.hull>=M.hull)&&(N=!1)}x?.includes("EXHAUSTED")&&(D.isExhausted||(N=!1)),N&&u.push({...D,lane:O,owner:_})})})},P=(E,_)=>{Object.keys(E.shipSections).forEach(O=>{u.push({id:O,owner:_,...E.shipSections[O]})})};if(p==="DRONE")(m==="FRIENDLY"||m==="ANY")&&A(s,e),(m==="ENEMY"||m==="ANY")&&A(c,e==="player1"?"player2":"player1");else if(p==="SHIP_SECTION")(m==="FRIENDLY"||m==="ANY")&&P(s,e),(m==="ENEMY"||m==="ANY")&&P(c,e==="player1"?"player2":"player1");else if(p==="LANE")["lane1","lane2","lane3"].forEach(E=>{if((m==="FRIENDLY"||m==="ANY")&&u.push({id:E,owner:e}),m==="ENEMY"||m==="ANY"){const _=e==="player1"?"player2":"player1";u.push({id:E,owner:_})}});else if(p==="DRONE_CARD"){const E=e==="player1"?r:i;E.activeDronePool.forEach(_=>{const O=Tn.find(N=>N.name===_.name),j=E.appliedUpgrades[_.name]||[],k=j.filter(N=>N.id===n.id).length,D=n.maxApplications===void 0?1:n.maxApplications;O&&j.length<O.upgradeSlots&&k<D&&u.push({..._,id:_.name,owner:e})})}else if(p==="APPLIED_UPGRADE"){const E=m==="ENEMY"?c:s,_=m==="ENEMY"?e==="player1"?"player2":"player1":e;Object.values(E.dronesOnBoard).flat().forEach(O=>{(E.appliedUpgrades[O.name]||[]).length>0&&u.push({...O,owner:_})})}return u},Yw=(e,t,n,r,i)=>{const s=Tn.find(h=>h.name===t.name);if(!s?.abilities)return{newState:e};let c=JSON.parse(JSON.stringify(e)),u=!1;const d=s.abilities.filter(h=>h.type==="TRIGGERED"&&h.trigger==="ON_MOVE");if(d.length>0){const h=c.dronesOnBoard[r].findIndex(p=>p.id===t.id);if(h!==-1){const p=c.dronesOnBoard[r][h];d.forEach(m=>{i({player:c.name,actionType:"ABILITY",source:t.name,target:"Self",outcome:`Activated '${m.name}' after moving from ${n} to ${r}.`},"applyOnMoveEffects_trigger"),p.statMods||(p.statMods=[]),m.effects?.forEach(y=>{y.type==="PERMANENT_STAT_MOD"&&(u=!0,p.statMods.push(y.mod),i({player:c.name,actionType:"ABILITY",source:t.name,target:"Self",outcome:`Gained a permanent +${y.mod.value} ${y.mod.stat}.`},"applyOnMoveEffects_mod"))})})}}return{newState:u?c:e}},Fw=(e,t)=>{const n=Tn.find(u=>u.name===t.name);if(!n?.abilities)return{newState:e,effects:[]};let r=JSON.parse(JSON.stringify(e));const i=[];let s=!1;return n.abilities.filter(u=>u.effect?.type==="AFTER_ATTACK").forEach(u=>{const{subEffect:d}=u.effect;if(d.type==="DESTROY_SELF")for(const h in r.dronesOnBoard){const p=r.dronesOnBoard[h].findIndex(m=>m.id===t.id);if(p!==-1){s=!0;const m=r.dronesOnBoard[h][p];i.push({type:"LOG",payload:{player:r.name,actionType:"ABILITY",source:t.name,target:"Self",outcome:`Activated '${u.name}', destroying itself.`}}),i.push({type:"EXPLOSION",payload:{targetId:t.id}}),r.dronesOnBoard[h]=r.dronesOnBoard[h].filter(y=>y.id!==t.id),Object.assign(r,Yc(r,m));break}}else if(d.type==="PERMANENT_STAT_MOD")for(const h in r.dronesOnBoard){const p=r.dronesOnBoard[h].findIndex(m=>m.id===t.id);if(p!==-1){s=!0,r.dronesOnBoard[h][p].statMods||(r.dronesOnBoard[h][p].statMods=[]),i.push({type:"LOG",payload:{player:r.name,actionType:"ABILITY",source:t.name,target:"Self",outcome:`Activated '${u.name}', gaining a permanent +${d.mod.value} ${d.mod.stat}.`}}),r.dronesOnBoard[h][p].statMods.push(d.mod);break}}}),{newState:s?r:e,effects:i}},qy=e=>{if(!e||!e.shipSections)return!1;const t=Object.values(e.shipSections).map(i=>Ii(i));return t.filter(i=>i==="critical").length>=2||t.filter(i=>i==="damaged"||i==="critical").length>=3},Kw=(e,t,n,r,i)=>{if(r>=i.totals.cpuLimit)return{isValid:!1,reason:"CPU Limit Reached",message:"You cannot deploy more drones than your CPU Control Value."};const s=Tn.find(m=>m.name===t.name),c=e.appliedUpgrades[t.name]||[];let u=s.limit;if(c.forEach(m=>{m.mod.stat==="limit"&&(u+=m.mod.value)}),(e.deployedDroneCounts[t.name]||0)>=u)return{isValid:!1,reason:"Deployment Limit Reached",message:`The deployment limit for ${t.name} is currently ${u}.`};const d=t.class;let h=0,p=0;return n===1?(p=Math.min(e.initialDeploymentBudget,d),h=d-p):(p=Math.min(e.deploymentBudget,d),h=d-p),e.energy<h?{isValid:!1,reason:"Not Enough Energy",message:`This action requires ${h} energy, but you only have ${e.energy}.`}:{isValid:!0,budgetCost:p,energyCost:h}},Vw=(e,t,n)=>{const r=e.shipSections[t];return r?r.allocatedShields<=0?{valid:!1,error:"No shields to remove"}:{valid:!0}:{valid:!1,error:"Section not found"}},Wv=(e,t,n)=>{const r=e.shipSections[t];if(!r)return{valid:!1,error:"Section not found",maxAvailable:0};const s=Xv(t,e,n)-r.allocatedShields;return s<=0?{valid:!1,error:"Section at maximum shields",maxAvailable:0}:{valid:!0,maxAvailable:s}},eM=(e,t,n)=>{const{removals:r,additions:i}=t,s={...e,shipSections:{...e.shipSections}};return r.forEach(({section:c,count:u})=>{s.shipSections[c]={...s.shipSections[c],allocatedShields:s.shipSections[c].allocatedShields-u}}),i.forEach(({section:c,count:u})=>{s.shipSections[c]={...s.shipSections[c],allocatedShields:s.shipSections[c].allocatedShields+u}}),s},tM=(e,t,n)=>{const r=[];return Object.keys(e.shipSections).forEach(i=>{if(t==="remove")Vw(e,i).valid&&r.push({id:i,name:i,availableShields:e.shipSections[i].allocatedShields});else if(t==="add"){const s=Wv(e,i,n);s.valid&&r.push({id:i,name:i,maxAvailable:s.maxAvailable})}}),r},nM=(e,t,n)=>{const r=e[t],i=t==="player1"?e.placedSections:e.opponentPlacedSections,s=Wv(r,n,i);return!s.valid||e.shieldsToAllocate<=0?{success:!1,error:s.error||"No shields available to allocate",newPlayerState:r,newShieldsToAllocate:e.shieldsToAllocate}:{success:!0,newPlayerState:{...r,shipSections:{...r.shipSections,[n]:{...r.shipSections[n],allocatedShields:r.shipSections[n].allocatedShields+1}}},newShieldsToAllocate:e.shieldsToAllocate-1,sectionName:n,playerId:t}},rM=(e,t)=>{const n=e[t],r=t==="player1"?e.placedSections:e.opponentPlacedSections,s=Wa(n,r).totals.shieldsPerTurn,c={};return Object.keys(n.shipSections).forEach(d=>{c[d]={...n.shipSections[d],allocatedShields:0}}),{success:!0,newPlayerState:{...n,shipSections:c},newShieldsToAllocate:s,playerId:t}},aM=(e,t)=>{const n=t,r=n==="player1"?"player2":"player1",i=e[n],s=e[r],c=r==="player1"?e.placedSections:e.opponentPlacedSections,d=Wa(s,c).totals.shieldsPerTurn,h=JSON.parse(JSON.stringify(s.shipSections)),p=Object.keys(h);let m=d,y=0,x=0;for(;m>0&&x<100;){const E=p[y%p.length],_=h[E],O=Xv(E,s,c);_.allocatedShields<O&&(_.allocatedShields++,m--),y++,x++}const S={...s,shipSections:h},P={success:!0,newPhase:"deployment",firstPlayer:nh(e.turn,e.firstPlayerOverride,e.firstPasserOfPreviousRound)};return n==="player1"?(P.player1State=i,P.player2State=S):(P.player1State=S,P.player2State=i),P},iM=(e,t,n,r,i,s,c)=>{const{effect:u,cost:d}=e,h=r.player1;let p="",m="Ability effect applied.";e.targeting?.type==="LANE"?p=`Lane ${n.id.slice(-1)}`:n&&(p=n.name),u.type==="HEAL"?(m=`Healed ${u.value} hull on targets in ${p}.`,u.scope!=="LANE"&&(m=`Healed ${u.value} hull on ${p}.`)):u.type==="DAMAGE"&&(m=`Dealt ${u.value} damage to ${p}.`),s&&s({player:h.name,actionType:"ABILITY",source:`${t.name}'s ${e.name}`,target:p,outcome:m});const y={player1:JSON.parse(JSON.stringify(r.player1)),player2:JSON.parse(JSON.stringify(r.player2))};if(d.energy&&(y.player1.energy-=d.energy),d.exhausts)for(const S in y.player1.dronesOnBoard){const A=y.player1.dronesOnBoard[S].findIndex(P=>P.id===t.id);if(A!==-1){y.player1.dronesOnBoard[S][A].isExhausted=!0;break}}const x=t2(u,t,n,y,i,{resolveAttackCallback:c});return y.player1=x.newPlayerStates.player1,y.player2=x.newPlayerStates.player2,{newPlayerStates:y,shouldEndTurn:!u.goAgain}},oM=(e,t,n,r,i,s,c)=>{const{cost:u,effect:d}=e,h=r.player1;s&&s({player:h.name,actionType:"SHIP_ABILITY",source:`${t}'s ${e.name}`,target:n?.name||"N/A",outcome:`Activated ${e.name}.`});const p={player1:JSON.parse(JSON.stringify(r.player1)),player2:JSON.parse(JSON.stringify(r.player2))};if(p.player1.energy-=u.energy,d.type==="REALLOCATE_SHIELDS")return{newPlayerStates:p,shouldEndTurn:!1,requiresShieldReallocation:!0};{const m=n2(d,t,n,p,i,{resolveAttackCallback:c});if(p.player1=m.newPlayerStates.player1,p.player2=m.newPlayerStates.player2,m.needsDiscardSelection)return{newPlayerStates:p,shouldEndTurn:!1,mandatoryAction:{type:"discard",player:"player1",count:m.needsDiscardSelection,fromAbility:!0}}}return{newPlayerStates:p,shouldEndTurn:!0}},Xw=(e,t,n,r,i,s,c)=>{const u=Kw(r,e,n,Object.values(r.dronesOnBoard).flat().length,Wa(r,s.player1));if(!u.isValid)return{success:!1,error:u.reason,message:u.message,newPlayerState:r};const{budgetCost:d,energyCost:h}=u;c&&c({player:r.name,actionType:"DEPLOY",source:e.name,target:t,outcome:`Deployed to ${t}.`});const p=JSON.parse(JSON.stringify(r)),m={...p.dronesOnBoard,[t]:[...p.dronesOnBoard[t],{...e,id:0}]},y={...p,dronesOnBoard:m},x=Dr(e,t,y,i,s),S={...e,id:Date.now(),statMods:[],currentShields:x.maxShields,currentMaxShields:x.maxShields,hull:e.hull,isExhausted:!1};return p.dronesOnBoard[t].push(S),p.deployedDroneCounts={...p.deployedDroneCounts,[e.name]:(p.deployedDroneCounts[e.name]||0)+1},n===1?p.initialDeploymentBudget-=d:p.deploymentBudget-=d,p.energy-=h,p.dronesOnBoard=ol(p,i,s),{success:!0,newPlayerState:p,deployedDrone:S}},sM=(e,t)=>{const{logCallback:n,setWinnerCallback:r,showWinnerModalCallback:i}=t;return qy(e.player2)?(r("Player 1"),i(!0),n({player:"SYSTEM",actionType:"GAME_END",source:"N/A",target:"N/A",outcome:"Player 1 wins!"},"winConditionCheck"),"Player 1"):qy(e.player1)?(r("Player 2"),i(!0),n({player:"SYSTEM",actionType:"GAME_END",source:"N/A",target:"N/A",outcome:`${e.player2.name} wins!`},"winConditionCheck"),"Player 2"):null},lM=(e,t,n,r)=>{if(!e||e.isExhausted)return[];const i=fa(e.id,t);if(!i)return[];const s=Dr(e,i,t,n,r);return(n.dronesOnBoard[i]||[]).filter(d=>{const h=Dr(d,i,n,t,r);return!d.isExhausted&&(h.speed>s.speed||h.keywords.has("ALWAYS_INTERCEPTS"))}).map(d=>d.id)},cM=(e,t,n,r,i,s,c)=>{const{addLogEntry:u}=c,d=e.class;let h=0;n===1?h=Math.min(r.initialDeploymentBudget,d):h=Math.min(r.deploymentBudget,d);const p=d-h;if(r.energy<p)return{success:!1,error:"Insufficient energy for deployment"};const m={...e,id:Date.now(),statMods:[],currentShields:e.shields,currentMaxShields:e.shields,hull:e.hull,isExhausted:!1};let y={...r,dronesOnBoard:{...r.dronesOnBoard,[t]:[...r.dronesOnBoard[t],m]},deployedDroneCounts:{...r.deployedDroneCounts,[e.name]:(r.deployedDroneCounts[e.name]||0)+1},initialDeploymentBudget:n===1?r.initialDeploymentBudget-h:r.initialDeploymentBudget,deploymentBudget:n>1?r.deploymentBudget-h:r.deploymentBudget,energy:r.energy-p};return y.dronesOnBoard=ol(y,i,s),{success:!0,newPlayerState:y,deployedDrone:m,costs:{energy:p,budget:h}}},uM=(e,t,n)=>{const{attacker:r,target:i,targetType:s,lane:c}=e,u=Dr(r,c,t.player2,t.player1,n),d=t.player1.dronesOnBoard[c].filter(h=>{const p=Dr(h,c,t.player1,t.player2,n);return!h.isExhausted&&(p.speed>u.speed||p.keywords.has("ALWAYS_INTERCEPTS"))&&(s!=="drone"||h.id!==i.id)});return{hasInterceptors:d.length>0,interceptors:d,attackDetails:e}},Qv=(e,t,n,r)=>{const i=e==="player1"?"player2":"player1";return t.player1Passed&&t.player2Passed?{type:"END_PHASE",phase:n,nextPlayer:null}:i==="player1"&&t.player1Passed||i==="player2"&&t.player2Passed?{type:"CONTINUE_TURN",nextPlayer:e,triggerAi:e==="player2"}:{type:"CHANGE_PLAYER",nextPlayer:i,showOpponentModal:i==="player2"&&!r}},fM=(e,t,n)=>{const r=!t.player1Passed&&!t.player2Passed,i={...t,[`${e}Passed`]:!0,firstPasser:t.firstPasser||(r?e:null)};return i.player1Passed&&i.player2Passed?{type:"END_PHASE",newPassInfo:i,phase:n}:{type:"CHANGE_PLAYER",newPassInfo:i,nextPlayer:e==="player1"?"player2":"player1"}},dM=(e,t)=>{const n=Qv(t,e.passInfo,e.turnPhase,e.winner);let r={...e};const i=[];switch(n.type){case"END_PHASE":i.push({type:"PHASE_END",phase:n.phase,trigger:"both_players_passed"}),r.passInfo={firstPasser:null,player1Passed:!1,player2Passed:!1};break;case"CHANGE_PLAYER":r.currentPlayer=n.nextPlayer,n.showOpponentModal&&i.push({type:"SHOW_WAITING_MODAL",player:n.nextPlayer});break}return{newState:r,uiEffects:i,transitionType:n.type}},hM=(e,t,n="manual")=>{let r={...e,turnPhase:t};const i=[];switch(t){case"deployment":r.passInfo={firstPasser:null,player1Passed:!1,player2Passed:!1};const s=nh(e.turn,e.firstPlayerOverride,e.firstPasserOfPreviousRound);r.currentPlayer=s,r.firstPlayerOfRound=s,i.push({type:"PHASE_START",phase:"deployment",firstPlayer:s});break;case"action":r.passInfo={firstPasser:null,player1Passed:!1,player2Passed:!1};const c=e.passInfo.firstPasser||e.firstPlayerOfRound;r.currentPlayer=c,i.push({type:"PHASE_START",phase:"action",firstPlayer:c});break;case"roundEnd":i.push({type:"ROUND_END",turn:e.turn});break;default:console.warn(`Unknown phase: ${t}`)}return{newState:r,uiEffects:i}},pM=(e,t,n,r)=>{const i=Yy(e.player1,t,n,e.player2,e.placedSections),s=Yy(e.player2,t,r,e.player1,e.opponentPlacedSections),c=Fy(i,n.totals.handLimit),u=Fy(s,r.totals.handLimit),d=nh(t,e.firstPlayerOverride,e.firstPasserOfPreviousRound),h={...e,turn:t,turnPhase:"deployment",currentPlayer:d,firstPlayerOfRound:d,firstPasserOfPreviousRound:e.passInfo.firstPasser,passInfo:{firstPasser:null,player1Passed:!1,player2Passed:!1},player1:c,player2:u},p=[{type:"ROUND_START",turn:t,firstPlayer:d},{type:"LOG_ENTRY",entry:{player:"SYSTEM",actionType:"NEW_ROUND",source:`Round ${t}`,target:"N/A",outcome:"New round begins."}},{type:"SHOW_ROUND_START_MODAL",turn:t}];return{newState:h,uiEffects:p}},Ww=(e,t,n)=>{const r={...e.dronesOnBoard};for(const i in r)r[i]=r[i].map(s=>{const c=Dr(s,i,e,t,n);return{...s,statMods:s.statMods?s.statMods.filter(u=>u.type==="permanent"):[],isExhausted:!1,currentShields:c.maxShields}});return{...e,dronesOnBoard:r}},Yy=(e,t,n,r,i)=>({...Ww(e,r,i),energy:n.totals.energyPerTurn,initialDeploymentBudget:0,deploymentBudget:n.totals.deploymentBudget}),Fy=(e,t)=>{let n=[...e.deck],r=[...e.hand],i=[...e.discardPile];for(;r.length<t;){if(n.length===0)if(i.length>0)n=[...i].sort(()=>.5-Math.random()),i=[];else break;r.push(n.pop())}return{...e,deck:n,hand:r,discardPile:i}},mM=(e,t,n)=>{const{player1:r,player2:i,turn:s,turnPhase:c,passInfo:u,placedSections:d,opponentPlacedSections:h}=e,{addLogEntry:p,setPlayer2:m,setPendingAttack:y,endTurn:x,endDeploymentPhase:S,endActionPhase:A,setPassInfo:P}=n;let E;return c==="deployment"&&!u.player2Passed?E=t.handleOpponentTurn({player1:r,player2:i,turn:s,opponentPlacedSections:h,placedSections:d,getShipStatus:Ii,calculateEffectiveShipStats:Wa,calculateEffectiveStats:Dr,addLogEntry:p}):c==="action"&&!u.player2Passed&&(E=t.handleOpponentAction({player1:r,player2:i,placedSections:d,opponentPlacedSections:h,getShipStatus:Ii,getLaneOfDrone:fa,getValidTargets:Bc,calculateEffectiveStats:Dr,addLogEntry:p})),E||null},gM=(e,t,n)=>{const{player1:r,player2:i,turn:s,turnPhase:c,placedSections:u,opponentPlacedSections:d}=t,{addLogEntry:h,setPlayer2:p,setPendingAttack:m,endTurn:y,endDeploymentPhase:x,endActionPhase:S,setPassInfo:A,resolveCardPlay:P}=n;if(e.type==="pass"){const E=!t.passInfo.player1Passed,_={...t.passInfo,player2Passed:!0,firstPasser:t.passInfo.firstPasser||(E?"player2":null)};return A(_),_.player1Passed?c==="deployment"?x():c==="action"&&S():y("player2"),{newPassInfo:_}}else if(e.type==="deploy"){const{droneToDeploy:E,targetLane:_,logContext:O}=e.payload;h({player:i.name,actionType:"DEPLOY",source:E.name,target:_,outcome:`Deployed to ${_}.`},"aiDeploymentDeploy",O);const j=Xw(E,_,i,r,s,{player1:u,player2:d});return j.success&&(p(j.newPlayerState),y("player2")),{deployedDrone:j.deployedDrone}}else if(e.type==="action"){const E=e.payload,{logContext:_}=e;switch(E.type){case"play_card":P(E.card,E.target,"player2",_);break;case"attack":m({attacker:E.attacker,target:E.target,targetType:E.targetType,lane:E.attacker.lane,attackingPlayer:"player2",aiContext:_});break;case"move":{const{drone:O,fromLane:j,toLane:k}=E;h({player:i.name,actionType:"MOVE",source:O.name,target:k,outcome:`Moved from ${j} to ${k}.`},"aiActionMove",_);let D=JSON.parse(JSON.stringify(i));D.dronesOnBoard[j]=D.dronesOnBoard[j].filter(z=>z.id!==O.id);const N={...O,isExhausted:!0};D.dronesOnBoard[k].push(N);const{newState:M}=Yw(D,N,j,k,h);M.dronesOnBoard=ol(M,r,{player1:u,player2:d}),p(M),y("player2");break}default:y("player2");break}return{action:E}}return null},yM=(e,t,n,r,i,s,c,u)=>{const{cost:d,effect:h}=e,{logCallback:p,applyOnMoveEffectsCallback:m,updateAurasCallback:y}=u;let x=JSON.parse(JSON.stringify(i));x.energy-=d,x.hand=x.hand.filter(E=>E.instanceId!==e.instanceId),x.discardPile.push(e);const S=new Set(t.map(E=>E.id));x.dronesOnBoard[n]=x.dronesOnBoard[n].filter(E=>!S.has(E.id));const A=t.map(E=>({...E,isExhausted:E.isExhausted||!h.properties?.includes("DO_NOT_EXHAUST")}));x.dronesOnBoard[r].push(...A),p({player:i.name,actionType:"MULTI_MOVE",source:e.name,target:`${t.map(E=>E.name).join(", ")}`,outcome:`Moved ${t.length} drone(s) from ${n} to ${r}.`},"resolveMultiMove");let P=x;return A.forEach(E=>{const{newState:_}=m(P,E,n,r,p);P=_}),P.dronesOnBoard=y(P,s,c),{newPlayerState:P,shouldEndTurn:!0,shouldCancelCardSelection:!0,shouldClearMultiSelectState:!0}},vM=(e,t,n,r,i,s,c,u)=>{const{cost:d,effect:h}=e,{logCallback:p,applyOnMoveEffectsCallback:m,updateAurasCallback:y}=u;let x=JSON.parse(JSON.stringify(i));x.energy-=d,x.hand=x.hand.filter(P=>P.instanceId!==e.instanceId),x.discardPile.push(e),x.dronesOnBoard[n]=x.dronesOnBoard[n].filter(P=>P.id!==t.id);const S={...t,isExhausted:h.properties?.includes("DO_NOT_EXHAUST")?t.isExhausted:!0};x.dronesOnBoard[r].push(S),p({player:i.name,actionType:"MOVE",source:e.name,target:t.name,outcome:`Moved from ${n} to ${r}.`},"resolveSingleMove");const{newState:A}=m(x,S,n,r,p);return A.dronesOnBoard=y(A,s,c),{newPlayerState:A,shouldEndTurn:!1,shouldCancelCardSelection:!0,shouldClearMultiSelectState:!0}},bM=(e,t,n)=>{const r={player1:JSON.parse(JSON.stringify(n.player1)),player2:JSON.parse(JSON.stringify(n.player2))},i=r[t];return e.cost&&(i.energy-=e.cost),r},Qw=(e,t)=>{let n=1;if(e==="OWN_DAMAGED_SECTIONS")for(const r in t.shipSections){const i=t.shipSections[r],s=Ii(i);(s==="damaged"||s==="critical")&&n++}return n},xM=(e,t,n,r,i,s)=>{const{logCallback:c,explosionCallback:u,hitAnimationCallback:d,resolveAttackCallback:h}=s,p=t?t.name||t.id:"N/A";let m="Card effect applied.";const y=e.effect;if(y.type==="DRAW"&&(m=`Drew ${y.value} card(s).`),y.type==="GAIN_ENERGY"&&(m=`Gained ${y.value} energy.`),y.type==="HEAL_HULL"&&(m=`Healed ${y.value} hull on ${p}.`),y.type==="HEAL_SHIELDS"&&(m=`Healed ${y.value} shields on ${p}.`),y.type==="READY_DRONE"&&(m=`Readied ${p}.`),y.type==="DAMAGE"&&(y.scope==="FILTERED"?m=`Dealt ${y.value} damage to filtered targets in ${p}.`:m=`Dealt ${y.value} damage to ${p}.`),y.type==="MODIFY_STAT"){const A=y.mod,P=A.type==="temporary"?" until the end of the turn":" permanently";m=`Gave ${p} a ${A.value>0?"+":""}${A.value} ${A.stat} bonus${P}.`}if(y.type==="REPEATING_EFFECT"){const A=r[n],P=Qw(y.condition,A);m=`Drew ${P} card(s) and gained ${P} energy based on damaged sections.`}c&&c({player:r[n].name,actionType:"PLAY_CARD",source:e.name,target:p,outcome:m});let x=bM(e,n,r);const S=SM(e.effect,t,n,x,i,s,e);if(!S.needsCardSelection){const A=Zw(e,n,S.newPlayerStates);return{newPlayerStates:A.newPlayerStates,shouldEndTurn:A.shouldEndTurn,additionalEffects:S.additionalEffects||[],needsCardSelection:!1}}return{newPlayerStates:x,shouldEndTurn:!1,additionalEffects:S.additionalEffects||[],needsCardSelection:S.needsCardSelection}},Zw=(e,t,n)=>{const r={player1:JSON.parse(JSON.stringify(n.player1)),player2:JSON.parse(JSON.stringify(n.player2))},i=r[t];i.hand=i.hand.filter(c=>c.instanceId!==e.instanceId),i.discardPile.push(e);const s=t==="player1"&&!e.effect.goAgain;return{newPlayerStates:r,shouldEndTurn:s}},SM=(e,t,n,r,i,s,c=null)=>e.effects?AM(e,t,n,r,i,s,c):Jw(e,t,n,r,i,s,c),AM=(e,t,n,r,i,s,c=null)=>{let u=r,d=[];if(e.type==="REPEATING_EFFECT"){const h=Qw(e.condition,u[n]);for(let p=0;p<h;p++)for(const m of e.effects){const y=Jw(m,t,n,u,i,s,c);u=y.newPlayerStates,y.additionalEffects&&d.push(...y.additionalEffects)}}return{newPlayerStates:u,additionalEffects:d}},Jw=(e,t,n,r,i,s,c=null)=>{switch(e.type){case"DRAW":return Jv(e,null,t,n,r);case"SEARCH_AND_DRAW":return e2(e,null,t,n,r);case"GAIN_ENERGY":return CM(e,n,r,i);case"READY_DRONE":return PM(e,t,n,r);case"HEAL_HULL":return Zv(e,null,t,n,r);case"HEAL_SHIELDS":return EM(e,t,n,r);case"DAMAGE":return th(e,null,t,n,r,i,s,c);case"DESTROY":return _M(e,t,n,r,s);case"MODIFY_STAT":return OM(e,t,n,r);case"MODIFY_DRONE_BASE":return TM(e,t,n,r);case"DESTROY_UPGRADE":return DM(e,t,n,r);default:return console.warn(`Unknown effect type: ${e.type}`),{newPlayerStates:r,additionalEffects:[]}}},CM=(e,t,n,r,i)=>{const s={player1:JSON.parse(JSON.stringify(n.player1)),player2:JSON.parse(JSON.stringify(n.player2))},c=s[t],u=t==="player1"?r.player1:r.player2,d=Wa(c,u).totals,h=Math.min(d.maxEnergy,c.energy+e.value);return c.energy=h,{newPlayerStates:s,additionalEffects:[]}},PM=(e,t,n,r,i)=>{const s={player1:JSON.parse(JSON.stringify(r.player1)),player2:JSON.parse(JSON.stringify(r.player2))},c=s[n];for(const u in c.dronesOnBoard){const d=c.dronesOnBoard[u].findIndex(h=>h.id===t.id);if(d!==-1){c.dronesOnBoard[u][d].isExhausted=!1;break}}return{newPlayerStates:s,additionalEffects:[]}},EM=(e,t,n,r,i)=>{const s={player1:JSON.parse(JSON.stringify(r.player1)),player2:JSON.parse(JSON.stringify(r.player2))},c=s[t.owner||n];for(const u in c.dronesOnBoard){const d=c.dronesOnBoard[u].findIndex(h=>h.id===t.id);if(d!==-1){const h=c.dronesOnBoard[u][d];h.currentShields=Math.min(h.currentMaxShields||h.shields,h.currentShields+e.value);break}}return{newPlayerStates:s,additionalEffects:[]}},wM=(e,t,n,r,i,s=null)=>{const{resolveAttackCallback:c}=i;if(e.scope==="FILTERED"&&t.id.startsWith("lane")&&e.filter){const u=t.id,h=(s?.affinity||e.affinity)==="ENEMY"?n==="player1"?"player2":"player1":n,m=r[h].dronesOnBoard[u]||[];console.log(`[DEBUG] Filtered damage - ${n} targeting ${h} ${u}`),console.log(`[DEBUG] Drones in ${h} ${u}:`,m.map(_=>`${_.name}(${_.id}) [${_.hull}hp, ${_.speed}spd]`));const{stat:y,comparison:x,value:S}=e.filter,A={player1:JSON.parse(JSON.stringify(r.player1)),player2:JSON.parse(JSON.stringify(r.player2))},E=A[h].dronesOnBoard[u]||[];for(let _=E.length-1;_>=0;_--){const O=E[_];let j=!1;if(x==="GTE"&&O[y]>=S&&(j=!0),x==="LTE"&&O[y]<=S&&(j=!0),console.log(`[DEBUG] ${O.name} ${y}=${O[y]} ${x} ${S} = ${j}`),j){console.log(`[DEBUG] Applying ${e.value} damage to ${O.name}`);const k=O.currentShields||0;let D=e.value;const N=Math.min(D,k);O.currentShields=(O.currentShields||0)-N,D-=N,D>0&&(O.hull-=D),O.hull<=0&&(console.log(`[DEBUG] ${O.name} destroyed`),E.splice(_,1))}}return{newPlayerStates:A,additionalEffects:[]}}else{const u=r[t.owner],d=fa(t.id,u);if(d){console.log(`[DEBUG] Single target damage - ${n} targeting ${t.name} with ${e.value} damage`);const h={player1:JSON.parse(JSON.stringify(r.player1)),player2:JSON.parse(JSON.stringify(r.player2))},m=h[t.owner].dronesOnBoard[d]||[],y=m.find(x=>x.id===t.id);if(y){let x=e.value,S=0,A=x;if(e.damageType!=="PIERCING"&&(S=Math.min(x,y.currentShields),A-=S,y.currentShields-=S),y.hull-=A,console.log(`[DEBUG] Applied ${A} hull damage to ${y.name} (${y.hull} hull remaining)`),y.hull<=0){console.log(`[DEBUG] ${y.name} destroyed`);const P=m.findIndex(E=>E.id===t.id);P>=0&&m.splice(P,1)}}return{newPlayerStates:h,additionalEffects:[]}}}return{newPlayerStates:r,additionalEffects:[]}},_M=(e,t,n,r,i)=>{const{explosionCallback:s}=i,c={player1:JSON.parse(JSON.stringify(r.player1)),player2:JSON.parse(JSON.stringify(r.player2))},d=c[n==="player1"?"player2":"player1"];if(e.scope==="LANE"&&t.id){const h=t.id;(d.dronesOnBoard[h]||[]).forEach(m=>{s&&s(m.id);const y=Yc(d,m);d.deployedDroneCounts={...d.deployedDroneCounts||{},...y.deployedDroneCounts}}),d.dronesOnBoard[h]=[]}else if(e.scope==="SINGLE"&&t&&t.owner!==n){const h=fa(t.id,d);if(h){const p=d.dronesOnBoard[h].find(m=>m.id===t.id);if(p){s&&s(p.id);const m=Yc(d,p);d.deployedDroneCounts={...d.deployedDroneCounts||{},...m.deployedDroneCounts},d.dronesOnBoard[h]=d.dronesOnBoard[h].filter(y=>y.id!==t.id)}}}return{newPlayerStates:c,additionalEffects:[]}},OM=(e,t,n,r,i)=>{const s={player1:JSON.parse(JSON.stringify(r.player1)),player2:JSON.parse(JSON.stringify(r.player2))},c=s[t.owner||n],u=e.mod;if(t.id&&t.id.startsWith("lane")){const d=t.id;c.dronesOnBoard[d]&&c.dronesOnBoard[d].forEach(h=>{h.statMods||(h.statMods=[]),h.statMods.push({stat:u.stat,value:u.value,type:u.type||"temporary",source:"card"})})}else for(const d in c.dronesOnBoard){const h=c.dronesOnBoard[d].findIndex(p=>p.id===t.id);if(h!==-1){const p=c.dronesOnBoard[d][h];p.statMods||(p.statMods=[]),p.statMods.push({stat:u.stat,value:u.value,type:u.type||"temporary",source:"card"});break}}return{newPlayerStates:s,additionalEffects:[]}},TM=(e,t,n,r,i)=>{const s={player1:JSON.parse(JSON.stringify(r.player1)),player2:JSON.parse(JSON.stringify(r.player2))},c=s[n],u=t.name,d=c.appliedUpgrades[u]||[],h={instanceId:`upgrade-${Date.now()}-${Math.random()}`,mod:e.mod};return e.mod.stat==="ability"&&e.mod.abilityToAdd&&(h.grantedAbilities=[e.mod.abilityToAdd]),c.appliedUpgrades={...c.appliedUpgrades,[u]:[...d,h]},{newPlayerStates:s,additionalEffects:[]}},DM=(e,t,n,r,i)=>{const s={player1:JSON.parse(JSON.stringify(r.player1)),player2:JSON.parse(JSON.stringify(r.player2))},u=s[n==="player1"?"player2":"player1"],{droneName:d,instanceId:h}=t;if(u.appliedUpgrades[d]){const p=u.appliedUpgrades[d].filter(m=>m.instanceId!==h);p.length>0?u.appliedUpgrades[d]=p:delete u.appliedUpgrades[d]}return{newPlayerStates:s,additionalEffects:[]}},th=(e,t,n,r,i,s,c,u=null)=>{const{resolveAttackCallback:d}=c;if(e.scope==="FILTERED"&&n.id.startsWith("lane")&&e.filter)return wM(e,n,r,i,c,u?.targeting);const h=n.owner==="player1"?i.player1:i.player2,p=fa(n.id,h);if(p&&d){const m={attacker:t,target:n,targetType:"drone",attackingPlayer:r||"player1",abilityDamage:e.value,lane:p,damageType:e.damageType},y=a2(m,i,s,c.logCallback,c.explosionCallback,c.hitAnimationCallback);return{newPlayerStates:y.newPlayerStates,additionalEffects:y.afterAttackEffects||[]}}return{newPlayerStates:i,additionalEffects:[]}},Zv=(e,t,n,r,i,s,c)=>{const u={player1:JSON.parse(JSON.stringify(i.player1)),player2:JSON.parse(JSON.stringify(i.player2))},d=r||"player1";if(e.scope==="LANE"){const h=n.id;u[d].dronesOnBoard[h]&&u[d].dronesOnBoard[h].forEach(p=>{const m=Tn.find(y=>y.name===p.name);m&&p.hull<m.hull&&(p.hull=Math.min(m.hull,p.hull+e.value))})}else{const h=Tn.find(m=>m.name===n.name),p=fa(n.id,u[d]);if(p){const m=u[d].dronesOnBoard[p].findIndex(y=>y.id===n.id);m!==-1&&(u[d].dronesOnBoard[p][m].hull=Math.min(h.hull,u[d].dronesOnBoard[p][m].hull+e.value))}}return{newPlayerStates:u,additionalEffects:[]}},Jv=(e,t,n,r,i,s,c)=>{const u={player1:JSON.parse(JSON.stringify(i.player1)),player2:JSON.parse(JSON.stringify(i.player2))},d=r||"player1",h=u[d];let p=[...h.deck],m=[...h.hand],y=[...h.discardPile];const x=e.value&&typeof e.value=="object"&&e.value.draw||e.value||1;for(let A=0;A<x;A++){if(p.length===0)if(y.length>0)p=[...y].sort(()=>.5-Math.random()),y=[];else break;p.length>0&&m.push(p.pop())}u[d]={...h,deck:p,hand:m,discardPile:y};const S={newPlayerStates:u,additionalEffects:[]};return e.value&&e.value.discard&&(S.needsDiscardSelection=e.value.discard),S},kM=(e,t)=>!(t.type&&e.type!==t.type||t.maxCost!==void 0&&e.cost>t.maxCost||t.minCost!==void 0&&e.cost<t.minCost||t.effectType&&e.effect?.type!==t.effectType||t.name&&e.name!==t.name),e2=(e,t,n,r,i,s,c)=>{const u={player1:JSON.parse(JSON.stringify(i.player1)),player2:JSON.parse(JSON.stringify(i.player2))},d=r||"player1",h=u[d];let p=[...h.deck],m=[...h.discardPile],y,x;if(e.filter)p.length===0&&m.length>0&&(p=[...m.sort(()=>.5-Math.random())],m=[]),y=p.filter(A=>kM(A,e.filter)).slice(0,e.searchCount),x=p.filter(A=>!y.includes(A));else{const S=e.searchCount;p.length<S&&m.length>0&&(p=[...p,...m.sort(()=>.5-Math.random())],m=[]),y=p.slice(-e.searchCount).reverse(),x=p.slice(0,-e.searchCount)}if(d==="player2"){const S=jM(y,e.drawCount,u),A=y.filter(_=>!S.includes(_)),P=[...h.hand,...S];let E=[...x,...A];return e.shuffleAfter&&(E=E.sort(()=>.5-Math.random())),u[d]={...h,deck:E,hand:P,discardPile:m},{newPlayerStates:u,additionalEffects:[]}}else return{newPlayerStates:i,additionalEffects:[],needsCardSelection:{type:"search_and_draw",searchedCards:y,drawCount:e.drawCount,shuffleAfter:e.shuffleAfter,remainingDeck:x,discardPile:m,filter:e.filter}}},jM=(e,t,n,r)=>e.map(s=>({card:s,score:NM(s,n.player2,n.player1)})).sort((s,c)=>c.score-s.score).slice(0,t).map(s=>s.card),NM=(e,t,n,r)=>{let i=0;if(e.cost>t.energy)return-100;switch(e.effect?.type){case"DAMAGE":i=15+(e.effect.value||0)*3;break;case"DRAW":i=12+(e.effect.value||0)*2;break;case"GAIN_ENERGY":i=8+(e.effect.value||0)*2;break;case"HEAL_HULL":i=10;break;case"DESTROY":i=20;break;default:i=5}return i-=e.cost,i},t2=(e,t,n,r,i,s)=>{switch(e.type){case"HEAL":return Zv(e,t,n,"player1",r);case"DAMAGE":return th(e,t,n,"player1",r,i,s);default:return console.warn(`Unknown drone ability effect type: ${e.type}`),{newPlayerStates:r,additionalEffects:[]}}},n2=(e,t,n,r,i,s)=>{const c={name:t};switch(e.type){case"DAMAGE":return th(e,c,n,"player1",r,i,s);case"RECALL_DRONE":return r2(e,t,n,r,i);case"DRAW_THEN_DISCARD":return Jv(e,c,n,"player1",r);default:return console.warn(`Unknown ship ability effect type: ${e.type}`),{newPlayerStates:r,additionalEffects:[]}}},r2=(e,t,n,r,i,s)=>{const c={player1:JSON.parse(JSON.stringify(r.player1)),player2:JSON.parse(JSON.stringify(r.player2))},u=fa(n.id,c.player1);return u&&(c.player1.dronesOnBoard[u]=c.player1.dronesOnBoard[u].filter(d=>d.id!==n.id),Object.assign(c.player1,qw(c.player1,n)),c.player1.dronesOnBoard=ol(c.player1,c.player2,i)),{newPlayerStates:c,additionalEffects:[]}},a2=(e,t,n,r,i,s)=>{const{attacker:c,target:u,targetType:d,interceptor:h,attackingPlayer:p,abilityDamage:m,goAgain:y,damageType:x,lane:S}=e,A=m!==void 0,P=h||u,E=h?"drone":d,_=p,O=P.owner||(_==="player1"?"player2":"player1"),j=t[_],k=t[O];let D=null,N=null;!A&&c&&c.id&&(D=fa(c.id,j),N=Dr(c,D,j,k,n));let M=m??(N?Math.max(0,N.attack):0),z=x||(c?c.damageType:void 0);N&&N.keywords&&N.keywords.has("PIERCING")&&(z="PIERCING"),E==="section"&&!m&&c&&c.name&&Tn.find(V=>V.name===c.name)?.abilities?.forEach(V=>{V.type==="PASSIVE"&&V.effect.type==="BONUS_DAMAGE_VS_SHIP"&&(M+=V.effect.value)});let re=0,W=0,ee=!1,pe=0,de=0;if(E==="drone"){let Q=null;for(const V in k.dronesOnBoard)if(Q=k.dronesOnBoard[V].find(ue=>ue.id===P.id),Q)break;if(Q){let V=M;z!=="PIERCING"&&(re=Math.min(M,Q.currentShields),V-=re),W=Math.min(V,Q.hull),ee=Q.hull-W<=0,pe=Q.currentShields-re,de=ee?0:Q.hull-W}}else{const Q=k.shipSections[P.name];if(Q){let V=M;z!=="PIERCING"&&(re=Math.min(M,Q.allocatedShields),V-=re),W=Math.min(V,Q.hull),ee=Q.hull-W<=0,pe=Q.allocatedShields-re,de=ee?0:Q.hull-W}}const ie=`Dealt ${re} shield and ${W} hull damage to ${P.name}.`+(E==="drone"?ee?` ${P.name} Destroyed.`:` ${P.name} has ${pe} shields and ${de} hull left.`:""),U=D||(S?S.replace("lane","Lane "):null),ae=E==="drone"?`${P.name} (${U})`:P.name,ge=c&&c.name?`${c.name} (${U})`:"Card Effect";r&&r({player:t[_].name,actionType:"ATTACK",source:ge,target:ae,outcome:ie});const me={player1:JSON.parse(JSON.stringify(t.player1)),player2:JSON.parse(JSON.stringify(t.player2))};if(E==="drone"){let Q=!1;for(const V in me[O].dronesOnBoard){const ue=me[O].dronesOnBoard[V].findIndex(xe=>xe.id===P.id);if(ue!==-1){if(me[O].dronesOnBoard[V][ue].hull-W<=0){Q=!0,i&&i(P.id);const xe=me[O].dronesOnBoard[V][ue];me[O].dronesOnBoard[V]=me[O].dronesOnBoard[V].filter(q=>q.id!==P.id),Object.assign(me[O],Yc(me[O],xe))}else s&&s(P.id),me[O].dronesOnBoard[V][ue].hull-=W,me[O].dronesOnBoard[V][ue].currentShields-=re;break}}if(Q){const V=O==="player1"?me.player2:me.player1;me[O].dronesOnBoard=ol(me[O],V,n)}}else{me[O].shipSections[P.name].hull-=W,me[O].shipSections[P.name].allocatedShields-=re;const Q=O==="player1"?n.player1:n.player2,V=Wa(me[O],Q).totals;me[O].energy>V.maxEnergy&&(me[O].energy=V.maxEnergy)}let L=[];if(!A&&c&&c.id){let Q=!1;for(const V in me[_].dronesOnBoard){const ue=me[_].dronesOnBoard[V].findIndex(xe=>xe.id===c.id);if(ue!==-1){me[_].dronesOnBoard[V][ue].isExhausted=!0,Q=!0;break}}if(Q){const V=Fw(me[_],c);me[_]=V.newState,L=V.effects}}if(h){const Q=_==="player1"?"player2":"player1";for(const V in me[Q].dronesOnBoard){const ue=me[Q].dronesOnBoard[V].findIndex(xe=>xe.id===h.id);if(ue!==-1){Dr(me[Q].dronesOnBoard[V][ue],V,me[Q],me[_],n).keywords.has("DEFENDER")||(me[Q].dronesOnBoard[V][ue].isExhausted=!0);break}}}return{newPlayerStates:me,attackResult:{attackerName:c&&c.name?c.name:"Card Effect",lane:D||S,targetName:P.name,targetType:E,interceptorName:h?h.name:null,shieldDamage:re,hullDamage:W,wasDestroyed:ee,remainingShields:pe,remainingHull:de,outcome:ie,shouldEndTurn:_==="player1"&&!y},afterAttackEffects:L}},MM=(e,t)=>{const n=Wa(e,t).totals;let r=[...e.deck],i=[...e.hand],s=[...e.discardPile];const c=n.handLimit;for(;i.length<c;){if(r.length===0)if(s.length>0)r=[...s].sort(()=>.5-Math.random()),s=[];else break;const u=r.pop();i.push(u)}return{...e,deck:r,hand:i,discardPile:s}},nh=(e,t,n)=>t||(e===1?Math.random()<.5?"player1":"player2":n||"player1"),RM=(e,t)=>{if(e.hand.length<=t)return{...e,discardCount:0};let n=[...e.hand];const r=[...e.discardPile],i=n.length-t;for(let s=0;s<i;s++){const c=n.splice(Math.floor(Math.random()*n.length),1)[0];r.push(c)}return{...e,hand:n,discardPile:r,discardCount:i}},IM=(e,t,n,r)=>{const i=e.hand.length>n.handLimit,s=t.hand.length>r.handLimit;return{player1NeedsDiscard:i,player1DiscardCount:i?e.hand.length-n.handLimit:0,player2NeedsDiscard:s,player2DiscardCount:s?t.hand.length-r.handLimit:0}},LM=(e,t)=>{const n={};for(const r of["player1","player2"]){const i=e[r],s=t[r],c=i.hand.length>s.totals.handLimit,u=c?i.hand.length-s.totals.handLimit:0;n[r]={needsDiscard:c,discardCount:u,currentHandSize:i.hand.length,handLimit:s.totals.handLimit}}return n.hasAnyViolations=n.player1.needsDiscard||n.player2.needsDiscard,n},$M=(e,t)=>{if(e.hand.length<=t)return{...e,discardCount:0};const n=[...e.hand],r=[...e.discardPile],i=n.length-t;for(let s=0;s<i;s++)if(n.length>0){const c=Math.floor(Math.random()*n.length),u=n.splice(c,1)[0];r.push(u)}return{...e,hand:n,discardPile:r,discardCount:i}},BM=(e,t,n=null)=>{if(t<=0)return{...e,discardCount:0};const r=[...e.hand],i=[...e.discardPile];let s=0;if(n&&n.length>0)n.forEach(c=>{const u=r.findIndex(d=>d.instanceId===c.instanceId||d.name===c.name&&d.id===c.id);if(u!==-1&&s<t){const d=r.splice(u,1)[0];i.push(d),s++}});else for(let c=0;c<t&&r.length>0;c++){const u=Math.floor(Math.random()*r.length),d=r.splice(u,1)[0];i.push(d),s++}return{...e,hand:r,discardPile:i,discardCount:s}},i2=(e,t)=>{const{phase:n,sourceLane:r,card:i}=e;let s=[];if(i.effect.type==="SINGLE_MOVE"){if(n==="select_drone")Object.values(t.dronesOnBoard).flat().forEach(c=>{c.isExhausted||s.push({...c,owner:"player1"})});else if(n==="select_destination"){const c=parseInt(r.replace("lane",""),10);["lane1","lane2","lane3"].forEach(u=>{const d=parseInt(u.replace("lane",""),10);Math.abs(c-d)===1&&s.push({id:u,owner:"player1"})})}}else if(n==="select_source_lane")["lane1","lane2","lane3"].forEach(c=>{t.dronesOnBoard[c].length>0&&s.push({id:c,owner:"player1"})});else if(n==="select_drones")t.dronesOnBoard[r].filter(c=>!c.isExhausted).forEach(c=>{s.push({...c,owner:"player1"})});else if(n==="select_destination_lane"){const c=parseInt(r.replace("lane",""),10);["lane1","lane2","lane3"].forEach(u=>{const d=parseInt(u.replace("lane",""),10);Math.abs(c-d)===1&&s.push({id:u,owner:"player1"})})}return s},o2=(e,t,n)=>t.activeDronePool.map(r=>{const i=n.find(d=>d.name===r.name),s=t.appliedUpgrades[r.name]||[],c=s.filter(d=>d.id===e.id).length,u=e.maxApplications===void 0?1:e.maxApplications;return i&&s.length<i.upgradeSlots&&c<u?{...r,id:r.name}:null}).filter(Boolean),s2=(e,t)=>{let n=[];const{phase:r,sourceLane:i}=e||{phase:"select_source_lane"};return r==="select_source_lane"?["lane1","lane2","lane3"].forEach(s=>{t.dronesOnBoard[s].length>0&&n.push({id:s,owner:"player1"})}):r==="select_drones"?t.dronesOnBoard[i]?.forEach(s=>{n.push({...s,owner:"player1"})}):r==="select_destination_lane"&&["lane1","lane2","lane3"].forEach(s=>{s!==i&&n.push({id:s,owner:"player1"})}),n},UM=(e,t,n,r,i,s,c)=>{let u=[],d=[];return e?u=Bc("player1",e.drone,e.ability,i,s):t?u=Bc("player1",{id:t.sectionName},t.ability,i,s):n?d=i2(n,i):r&&(r.type==="Upgrade"?d=o2(r,i,c):r.effect.type==="MULTI_MOVE"?d=s2(n,i):d=Bc("player1",null,r,i,s)),{validAbilityTargets:u,validCardTargets:d}},zM=e=>({type:"EXPLOSION",targetId:e,duration:1e3,timestamp:Date.now()}),GM=(e,t,n,r)=>{const i=Qv(e,t,n,r),s=[];switch(i.type){case"CHANGE_PLAYER":i.nextPlayer==="player1"?s.push({type:"CLOSE_MODAL"}):i.showOpponentModal&&s.push({type:"SHOW_MODAL",modal:{title:"Opponent's Turn",text:"The AI is taking its turn.",isBlocking:!1,onClose:null}});break}return i.triggerAi&&s.push({type:"TRIGGER_AI"}),{transition:i,uiEffects:s}},_e={initialPlayerState:JN,buildDeckFromList:Hw,getEffectiveSectionMaxShields:Xv,getShipStatus:Ii,onDroneDestroyed:Yc,onDroneRecalled:qw,checkWinCondition:qy,calculateAfterAttackStateAndEffects:Fw,applyOnMoveEffects:Yw,updateAuras:ol,getLaneOfDrone:fa,getValidTargets:Bc,calculateAllValidTargets:UM,calculateMultiSelectTargets:i2,calculateUpgradeTargets:o2,calculateMultiMoveTargets:s2,validateDeployment:Kw,validateShieldRemoval:Vw,validateShieldAddition:Wv,executeShieldReallocation:eM,getValidShieldReallocationTargets:tM,processShieldAllocation:nM,processResetShieldAllocation:rM,processEndShieldAllocation:aM,resolveAttack:a2,resolveAbility:iM,resolveShipAbility:oM,executeDeployment:Xw,resolveCardPlay:xM,finishCardPlay:Zw,resolveMultiMove:yM,resolveSingleMove:vM,checkGameStateForWinner:sM,calculatePotentialInterceptors:lM,calculateAiInterception:uM,calculateTurnTransition:Qv,calculatePassTransition:fM,readyDronesAndRestoreShields:Ww,calculateNewRoundPlayerState:Yy,drawToHandLimit:Fy,drawPlayerCards:MM,determineFirstPlayer:nh,enforceHandLimit:RM,checkHandLimitCompliance:IM,checkHandLimitViolations:LM,enforceHandLimits:$M,processDiscardPhase:BM,processTurnTransition:dM,processPhaseChange:hM,processRoundStart:pM,createExplosionEffect:zM,createTurnEndEffects:GM,resolveUnifiedDamageEffect:th,resolveUnifiedHealEffect:Zv,resolveUnifiedDrawEffect:Jv,resolveSearchAndDrawEffect:e2,resolveDroneAbilityEffect:t2,resolveShipAbilityEffect:n2,resolveShipRecallEffect:r2,executeAiDeployment:cM,executeAiTurn:mM,executeAiAction:gM},zf=Object.freeze(Object.defineProperty({__proto__:null,gameEngine:_e,startingDecklist:Bs},Symbol.toStringTag,{value:"Module"})),HM="modulepreload",qM=function(e){return"/"+e},SA={},$a=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let d=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");i=d(n.map(h=>{if(h=qM(h),h in SA)return;SA[h]=!0;const p=h.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":HM,p||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((x,S)=>{y.addEventListener("load",x),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})};class YM{constructor(){this.cache=new Map,this.stats={hits:0,misses:0,invalidations:0,totalRequests:0},console.log(" GameDataCache initialized")}generateKey(t,...n){return[t,...n.map(i=>typeof i=="object"&&i!==null?i.id||i.name||JSON.stringify(i):String(i))].join("|")}get(t){return this.stats.totalRequests++,this.cache.has(t)?(this.stats.hits++,this.cache.get(t)):(this.stats.misses++,null)}set(t,n){this.cache.size>1e3&&Array.from(this.cache.keys()).slice(0,200).forEach(i=>this.cache.delete(i)),this.cache.set(t,n)}has(t){return this.cache.has(t)}delete(t){return this.cache.delete(t)}invalidateAll(){const t=this.cache.size;this.cache.clear(),this.stats.invalidations++,t>0&&console.log(` Cache invalidated: ${t} entries cleared`)}invalidateByType(t){const n=[];for(const r of this.cache.keys())r.startsWith(t+"|")&&n.push(r);n.forEach(r=>this.cache.delete(r)),n.length>0&&console.log(` Cache invalidated: ${n.length} ${t} entries cleared`)}getStats(){const t=this.stats.totalRequests>0?(this.stats.hits/this.stats.totalRequests*100).toFixed(2):0;return{...this.stats,hitRate:`${t}%`,cacheSize:this.cache.size}}resetStats(){this.stats={hits:0,misses:0,invalidations:0,totalRequests:0}}size(){return this.cache.size}}const FM=new YM;class rh{constructor(t){this.gameStateManager=t,this.cache=FM,this.gameStateManager.subscribe(()=>{this.cache.invalidateAll()}),console.log(" GameDataService initialized")}getEffectiveStats(t,n){if(!t||!n)return{attack:0,speed:0,hull:0,maxShields:0,cost:0,baseAttack:0,baseSpeed:0,baseCost:0,keywords:new Set};const r=this.cache.generateKey("effectiveStats",t.id||t.name,n),i=this.cache.get(r);if(i)return i;const s=this.gameStateManager.getState(),c=this.gameStateManager.getLocalPlayerId(),u=this.gameStateManager.getOpponentPlayerId(),d=s[c],h=s[u],p=this.getPlacedSectionsForEngine(),m=this.isDroneOwnedByPlayer(t,d),S=Dr(t,n,m?d:h,m?h:d,p);return this.cache.set(r,S),S}getEffectiveShipStats(t,n=[]){if(!t)return{totals:{handLimit:0,discardLimit:0,energyPerTurn:0,maxEnergy:0,shieldsPerTurn:0,initialDeployment:0,deploymentBudget:0,cpuLimit:0},bySection:{}};const r=this.getPlayerIdFromState(t),i=Array.isArray(n)?n.join(","):"none",s=this.cache.generateKey("effectiveShipStats",r,i),c=this.cache.get(s);if(c)return c;const u=Wa(t,n);return this.cache.set(s,u),u}getPlacedSectionsForEngine(){const t=this.gameStateManager.getState(),n=this.gameStateManager.getLocalPlayerId(),r=this.gameStateManager.getOpponentPlayerId();return{[n]:n==="player1"?t.placedSections:t.opponentPlacedSections,[r]:r==="player1"?t.placedSections:t.opponentPlacedSections}}isDroneOwnedByPlayer(t,n){if(!t||!n)return!1;for(const r of["lane1","lane2","lane3"])if((n.dronesOnBoard[r]||[]).some(s=>s.id===t.id||s.name===t.name))return!0;return!1}getPlayerIdFromState(t){const n=this.gameStateManager.getState(),r=this.gameStateManager.getLocalPlayerId(),i=this.gameStateManager.getOpponentPlayerId();return t===n[r]?r:t===n[i]?i:`player_${JSON.stringify(t.shipSections||{}).length}`}getLaneData(t){const n=this.gameStateManager.getState(),r=this.gameStateManager.getLocalPlayerId(),i=this.gameStateManager.getOpponentPlayerId(),s=n[r],c=n[i],u=(s.dronesOnBoard[t]||[]).map(h=>({...h,effectiveStats:this.getEffectiveStats(h,t),isPlayer:!0})),d=(c.dronesOnBoard[t]||[]).map(h=>({...h,effectiveStats:this.getEffectiveStats(h,t),isPlayer:!1}));return{lane:t,localDrones:u,opponentDrones:d,hasGuardian:this.hasGuardianInLane(t,d)}}hasGuardianInLane(t,n=null){return n||(n=this.getLaneData(t).opponentDrones),n.some(r=>(r.effectiveStats||this.getEffectiveStats(r,t)).keywords.has("GUARDIAN"))}getCacheStats(){return this.cache.getStats()}clearCache(){this.cache.invalidateAll()}}const KM=Object.freeze(Object.defineProperty({__proto__:null,default:rh},Symbol.toStringTag,{value:"Module"}));class VM{constructor(){this.aiPersonalities=null,this.dronePool=null,this.currentAIPersonality=null,this.gameDataService=null}initialize(t,n,r,i=null,s=null){this.aiPersonalities=t,this.dronePool=n,this.currentAIPersonality=r,this.actionProcessor=i,this.gameStateManager=s,s&&(this.gameDataService=new rh(s),this.effectiveShipStatsWrapper=(c,u)=>this.gameDataService.getEffectiveShipStats(c,u)),console.log(" AIPhaseProcessor initialized with personality:",r?.name||"Default"),i&&console.log(" AIPhaseProcessor connected to ActionProcessor for execution")}async processDroneSelection(t=null){const n=t||this.currentAIPersonality;console.log(" AIPhaseProcessor.processDroneSelection starting...");let r=[];if(n&&n.dronePool&&n.dronePool.length>0){r=n.dronePool.map(u=>{const d=this.dronePool?.find(h=>h.name===u);return d||console.warn(` AI personality references unknown drone: ${u}`),d}).filter(u=>u),console.log(` Using ${n.name} personality drone pool: ${r.length} drones mapped from ${n.dronePool.length} names`);const c=r.map(u=>u.name).join(", ");console.log(` Mapped drones: ${c}`)}else r=this.dronePool?[...this.dronePool]:[],console.log(` Using general drone pool: ${r.length} drones`);if(r.length<5){if(console.error(" Not enough drones available for AI selection:",r.length),n&&n.dronePool){const c=n.dronePool.filter(u=>!this.dronePool?.find(d=>d.name===u));c.length>0&&console.error(` Missing drones from collection: ${c.join(", ")}`),console.error(` Available from personality: ${r.map(u=>u.name).join(", ")}`),console.error(` Expected from personality: ${n.dronePool.join(", ")}`)}throw new Error(`Insufficient drones for AI selection: ${r.length} available, need 5`)}const i=this.selectDronesForAI(r,n),s=i.map(c=>c.name).join(", ");return console.log(` AI selected drones: ${s}`),i}selectDronesForAI(t,n){let r=[];if(n&&n.preferredDrones){const c=t.filter(d=>n.preferredDrones.includes(d.name)),u=Math.min(3,c.length);r=c.slice(0,u),console.log(` AI selected ${r.length} preferred drones:`,r.map(d=>d.name).join(", "))}const i=t.filter(c=>!r.includes(c)),s=5-r.length;if(s>0){const c=this.selectBalancedDrones(i,s,n);r=[...r,...c]}for(;r.length<5&&i.length>0;){const c=Math.floor(Math.random()*i.length),u=i.splice(c,1)[0];r.push(u)}if(r.length!==5)throw new Error(`AI selection failed: only selected ${r.length} of 5 drones`);return r}selectBalancedDrones(t,n,r){const i=[],s=[...t];s.sort((d,h)=>{const p=(d.energyCost||1)+(d.health||0)+(d.attack||0);return(h.energyCost||1)+(h.health||0)+(h.attack||0)-p});const c=r?.aggression||.5,u=r?.economy||.5;for(let d=0;d<n&&s.length>0;d++){let h=0;if(c>.7)h=s.findIndex(p=>(p.attack||0)>2),h===-1&&(h=0);else if(u>.7)h=s.findIndex(p=>(p.energyCost||1)<=2),h===-1&&(h=0);else{const p=Math.min(3,s.length);h=Math.floor(Math.random()*p)}i.push(s.splice(h,1)[0])}return console.log(` AI balanced selection (${n}):`,i.map(d=>d.name).join(", ")),i}async processDeckSelection(t=null){const n=t||this.currentAIPersonality;console.log(" AIPhaseProcessor.processDeckSelection starting...");let r=[];if(n&&n.decklist&&n.decklist.length>0){console.log(` Using ${n.name} personality decklist`);const{gameEngine:i}=await $a(async()=>{const{gameEngine:s}=await Promise.resolve().then(()=>zf);return{gameEngine:s}},void 0);r=i.buildDeckFromList(n.decklist)}else{console.log(" Using standard deck as fallback");const{gameEngine:i,startingDecklist:s}=await $a(async()=>{const{gameEngine:c,startingDecklist:u}=await Promise.resolve().then(()=>zf);return{gameEngine:c,startingDecklist:u}},void 0);r=i.buildDeckFromList(s)}return console.log(` AI selected deck with ${r.length} cards`),r}async processPlacement(t=null){const n=t||this.currentAIPersonality;console.log(" AIPhaseProcessor.processPlacement starting...");const r=["bridge","powerCell","droneControlHub"];console.log(` AI placing ${r.length} ship sections`);const i=this.selectSectionsForPlacement(r,n),s=i.join(", ");return console.log(` AI placement completed: ${s}`),i}selectSectionsForPlacement(t,n){const r=[...t];if(n){if(n.aggression>.7){const s=this.arrangeAggressivePlacement(r);return console.log(" AI using aggressive placement strategy"),s}else if(n.economy>.7){const s=this.arrangeEconomicPlacement(r);return console.log(" AI using economic placement strategy"),s}}const i=this.arrangeBalancedPlacement(r);return console.log(" AI using balanced placement strategy"),i}arrangeAggressivePlacement(t){const n=new Array(3).fill(null),r=[...t],i=["droneControlHub","bridge","powerCell"],s=[0,1,2];for(let c=0;c<i.length&&c<r.length;c++){const u=r.findIndex(d=>d===i[c]);u!==-1&&(n[s[c]]=r.splice(u,1)[0])}for(let c=0;c<n.length;c++)!n[c]&&r.length>0&&(n[c]=r.shift());return n}arrangeEconomicPlacement(t){const n=new Array(3).fill(null),r=[...t],i=["powerCell","bridge","droneControlHub"],s=[1,2,0];for(let c=0;c<i.length&&c<r.length;c++){const u=r.findIndex(d=>d===i[c]);u!==-1&&(n[s[c]]=r.splice(u,1)[0])}for(let c=0;c<n.length;c++)!n[c]&&r.length>0&&(n[c]=r.shift());return n}arrangeBalancedPlacement(t){const n=new Array(3).fill(null),r=[...t],i=["bridge","powerCell","droneControlHub"],s=[1,0,2];for(let c=0;c<i.length&&c<r.length;c++){const u=r.findIndex(d=>d===i[c]);u!==-1&&(n[s[c]]=r.splice(u,1)[0])}for(let c=0;c<n.length;c++)!n[c]&&r.length>0&&(n[c]=r.shift());return n}async executeDeploymentTurn(t){if(console.log(" AIPhaseProcessor.executeDeploymentTurn starting..."),this.shouldPass(t,"deployment"))return await this.executePass("deployment");if(!this.actionProcessor)throw new Error("AIPhaseProcessor not properly initialized - missing actionProcessor");const{aiBrain:n}=await $a(async()=>{const{aiBrain:c}=await import("./aiLogic-Dzw1nkUg.js");return{aiBrain:c}},[]),{gameEngine:r}=await $a(async()=>{const{gameEngine:c}=await Promise.resolve().then(()=>zf);return{gameEngine:c}},void 0),i=n.handleOpponentTurn({player1:t.player1,player2:t.player2,turn:t.turn,placedSections:t.placedSections,opponentPlacedSections:t.opponentPlacedSections,getShipStatus:r.getShipStatus,calculateEffectiveShipStats:this.effectiveShipStatsWrapper,gameStateManager:this.gameStateManager,addLogEntry:(c,u,d)=>{this.gameStateManager?.addLogEntry(c,u,d)}});console.log(" AIPhaseProcessor executing deployment decision:",i);const s=await this.actionProcessor.queueAction({type:"aiAction",payload:{aiDecision:i}});return{success:!0,action:"executed",phase:"deployment",playerId:"player2",decision:i,result:s}}async executeActionTurn(t){if(console.log(" AIPhaseProcessor.executeActionTurn starting..."),this.shouldPass(t,"action"))return await this.executePass("action");if(!this.actionProcessor)throw new Error("AIPhaseProcessor not properly initialized - missing actionProcessor");const{aiBrain:n}=await $a(async()=>{const{aiBrain:c}=await import("./aiLogic-Dzw1nkUg.js");return{aiBrain:c}},[]),{gameEngine:r}=await $a(async()=>{const{gameEngine:c}=await Promise.resolve().then(()=>zf);return{gameEngine:c}},void 0),i=n.handleOpponentAction({player1:t.player1,player2:t.player2,placedSections:t.placedSections,opponentPlacedSections:t.opponentPlacedSections,getShipStatus:r.getShipStatus,getLaneOfDrone:r.getLaneOfDrone,getValidTargets:r.getValidTargets,gameStateManager:this.gameStateManager,addLogEntry:(c,u,d)=>{this.gameStateManager?.addLogEntry(c,u,d)}});console.log(" AIPhaseProcessor executing action decision:",i);const s=await this.actionProcessor.queueAction({type:"aiAction",payload:{aiDecision:i}});return{success:!0,action:"executed",phase:"action",playerId:"player2",decision:i,result:s}}shouldPass(t,n){return t.passInfo&&t.passInfo["player2Passed"]?(console.log(" AI has already passed"),!0):!1}async executePass(t){if(!this.gameStateManager)throw new Error("AIPhaseProcessor not properly initialized - missing gameStateManager");console.log(` AIPhaseProcessor: Executing pass for ${t} phase`);const n=this.gameStateManager.getState(),r="player2",i=!n.passInfo.player1Passed&&!n.passInfo.player2Passed,s={...n.passInfo,[r+"Passed"]:!0,firstPasser:n.passInfo.firstPasser||(i?r:null)};return this.gameStateManager.setPassInfo(s),console.log(` AI passed in ${t} phase, firstPasser: ${s.firstPasser}`),{success:!0,action:"pass",phase:t,playerId:r,passInfo:s}}getCapabilities(){return{droneSelection:!0,deckSelection:!0,placement:!0,deployment:!0,action:!0,version:"1.2.0"}}}const Gs=new VM;class XM{constructor(t){this.gameStateManager=t,this.gameDataService=new rh(t),this.effectiveStatsWrapper=(n,r)=>this.gameDataService.getEffectiveStats(n,r),this.actionQueue=[],this.isProcessing=!1,this.p2pManager=null,this.actionLocks={attack:!1,ability:!1,deployment:!1,cardPlay:!1,turnTransition:!1,phaseTransition:!1,roundStart:!1,reallocateShields:!1,aiAction:!1,aiTurn:!1,playerPass:!1,aiShipPlacement:!1}}setP2PManager(t){this.p2pManager=t}async queueAction(t){return new Promise((n,r)=>{this.actionQueue.push({...t,resolve:n,reject:r,timestamp:Date.now()}),this.processQueue()})}async processQueue(){if(!(this.isProcessing||this.actionQueue.length===0)){this.isProcessing=!0;try{for(;this.actionQueue.length>0;){const t=this.actionQueue.shift();try{const n=await this.processAction(t);t.resolve(n)}catch(n){console.error("Action processing error:",n),t.reject(n)}}}finally{this.isProcessing=!1}}}async processAction(t){const{type:n,payload:r,isNetworkAction:i=!1}=t,s=this.gameStateManager.getState();if(s.passInfo&&["attack","ability","deployment","cardPlay"].includes(n)){let u=r.playerId||s.currentPlayer;n==="aiTurn"&&r.playerId&&(u=r.playerId);const d=`${u}Passed`;if(s.passInfo[d])throw console.log(`[PASS VALIDATION] Blocking ${n} action - ${u} has already passed`),new Error(`Cannot perform ${n} action: ${u} has already passed`)}if(n==="allocateShield"&&s.turnPhase==="allocateShields")throw new Error("Round start shield allocation should use direct updates, not ActionProcessor");if(n==="resetShieldAllocation"&&s.turnPhase==="allocateShields")throw new Error("Round start shield allocation reset should use direct updates, not ActionProcessor");if(n==="endShieldAllocation"&&s.turnPhase==="allocateShields")throw new Error("Round start shield allocation completion should use direct updates, not ActionProcessor");if(this.actionLocks[n])throw new Error(`Action ${n} is currently locked`);!i&&this.p2pManager&&this.p2pManager.isConnected&&this.gameStateManager.get("gameMode")!=="local"&&(console.log("[P2P ACTION] Sending action to peer:",{type:n,payload:r}),this.p2pManager.sendData({type:"ACTION",action:{type:n,payload:r},timestamp:Date.now()})),this.actionLocks[n]=!0;try{switch(n){case"attack":return await this.processAttack(r);case"ability":return await this.processAbility(r);case"deployment":return await this.processDeployment(r);case"cardPlay":return await this.processCardPlay(r);case"turnTransition":return await this.processTurnTransition(r);case"phaseTransition":return await this.processPhaseTransition(r);case"roundStart":return await this.processRoundStart(r);case"reallocateShields":return await this.processReallocateShields(r);case"aiAction":return await this.processAiAction(r);case"aiTurn":return await this.processAiTurn(r);case"playerPass":return await this.processPlayerPass(r);case"aiShipPlacement":return await this.processAiShipPlacement(r);default:throw new Error(`Unknown action type: ${n}`)}}finally{this.actionLocks[n]=!1}}async processAttack(t){const{attackDetails:n}=t,r=this.gameStateManager.getState(),i={player1:r.placedSections,player2:r.opponentPlacedSections},s=h=>{this.gameStateManager.addLogEntry(h,"resolveAttack",n.attackingPlayer==="player2"?n.aiContext:null)},c=()=>{},u=()=>{},d=_e.resolveAttack(n,{player1:r.player1,player2:r.player2},i,s,c,u);return this.gameStateManager.setPlayerStates(d.newPlayerStates.player1,d.newPlayerStates.player2),d}async processAbility(t){const{droneId:n,abilityIndex:r,targetId:i}=t,s=this.gameStateManager.getState(),c={player1:s.player1,player2:s.player2},u={player1:s.placedSections,player2:s.opponentPlacedSections};let d=null,h=null;if(Object.values(c).forEach(S=>{Object.values(S.dronesOnBoard).forEach(A=>{A.forEach(P=>{P.id===n&&(d=P),P.id===i&&(h=P)})})}),!d||!d.abilities[r])throw new Error(`Invalid drone or ability: ${n}, ${r}`);const p=d.abilities[r],m=S=>{this.gameStateManager.addLogEntry(S,"resolveAbility")},y=async S=>await this.processAttack({attackDetails:S}),x=_e.resolveAbility(p,d,h,c,u,m,y);return this.gameStateManager.setPlayerStates(x.newPlayerStates.player1,x.newPlayerStates.player2),x}async processDeployment(t){const{droneData:n,laneId:r,playerId:i,turn:s}=t,c=this.gameStateManager.getState(),u=c[i],h=c[i==="player1"?"player2":"player1"],p={player1:c.placedSections,player2:c.opponentPlacedSections},m=x=>{this.gameStateManager.addLogEntry(x)},y=_e.executeDeployment(n,r,s||c.turn,u,h,p,m);return y.success&&(i==="player1"?this.gameStateManager.updatePlayers(y.newPlayerState,{}):this.gameStateManager.updatePlayers({},y.newPlayerState)),y}async processCardPlay(t){const{card:n,targetId:r,playerId:i}=t,s=this.gameStateManager.getState(),c={player1:s.player1,player2:s.player2},u={player1:s.placedSections,player2:s.opponentPlacedSections},d={logCallback:p=>this.gameStateManager.addLogEntry(p),explosionCallback:()=>{},hitAnimationCallback:()=>{},resolveAttackCallback:async p=>await this.processAttack(p)},h=_e.resolveCardPlay(n,r,i,c,u,d);return this.gameStateManager.setPlayerStates(h.newPlayerStates.player1,h.newPlayerStates.player2),h}async processTurnTransition(t){const{newPhase:n,newPlayer:r}=t;console.log("[TURN TRANSITION DEBUG] Processing turn transition:",{newPhase:n,newPlayer:r});const i=this.gameStateManager.getState();console.log("[TURN TRANSITION DEBUG] Current state before transition:",{turnPhase:i.turnPhase,currentPlayer:i.currentPlayer,turn:i.turn});const s=_e.calculateTurnTransition(i.currentPlayer,i.passInfo,i.turnPhase,i.winner);n&&(console.log(`[TURN TRANSITION DEBUG] Setting new phase: ${n}`),this.gameStateManager.setTurnPhase(n)),r&&(console.log(`[TURN TRANSITION DEBUG] Setting new player: ${r}`),this.gameStateManager.setCurrentPlayer(r));const c=this.gameStateManager.getState();return console.log("[TURN TRANSITION DEBUG] State after transition:",{turnPhase:c.turnPhase,currentPlayer:c.currentPlayer,turn:c.turn,transitionType:s.type}),{success:!0,transitionType:s.type}}async processPhaseTransition(t){const{newPhase:n,resetPassInfo:r=!0}=t;console.log(`[PHASE TRANSITION DEBUG] Processing phase transition to: ${n}`);const i=this.gameStateManager.getState();console.log(`[PLACEMENT DATA DEBUG] BEFORE transition to ${n}:`,{currentPhase:i.turnPhase,placedSections:i.placedSections,opponentPlacedSections:i.opponentPlacedSections});const s={};if(n==="allocateShields"){const d=this.gameStateManager.getLocalPlayerId(),h=i[d],m=this.gameDataService.getEffectiveShipStats(h,this.gameStateManager.getLocalPlacedSections()).totals.shieldsPerTurn;s.shieldsToAllocate=m,console.log(`[SHIELD ALLOCATION DEBUG] Initialized shields to allocate: ${m}`)}else n==="placement"&&(s.unplacedSections=["bridge","powerCell","droneControlHub"],s.placedSections=Array(3).fill(null),s.opponentPlacedSections=Array(3).fill(null),console.log("[PLACEMENT DEBUG] Initialized placement phase"));const c=_e.calculateTurnTransition(i.currentPlayer,i.passInfo,i.turnPhase,i.winner);s.turnPhase=n,this.gameStateManager.setState(s),r&&this.gameStateManager.setPassInfo({firstPasser:null,player1Passed:!1,player2Passed:!1}),console.log(`[PHASE TRANSITION DEBUG] Phase transition complete: ${i.turnPhase}  ${n}`);const u=this.gameStateManager.getState();return console.log(`[PLACEMENT DATA DEBUG] AFTER transition to ${n}:`,{newPhase:u.turnPhase,placedSections:u.placedSections,opponentPlacedSections:u.opponentPlacedSections,stateUpdatesApplied:s}),{success:!0,newPhase:n,transitionType:c.type}}async processRoundStart(t){const{newTurn:n,newPhase:r="deployment",firstPlayer:i}=t;console.log(`[ROUND START DEBUG] Processing round start for turn: ${n}`);const s=this.gameStateManager.getState(),c=i||_e.determineFirstPlayer(n,s.firstPlayerOverride,s.firstPasserOfPreviousRound),u=this.gameDataService.getEffectiveShipStats(s.player1,s.placedSections),d=this.gameDataService.getEffectiveShipStats(s.player2,s.opponentPlacedSections),h=_e.calculateNewRoundPlayerState(s.player1,n,u,s.player2,s.placedSections),p=_e.calculateNewRoundPlayerState(s.player2,n,d,s.player1,s.opponentPlacedSections);return this.gameStateManager.setState({turn:n,turnPhase:r,currentPlayer:c,firstPlayerOfRound:c,passInfo:{firstPasser:null,player1Passed:!1,player2Passed:!1}}),this.gameStateManager.setPlayerStates(h,p),console.log(`[ROUND START DEBUG] Round start complete - Turn ${n}, First player: ${c}`),{success:!0,newTurn:n,newPhase:r,firstPlayer:c,playerStates:{player1:h,player2:p}}}async processReallocateShields(t){const{action:n,sectionName:r,originalShipSections:i,playerId:s=this.gameStateManager.getLocalPlayerId()}=t,c=this.gameStateManager.getState();if(c.turnPhase!=="action")throw new Error(`Shield reallocation through ActionProcessor is only valid during action phase, not ${c.turnPhase}`);console.log("[SHIELD REALLOCATION DEBUG] Processing action phase shield reallocation:",{action:n,sectionName:r,playerId:s});const u=c[s];if(n==="remove"){const d=u.shipSections[r];if(!d||d.allocatedShields<=0)return{success:!1,error:"Cannot remove shield from this section"};const h={...u.shipSections,[r]:{...u.shipSections[r],allocatedShields:u.shipSections[r].allocatedShields-1}},p={...u,shipSections:h};return this.gameStateManager.updatePlayerState(s,p),console.log(`[SHIELD REALLOCATION DEBUG] Shield removed from ${r}`),{success:!0,action:"remove",sectionName:r,newPlayerState:p}}else if(n==="add"){const d=s==="player1"?c.placedSections:c.opponentPlacedSections,h=_e.getEffectiveSectionMaxShields(r,u,d),p=u.shipSections[r];if(!p||p.allocatedShields>=h)return{success:!1,error:"Cannot add shield to this section"};const m={...u.shipSections,[r]:{...u.shipSections[r],allocatedShields:u.shipSections[r].allocatedShields+1}},y={...u,shipSections:m};return this.gameStateManager.updatePlayerState(s,y),console.log(`[SHIELD REALLOCATION DEBUG] Shield added to ${r}`),{success:!0,action:"add",sectionName:r,newPlayerState:y}}else if(n==="restore"){if(!i)return{success:!1,error:"No original ship sections provided for restore"};const d={...u,shipSections:i};return this.gameStateManager.updatePlayerState(s,d),console.log("[SHIELD REALLOCATION DEBUG] Shield allocation restored to original state"),{success:!0,action:"restore",newPlayerState:d}}return{success:!1,error:`Unknown reallocation action: ${n}`}}async processAiAction(t){const{aiDecision:n}=t;switch(n.type){case"deploy":const{droneToDeploy:r,targetLane:i}=n.payload;return await this.processDeployment({droneData:r,laneId:i,playerId:"player2",turn:this.gameStateManager.get("turn")});case"action":const s=n.payload;switch(s.type){case"attack":return await this.processAttack({attackDetails:{attackerId:s.attacker.id,targetId:s.target.id,attackingPlayer:"player2",aiContext:n.logContext}});case"play_card":return await this.processCardPlay({card:s.card,targetId:s.target?.id,playerId:"player2"});case"move":const c=this.gameStateManager.getState(),u={name:"AI Move",cost:0,effect:{type:"MOVE",properties:[]}},d=_e.resolveSingleMove(u,s.drone,s.fromLane,s.toLane,c.player2,c.player1,{player1:c.placedSections,player2:c.opponentPlacedSections},{logCallback:()=>{},applyOnMoveEffectsCallback:_e.applyOnMoveEffects,updateAurasCallback:_e.updateAuras});return this.gameStateManager.updatePlayerState("player2",d.newPlayerState),d;case"ability":return await this.processAbility({droneId:s.drone.id,abilityIndex:s.abilityIndex,targetId:s.target?.id});default:throw new Error(`Unknown AI action subtype: ${s.type}`)}case"pass":return{success:!0,action:"pass"};default:throw new Error(`Unknown AI action type: ${n.type}`)}}async processAiTurn(t){const{turnPhase:n,playerId:r}=t;console.log(`[AI TURN DEBUG] Starting AI turn for ${r} in phase: ${n}`);const i=this.gameStateManager.getState(),s=i.passInfo;if(console.log("[AI TURN DEBUG] Current state:",{turnPhase:i.turnPhase,currentPlayer:i.currentPlayer,turn:i.turn,passInfo:s}),s[r+"Passed"])return console.log("[AI TURN DEBUG] AI already passed, returning"),{success:!0,action:"already_passed"};let c;console.log(`[AI TURN DEBUG] Delegating to AIPhaseProcessor for phase: ${n}`),n==="deployment"?c=await Gs.handleDeploymentTurn(i):n==="action"?c=await Gs.handleActionTurn(i):(c={type:"pass"},console.log(`[AI TURN DEBUG] AI passing due to unknown phase: ${n}`)),console.log("[AI TURN DEBUG] AI decision from AIPhaseProcessor:",c),console.log("[AI TURN DEBUG] Processing AI decision:",c.type);const u=await this.processAiDecision(c,r);return console.log("[AI TURN DEBUG] AI decision result:",u),u}async processAiDecision(t,n){switch(console.log(`[AI DECISION DEBUG] Processing AI decision type: ${t.type}`),t.type){case"deploy":const{droneToDeploy:r,targetLane:i}=t.payload;console.log("[AI DECISION DEBUG] AI deploying:",{droneToDeploy:r?.name,targetLane:i});const s=await this.processDeployment({droneData:r,laneId:i,playerId:n,turn:this.gameStateManager.get("turn")});return console.log("[AI DECISION DEBUG] Deployment result:",s),s.success?(console.log("[AI DECISION DEBUG] Deployment successful, transitioning turn"),await this.processTurnTransition({newPlayer:n==="player1"?"player2":"player1"}),console.log("[AI DECISION DEBUG] Turn transition complete")):console.log("[AI DECISION DEBUG] Deployment failed, not transitioning turn"),s;case"action":const c=t.payload;let u;switch(c.type){case"attack":u=await this.processAttack({attackDetails:{attackerId:c.attacker.id,targetId:c.target.id,attackingPlayer:n,aiContext:t.logContext}});break;case"play_card":u=await this.processCardPlay({card:c.card,targetId:c.target?.id,playerId:n});break;case"move":u=await this.processMove(c,n);break;case"ability":u=await this.processAbility({droneId:c.drone.id,abilityIndex:c.abilityIndex,targetId:c.target?.id});break;default:throw new Error(`Unknown AI action subtype: ${c.type}`)}return u.shouldEndTurn!==!1&&await this.processTurnTransition({newPlayer:n==="player1"?"player2":"player1"}),u;case"pass":console.log("[AI DECISION DEBUG] AI passing");const d=this.gameStateManager.getState(),h=!d.passInfo[n==="player1"?"player2Passed":"player1Passed"];console.log("[AI DECISION DEBUG] Pass info before update:",d.passInfo),this.gameStateManager.updatePassInfo({[n+"Passed"]:!0,firstPasser:d.passInfo.firstPasser||(h?n:null)});const p=this.gameStateManager.get("passInfo");return console.log("[AI DECISION DEBUG] Pass info after update:",p),p.player1Passed&&p.player2Passed?(console.log("[AI DECISION DEBUG] Both players passed, transitioning phase"),d.turnPhase==="deployment"?await this.processTurnTransition({newPhase:"action"}):d.turnPhase==="action"&&await this.processTurnTransition({newPhase:"roundEnd"})):(console.log("[AI DECISION DEBUG] Only AI passed, switching to other player"),await this.processTurnTransition({newPlayer:n==="player1"?"player2":"player1"})),{success:!0,action:"pass"};default:throw new Error(`Unknown AI action type: ${t.type}`)}}async processMove(t,n){const r=this.gameStateManager.getState(),i={name:"AI Move",cost:0,effect:{type:"MOVE",properties:[]}},s=r[n],c=r[n==="player1"?"player2":"player1"],u=_e.resolveSingleMove(i,t.drone,t.fromLane,t.toLane,s,c,{player1:r.placedSections,player2:r.opponentPlacedSections},{logCallback:()=>{},applyOnMoveEffectsCallback:_e.applyOnMoveEffects,updateAurasCallback:_e.updateAuras});return this.gameStateManager.updatePlayerState(n,u.newPlayerState),u}isActionInProgress(){return this.isProcessing||Object.values(this.actionLocks).some(t=>t)}getQueueLength(){return this.actionQueue.length}async processNetworkAction(t){const{action:n}=t;console.log("[P2P ACTION] Processing network action:",n);const r={...n,isNetworkAction:!0};return await this.queueAction(r)}async processPlayerPass(t){const{playerId:n,playerName:r,turnPhase:i,passInfo:s,opponentPlayerId:c}=t;console.log("[PLAYER PASS DEBUG] Processing player pass through ActionProcessor:",{playerId:n,playerName:r,turnPhase:i,currentPassInfo:s}),this.gameStateManager.getState(),this.gameStateManager.addLogEntry({player:r,actionType:"PASS",source:"N/A",target:"N/A",outcome:`Passed during ${i} phase.`},"playerPass");const u=`${c}Passed`,d=`${n}Passed`,h=!s[u],p={...s,[d]:!0,firstPasser:s.firstPasser||(h?n:null)};return console.log("[PLAYER PASS DEBUG] Updating pass info:",p),this.gameStateManager.setPassInfo(p,"ActionProcessor"),p[c+"Passed"]?i==="deployment"?await this.processPhaseTransition({nextPhase:"action"}):i==="action"&&await this.processPhaseTransition({nextPhase:"endRound"}):await this.processTurnTransition({newPlayer:c}),this.p2pManager&&this.p2pManager.isConnected&&this.p2pManager.sendAction("playerPass",{playerId:n,playerName:r,turnPhase:i,passInfo:p}),{success:!0,newPassInfo:p}}async processAiShipPlacement(t){const{placement:n,aiPersonality:r}=t;console.log("[AI SHIP PLACEMENT] Processing AI ship placement:",{placement:n,aiPersonality:r}),console.error(" CRITICAL - Setting opponentPlacedSections to:",n),this.gameStateManager.setState({opponentPlacedSections:n},"aiShipPlacement");const i=this.gameStateManager.getState();return console.error(" CRITICAL - After setState, opponentPlacedSections is now:",i.opponentPlacedSections),this.gameStateManager.addLogEntry({player:"AI Opponent",actionType:"SHIP_PLACEMENT",source:"AI System",target:"Ship Sections",outcome:`${r} deployed ship sections: ${n.join(", ")}`},"aiShipPlacement"),this.p2pManager&&this.p2pManager.isConnected&&this.p2pManager.sendAction("aiShipPlacement",{placement:n,aiPersonality:r}),{success:!0,placement:n}}clearQueue(){this.actionQueue.forEach(t=>{t.reject(new Error("Action queue cleared"))}),this.actionQueue=[],Object.keys(this.actionLocks).forEach(t=>{this.actionLocks[t]=!1}),this.isProcessing=!1}}const l2=e=>{if(!e||e.length===0)throw new Error("droneCollection must be a non-empty array");const t=[...e].sort(()=>.5-Math.random()),n=t.slice(0,3),r=t.slice(3);return console.log(` Initialized drone selection: ${n.length} in trio, ${r.length} in pool`),console.log(` Initial trio: ${n.map(i=>i.name).join(", ")}`),{droneSelectionTrio:n,droneSelectionPool:r}},WM=(e,t=3)=>{if(!e||e.length===0)return console.warn(" No drones remaining in pool for next trio"),{droneSelectionTrio:[],droneSelectionPool:[]};const n=e.slice(0,t),r=e.slice(t);return console.log(` Advanced drone trio: ${n.map(i=>i.name).join(", ")}`),console.log(` Remaining in pool: ${r.length} drones`),{droneSelectionTrio:n,droneSelectionPool:r}};class QM{constructor(){console.log(" GAMESTATE INITIALIZATION: Creating new GameStateManager instance"),this.listeners=new Set,this.state={appState:"menu",isHost:!1,isGuest:!1,isConnected:!1,opponentId:null,gameMode:"local",gameActive:!1,turnPhase:null,turn:null,currentPlayer:null,firstPlayerOfRound:null,firstPasserOfPreviousRound:null,firstPlayerOverride:null,passInfo:null,winner:null,player1:null,player2:null,placedSections:[],opponentPlacedSections:[],unplacedSections:[],shieldsToAllocate:0,droneSelectionPool:[],droneSelectionTrio:[],gameLog:[]},this.actionProcessor=new XM(this),this.gameFlowManager=null,this.p2pIntegrationSetup=!1,console.log(" GAMESTATE INITIALIZATION: GameStateManager created"),console.log(" App State:",this.state.appState),console.log(" Game Active:",this.state.gameActive),console.log(" GAMESTATE INITIALIZATION: GameStateManager ready (no game active)")}setGameFlowManager(t){this.gameFlowManager=t}setupP2PIntegration(t){this.p2pIntegrationSetup||(this.actionProcessor.setP2PManager(t),t.setActionProcessor(this.actionProcessor),t.subscribe(n=>{switch(n.type){case"multiplayer_mode_change":this.setMultiplayerMode(n.data.mode,n.data.isHost);break;case"state_sync_requested":const r=this.getState();t.sendData({type:"GAME_STATE_SYNC",state:r,timestamp:Date.now()});break}}),this.p2pIntegrationSetup=!0)}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}emit(t,n={}){this.listeners.forEach(r=>{try{r({type:t,payload:n,state:this.getState()})}catch(i){console.error("Error in state listener:",i)}})}getState(){return{...this.state}}get(t){return this.state[t]}setState(t,n="STATE_UPDATE"){const r={...this.state},i=new Error().stack,s=i?i.split(`
`):[],c=this.extractCallerInfo(s),u=s.some(S=>S.includes("App.jsx")),d=s.some(S=>S.includes("ActionProcessor")),h=s.some(S=>S.includes("PhaseManager")),p=d||h;u&&!p&&(console.error(" ARCHITECTURE VIOLATION: App.jsx is directly updating GameStateManager!"),console.error(" App.jsx should only call ActionProcessor or PhaseManager methods"),console.error(" Stack trace:",i));const m=Object.keys(t),y=`${c.primaryCaller} in ${c.primaryFile}`;console.log(` GAMESTATE CHANGE [${n}] from ${y}:`,{changedKeys:m,allUpdates:t,architectureViolation:u&&!p});const x=["GAME_RESET","INITIALIZATION"].includes(n);(t.player1||t.player2)&&!x&&this.logPlayerStateChanges(t,r,y,n),m.forEach(S=>{if(!["player1","player2"].includes(S)){const A=r[S],P=t[S];JSON.stringify(A)!==JSON.stringify(P)&&console.log(` STATE CHANGE: ${S}`,{before:A,after:P,caller:y,eventType:n})}}),this.validateStateUpdate(t,r),this.state={...this.state,...t},this.emit(n,{updates:t,prevState:r})}validateStateUpdate(t,n){const r=new Error().stack,i=r&&r.includes("ActionProcessor");this.actionProcessor.isActionInProgress()&&Object.keys(t).length>0&&(i||["player1","player2","turnPhase","currentPlayer"].some(u=>u in t)&&console.warn("Race condition detected: External state update during action processing",{updates:Object.keys(t),actionInProgress:!0,queueLength:this.actionProcessor.getQueueLength(),stack:r?.split(`
`).slice(0,5)})),this.validateActionProcessorUsage(t,n,i,r),(t.player1||t.player2)&&this.validatePlayerStates(t.player1||n.player1,t.player2||n.player2),t.turnPhase&&t.turnPhase!==n.turnPhase&&this.validateTurnPhaseTransition(n.turnPhase,t.turnPhase)}validatePlayerStates(t,n){if(!t||!n)return;const r=(s,c)=>{s.energy<0&&console.error(`Invalid state: ${c} has negative energy: ${s.energy}`),s.deploymentBudget<0&&console.error(`Invalid state: ${c} has negative deployment budget: ${s.deploymentBudget}`)};r(t,"player1"),r(n,"player2");const i=new Set;[t,n].forEach((s,c)=>{Object.values(s.dronesOnBoard).forEach(u=>{u.forEach(d=>{i.has(d.id)&&console.error(`Duplicate drone ID detected: ${d.id} in player${c+1}`),i.add(d.id)})})})}validateTurnPhaseTransition(t,n){({null:["droneSelection","preGame"],preGame:["droneSelection","deckSelection"],droneSelection:["deckSelection"],deckSelection:["placement"],placement:["energyReset","initialDraw","deployment"],energyReset:["mandatoryDiscard","draw","determineFirstPlayer","allocateShields","mandatoryDroneRemoval","deployment"],initialDraw:["mandatoryDiscard","draw","determineFirstPlayer","allocateShields","mandatoryDroneRemoval","deployment"],mandatoryDiscard:["energyReset","draw","determineFirstPlayer","allocateShields","mandatoryDroneRemoval","deployment"],draw:["determineFirstPlayer","allocateShields","mandatoryDroneRemoval","deployment"],determineFirstPlayer:["allocateShields","mandatoryDroneRemoval","deployment"],allocateShields:["mandatoryDroneRemoval","deployment"],mandatoryDroneRemoval:["deployment"],deployment:["action","roundEnd"],action:["deployment","roundEnd","energyReset","mandatoryDiscard","draw","determineFirstPlayer","allocateShields","mandatoryDroneRemoval","gameEnd"],roundEnd:["energyReset","mandatoryDiscard","draw","determineFirstPlayer","allocateShields","mandatoryDroneRemoval","deployment","gameEnd"],gameEnd:[]})[t]?.includes(n)||console.warn(`Invalid turn phase transition: ${t} -> ${n}`)}validateActionProcessorUsage(t,n,r,i){if(this.isInitializationPhase(n.turnPhase)||["droneSelection","deckSelection","placement","mandatoryDiscard","allocateShields","mandatoryDroneRemoval"].includes(n.turnPhase))return;const c=["energyReset","draw","determineFirstPlayer"];if(c.includes(n.turnPhase)||c.includes(t.turnPhase)||this.gameFlowManager&&this.gameFlowManager.isProcessingAutomaticPhase)return;const u=["player1","player2","currentPlayer","turnPhase","turn","passInfo","winner","firstPlayerOfRound","firstPasserOfPreviousRound"],d=["gameLog","shieldsToAllocate","placedSections","opponentPlacedSections","unplacedSections","droneSelectionPool","droneSelectionTrio"],h=Object.keys(t).filter(m=>u.includes(m)),p=Object.keys(t).filter(m=>d.includes(m));if(h.length>0&&!r){const m=i?.split(`
`)||[],y=m.find(x=>x.includes(".jsx")&&!x.includes("GameStateManager"))||m[2]||"Unknown";console.warn(" ActionProcessor bypass detected: Critical game state updated directly",{updates:h,turnPhase:n.turnPhase,caller:y.trim(),allUpdates:Object.keys(t),actionInProgress:this.actionProcessor.isActionInProgress(),recommendation:"Use processAction() instead of direct state updates"}),console.debug(" ActionProcessor bypass debug info:",{stackTrace:m.slice(0,8),currentState:{turnPhase:n.turnPhase,currentPlayer:n.currentPlayer,turn:n.turn},updateDetails:t})}p.length>0,this.validateFunctionAppropriateForStateUpdate(t,n,r,i)}logPlayerStateChanges(t,n,r,i){["player1","player2"].forEach(s=>{if(t[s]){const c=n[s],u=t[s];console.log(` PLAYER STATE CHANGE [${s}] [${i}] from ${r}:`),["energy","activeDronePool","hand","deck","dronesOnBoard","deploymentBudget","initialDeploymentBudget"].forEach(h=>{const p=c?c[h]:void 0,m=u?u[h]:void 0;if(JSON.stringify(p)!==JSON.stringify(m))if(h==="energy"||h==="deploymentBudget"||h==="initialDeploymentBudget")console.log(`   ${h}: ${p}  ${m}`),(m==null||isNaN(m))&&console.error(`   WARNING: ${h} became ${m}!`);else if(h==="activeDronePool"){const y=Array.isArray(p)?p.length:"undefined",x=Array.isArray(m)?m.length:"undefined";let S,A;if(Array.isArray(p))try{S=p.map(P=>P?.name||"UNNAMED").join(",")}catch(P){S=`ERROR_MAPPING_OLD: ${P.message}`}else S="undefined";if(Array.isArray(m))try{A=m.map(P=>P?.name||"UNNAMED").join(",")}catch(P){A=`ERROR_MAPPING_NEW: ${P.message}`}else A="undefined";if(console.log(`   ${h}: [${y} drones]  [${x} drones]`),console.log(`    Old drones: ${S}`),console.log(`    New drones: ${A}`),(A.includes("ERROR")||A==="undefined")&&(console.log("     Debug newValue:",m),Array.isArray(m)&&m.length>0&&console.log("     First drone object:",m[0])),y!==x||S!==A){const P=new Error().stack?.split(`
`).slice(1,4).join(`
`)||"No stack trace";console.log(`     Update source:
${P}`)}}else if(h==="hand"||h==="deck"){const y=Array.isArray(p)?p.length:"undefined",x=Array.isArray(m)?m.length:"undefined";console.log(`   ${h}: [${y} cards]  [${x} cards]`)}else if(h==="dronesOnBoard"){const y=p?`L1:${p.lane1?.length||0} L2:${p.lane2?.length||0} L3:${p.lane3?.length||0}`:"undefined",x=m?`L1:${m.lane1?.length||0} L2:${m.lane2?.length||0} L3:${m.lane3?.length||0}`:"undefined";console.log(`   ${h}: ${y}  ${x}`)}else console.log(`   ${h}:`,{before:p,after:m})}),console.log(` Full ${s} state:`,u)}})}isInitializationPhase(t){return[null,"preGame","droneSelection","deckSelection","deckBuilding","placement","initialDraw"].includes(t)}validateFunctionAppropriateForStateUpdate(t,n,r,i){if(this.isInitializationPhase(n.turnPhase)||r)return;const s=i?.split(`
`)||[],c=this.extractCallerInfo(s),u=["handle","onClick","onSubmit","onSelect","onConfirm","onComplete","render","component","modal","display","show","hide","setModal","setSelected","setActive","setVisible","calculate","format","validate","transform"],d=["GameStateManager","ActionProcessor","gameLogic","gameEngine","reset","initialize","setup","init","setState","updateState","syncState","p2p","network","sync"],h=c.functions.filter(m=>u.some(y=>m.toLowerCase().includes(y.toLowerCase()))),p=c.functions.filter(m=>d.some(y=>m.toLowerCase().includes(y.toLowerCase())));h.length>0&&p.length===0&&(console.warn(" Inappropriate function updating game state:",{inappropriateFunctions:h,updates:Object.keys(t),turnPhase:n.turnPhase,callerInfo:c,recommendation:"UI functions should use processAction() instead of direct state updates",architecture:"UI  ActionProcessor  gameLogic.js  GameStateManager"}),console.debug(" Function validation debug info:",{allFunctionsInStack:c.functions,inappropriateFound:h,appropriateFound:p,updateDetails:t,stackTrace:s.slice(0,10)}))}extractCallerInfo(t){const n=[],r=[];for(const i of t){const s=i.match(/at\s+([\w.$]+)\s*\(/);if(s){const u=s[1];u!=="Object"&&u!=="anonymous"&&!u.startsWith("eval")&&n.push(u)}const c=i.match(/\/([^\/]+\.(jsx?|ts|tsx)):\d+/);c&&r.push(c[1])}return{functions:[...new Set(n)],files:[...new Set(r)],primaryCaller:n[0]||"Unknown",primaryFile:r[0]||"Unknown"}}reset(){const t={turnPhase:"preGame",turn:1,currentPlayer:null,firstPlayerOfRound:null,firstPasserOfPreviousRound:null,firstPlayerOverride:null,passInfo:{firstPasser:null,player1Passed:!1,player2Passed:!1},winner:null,player1:_e.initialPlayerState("Player 1",Bs),player2:_e.initialPlayerState("Player 2",Bs),placedSections:[],opponentPlacedSections:[],unplacedSections:[],shieldsToAllocate:0,droneSelectionPool:[],droneSelectionTrio:[],gameLog:[]};this.setState(t,"GAME_RESET")}startGame(t="local",n={},r={}){console.log(" GAME START: Initializing new game session");const i={appState:"inGame",gameActive:!0,gameMode:t,turnPhase:"droneSelection",turn:1,currentPlayer:null,firstPlayerOfRound:null,firstPasserOfPreviousRound:null,firstPlayerOverride:null,passInfo:{firstPasser:null,player1Passed:!1,player2Passed:!1},winner:null,player1:{..._e.initialPlayerState(n.name||"Player 1",n.decklist||Bs),...n},player2:{..._e.initialPlayerState(r.name||"Player 2",r.decklist||Bs),...r},placedSections:[],opponentPlacedSections:[],unplacedSections:[],shieldsToAllocate:0,gameLog:[]},s=l2(Tn);i.droneSelectionPool=s.droneSelectionPool,i.droneSelectionTrio=s.droneSelectionTrio,this.setState(i,"GAME_STARTED"),console.log(" Player 1 Created:",{name:i.player1.name,energy:i.player1.energy,deckCount:i.player1.deck?.length||0}),console.log(" Player 2 Created:",{name:i.player2.name,energy:i.player2.energy,deckCount:i.player2.deck?.length||0}),console.log(" GAME START: Game session initialized successfully")}endGame(){console.log(" GAME END: Ending current game session"),this.setState({appState:"menu",gameActive:!1,turnPhase:null,turn:null,currentPlayer:null,firstPlayerOfRound:null,firstPasserOfPreviousRound:null,firstPlayerOverride:null,passInfo:null,winner:null,player1:null,player2:null,placedSections:[],opponentPlacedSections:[],unplacedSections:[],shieldsToAllocate:0,droneSelectionPool:[],droneSelectionTrio:[],gameLog:[]},"GAME_ENDED"),console.log(" GAME END: Returned to menu state")}setMultiplayerMode(t,n=!1){this.setState({gameMode:t,isHost:n&&t!=="local",isGuest:!n&&t!=="local"},"MULTIPLAYER_MODE_SET")}updatePlayers(t={},n={}){const r={};Object.keys(t).length>0&&(r.player1={...this.state.player1,...t}),Object.keys(n).length>0&&(r.player2={...this.state.player2,...n}),Object.keys(r).length>0&&this.setState(r,"PLAYERS_UPDATED")}updatePlayerState(t,n){t==="player1"?this.updatePlayers(n,{}):t==="player2"&&this.updatePlayers({},n)}setPlayerStates(t,n){this.setState({player1:t,player2:n},"PLAYER_STATES_SET")}setCurrentPlayer(t){this.setState({currentPlayer:t},"CURRENT_PLAYER_CHANGED")}setTurnPhase(t){this.setState({turnPhase:t},"TURN_PHASE_CHANGED")}setFirstPlayerOfRound(t){this.setState({firstPlayerOfRound:t},"FIRST_PLAYER_OF_ROUND_SET")}setFirstPasserOfPreviousRound(t){this.setState({firstPasserOfPreviousRound:t},"FIRST_PASSER_OF_PREVIOUS_ROUND_SET")}setFirstPlayerOverride(t){this.setState({firstPlayerOverride:t},"FIRST_PLAYER_OVERRIDE_SET")}updatePassInfo(t){const n={...this.state.passInfo,...t};this.setState({passInfo:n},"PASS_INFO_UPDATED")}setPassInfo(t){this.setState({passInfo:t},"PASS_INFO_SET")}isMyTurn(){return this.state.gameMode==="local"?!0:this.state.gameMode==="host"?this.state.currentPlayer==="player1":this.state.gameMode==="guest"?this.state.currentPlayer==="player2":!1}getLocalPlayerId(){return this.state.gameMode==="local"||this.state.gameMode==="host"?"player1":this.state.gameMode==="guest"?"player2":"player1"}getOpponentPlayerId(){return this.getLocalPlayerId()==="player1"?"player2":"player1"}getLocalPlayerState(){const t=this.getLocalPlayerId();return this.state[t]}getOpponentPlayerState(){const t=this.getOpponentPlayerId();return this.state[t]}isLocalPlayer(t){return t===this.getLocalPlayerId()}getLocalPlacedSections(){return this.state.gameMode==="local"?this.state.placedSections:this.state.gameMode==="host"?this.state.placedSections:this.state.gameMode==="guest"?this.state.opponentPlacedSections:this.state.placedSections}getOpponentPlacedSections(){let t;return this.state.gameMode==="local"?t=this.state.opponentPlacedSections:this.state.gameMode==="host"?t=this.state.opponentPlacedSections:this.state.gameMode==="guest"?t=this.state.placedSections:t=this.state.opponentPlacedSections,this.state.turnPhase==="placement"&&t.some(n=>n!==null)&&console.log(" [DEBUG] GameStateManager.getOpponentPlacedSections:",{gameMode:this.state.gameMode,result:t,rawOpponentPlacedSections:this.state.opponentPlacedSections,rawPlacedSections:this.state.placedSections}),t}addLogEntry(t,n=null,r=null){const i={...t,timestamp:t.timestamp||Date.now(),round:t.round||this.state.turn};n&&(i.debugSource=n),r&&(i.aiDecisionContext=r);const s=[...this.state.gameLog,i];this.setState({gameLog:s},"LOG_ENTRY_ADDED")}updatePassInfo(t){const n={...this.state.passInfo,...t};this.setState({passInfo:n},"PASS_INFO_UPDATED")}setWinner(t){this.setState({winner:t},"GAME_ENDED")}async processAction(t,n){return await this.actionProcessor.queueAction({type:t,payload:n})}isActionInProgress(){return this.actionProcessor.isActionInProgress()}getActionQueueLength(){return this.actionProcessor.getQueueLength()}clearActionQueue(){this.actionProcessor.clearQueue()}}const tt=new QM;class ZM{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){const t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){const t=[];for(const n of this._parts)t.push(n);return JM(t).buffer}}function JM(e){let t=0;for(const i of e)t+=i.byteLength;const n=new Uint8Array(t);let r=0;for(const i of e){const s=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);n.set(s,r),r+=i.byteLength}return n}function c2(e){return new eR(e).unpack()}function u2(e){const t=new tR,n=t.pack(e);return n instanceof Promise?n.then(()=>t.getBuffer()):t.getBuffer()}class eR{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;let n;if((n=t^160)<=15)return this.unpack_raw(n);if((n=t^176)<=15)return this.unpack_string(n);if((n=t^144)<=15)return this.unpack_array(n);if((n=t^128)<=15)return this.unpack_map(n);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const t=this.dataView[this.index]&255;return this.index++,t}unpack_uint16(){const t=this.read(2),n=(t[0]&255)*256+(t[1]&255);return this.index+=2,n}unpack_uint32(){const t=this.read(4),n=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,n}unpack_uint64(){const t=this.read(8),n=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,n}unpack_int8(){const t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){const t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){const t=this.unpack_uint32();return t<2**31?t:t-2**32}unpack_int64(){const t=this.unpack_uint64();return t<2**63?t:t-2**64}unpack_raw(t){if(this.length<this.index+t)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,n}unpack_string(t){const n=this.read(t);let r=0,i="",s,c;for(;r<t;)s=n[r],s<160?(c=s,r++):(s^192)<32?(c=(s&31)<<6|n[r+1]&63,r+=2):(s^224)<16?(c=(s&15)<<12|(n[r+1]&63)<<6|n[r+2]&63,r+=3):(c=(s&7)<<18|(n[r+1]&63)<<12|(n[r+2]&63)<<6|n[r+3]&63,r+=4),i+=String.fromCodePoint(c);return this.index+=t,i}unpack_array(t){const n=new Array(t);for(let r=0;r<t;r++)n[r]=this.unpack();return n}unpack_map(t){const n={};for(let r=0;r<t;r++){const i=this.unpack();n[i]=this.unpack()}return n}unpack_float(){const t=this.unpack_uint32(),n=t>>31,r=(t>>23&255)-127,i=t&8388607|8388608;return(n===0?1:-1)*i*2**(r-23)}unpack_double(){const t=this.unpack_uint32(),n=this.unpack_uint32(),r=t>>31,i=(t>>20&2047)-1023,c=(t&1048575|1048576)*2**(i-20)+n*2**(i-52);return(r===0?1:-1)*c}read(t){const n=this.index;if(n+t<=this.length)return this.dataView.subarray(n,n+t);throw new Error("BinaryPackFailure: read index out of range")}}class tR{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if(typeof t=="string")this.pack_string(t);else if(typeof t=="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(typeof t=="boolean")t===!0?this._bufferBuilder.append(195):t===!1&&this._bufferBuilder.append(194);else if(t===void 0)this._bufferBuilder.append(192);else if(typeof t=="object")if(t===null)this._bufferBuilder.append(192);else{const n=t.constructor;if(t instanceof Array){const r=this.pack_array(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t){const r=t;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(t instanceof Date)this.pack_string(t.toString());else{if(t instanceof Blob)return t.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const r=this.pack_object(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){const n=t.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){const n=this._textEncoder.encode(t),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(t){const n=t.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const r=i=>{if(i<n){const s=this.pack(t[i]);return s instanceof Promise?s.then(()=>r(i+1)):r(i+1)}};return r(0)}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(t&255);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")}pack_double(t){let n=0;t<0&&(n=1,t=-t);const r=Math.floor(Math.log(t)/Math.LN2),i=t/2**r-1,s=Math.floor(i*2**52),c=2**32,u=n<<31|r+1023<<20|s/c&1048575,d=s%c;this._bufferBuilder.append(203),this.pack_int32(u),this.pack_int32(d)}pack_object(t){const n=Object.keys(t),r=n.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const i=s=>{if(s<n.length){const c=n[s];if(t.hasOwnProperty(c)){this.pack(c);const u=this.pack(t[c]);if(u instanceof Promise)return u.then(()=>i(s+1))}return i(s+1)}};return i(0)}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(t&255)}pack_uint32(t){const n=t&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(t){const n=t/4294967296,r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(t){this._bufferBuilder.append(t&255)}pack_int16(t){this._bufferBuilder.append((t&65280)>>8),this._bufferBuilder.append(t&255)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int64(t){const n=Math.floor(t/4294967296),r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new ZM,this._textEncoder=new TextEncoder}}let f2=!0,d2=!0;function Rc(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseFloat(r[n],10)}function Ho(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(c,u){if(c!==t)return i.apply(this,arguments);const d=h=>{const p=n(h);p&&(u.handleEvent?u.handleEvent(p):u(p))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(u,d),i.apply(this,[c,d])};const s=r.removeEventListener;r.removeEventListener=function(c,u){if(c!==t||!this._eventMap||!this._eventMap[t])return s.apply(this,arguments);if(!this._eventMap[t].has(u))return s.apply(this,arguments);const d=this._eventMap[t].get(u);return this._eventMap[t].delete(u),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[c,d])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(c){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),c&&this.addEventListener(t,this["_on"+t]=c)},enumerable:!0,configurable:!0})}function nR(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(f2=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function rR(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(d2=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function h2(){if(typeof window=="object"){if(f2)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function e0(e,t){d2&&console.warn(e+" is deprecated, please use "+t+" instead.")}function aR(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(i=>i.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(Rc(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(Rc(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt(Rc(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=Rc(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function AA(e){return Object.prototype.toString.call(e)==="[object Object]"}function p2(e){return AA(e)?Object.keys(e).reduce(function(t,n){const r=AA(e[n]),i=r?p2(e[n]):e[n],s=r&&!Object.keys(i).length;return i===void 0||s?t:Object.assign(t,{[n]:i})},{}):e}function Ky(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?Ky(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(i=>{Ky(e,e.get(i),n)})}))}function CA(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(t===null)return i;const s=[];return e.forEach(c=>{c.type==="track"&&c.trackIdentifier===t.id&&s.push(c)}),s.forEach(c=>{e.forEach(u=>{u.type===r&&u.trackId===c.id&&Ky(e,u,i)})}),i}const PA=h2;function m2(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(u){if(typeof u!="object"||u.mandatory||u.optional)return u;const d={};return Object.keys(u).forEach(h=>{if(h==="require"||h==="advanced"||h==="mediaSource")return;const p=typeof u[h]=="object"?u[h]:{ideal:u[h]};p.exact!==void 0&&typeof p.exact=="number"&&(p.min=p.max=p.exact);const m=function(y,x){return y?y+x.charAt(0).toUpperCase()+x.slice(1):x==="deviceId"?"sourceId":x};if(p.ideal!==void 0){d.optional=d.optional||[];let y={};typeof p.ideal=="number"?(y[m("min",h)]=p.ideal,d.optional.push(y),y={},y[m("max",h)]=p.ideal,d.optional.push(y)):(y[m("",h)]=p.ideal,d.optional.push(y))}p.exact!==void 0&&typeof p.exact!="number"?(d.mandatory=d.mandatory||{},d.mandatory[m("",h)]=p.exact):["min","max"].forEach(y=>{p[y]!==void 0&&(d.mandatory=d.mandatory||{},d.mandatory[m(y,h)]=p[y])})}),u.advanced&&(d.optional=(d.optional||[]).concat(u.advanced)),d},i=function(u,d){if(t.version>=61)return d(u);if(u=JSON.parse(JSON.stringify(u)),u&&typeof u.audio=="object"){const h=function(p,m,y){m in p&&!(y in p)&&(p[y]=p[m],delete p[m])};u=JSON.parse(JSON.stringify(u)),h(u.audio,"autoGainControl","googAutoGainControl"),h(u.audio,"noiseSuppression","googNoiseSuppression"),u.audio=r(u.audio)}if(u&&typeof u.video=="object"){let h=u.video.facingMode;h=h&&(typeof h=="object"?h:{ideal:h});const p=t.version<66;if(h&&(h.exact==="user"||h.exact==="environment"||h.ideal==="user"||h.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!p)){delete u.video.facingMode;let m;if(h.exact==="environment"||h.ideal==="environment"?m=["back","rear"]:(h.exact==="user"||h.ideal==="user")&&(m=["front"]),m)return n.mediaDevices.enumerateDevices().then(y=>{y=y.filter(S=>S.kind==="videoinput");let x=y.find(S=>m.some(A=>S.label.toLowerCase().includes(A)));return!x&&y.length&&m.includes("back")&&(x=y[y.length-1]),x&&(u.video.deviceId=h.exact?{exact:x.deviceId}:{ideal:x.deviceId}),u.video=r(u.video),PA("chrome: "+JSON.stringify(u)),d(u)})}u.video=r(u.video)}return PA("chrome: "+JSON.stringify(u)),d(u)},s=function(u){return t.version>=64?u:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[u.name]||u.name,message:u.message,constraint:u.constraint||u.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},c=function(u,d,h){i(u,p=>{n.webkitGetUserMedia(p,d,m=>{h&&h(s(m))})})};if(n.getUserMedia=c.bind(n),n.mediaDevices.getUserMedia){const u=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(d){return i(d,h=>u(h).then(p=>{if(h.audio&&!p.getAudioTracks().length||h.video&&!p.getVideoTracks().length)throw p.getTracks().forEach(m=>{m.stop()}),new DOMException("","NotFoundError");return p},p=>Promise.reject(s(p))))}}}function g2(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function y2(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let s;e.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(u=>u.track&&u.track.id===i.track.id):s={track:i.track};const c=new Event("track");c.track=i.track,c.receiver=s,c.transceiver={receiver:s},c.streams=[r.stream],this.dispatchEvent(c)}),r.stream.getTracks().forEach(i=>{let s;e.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(u=>u.track&&u.track.id===i.id):s={track:i};const c=new Event("track");c.track=i,c.receiver=s,c.transceiver={receiver:s},c.streams=[r.stream],this.dispatchEvent(c)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Ho(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function v2(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(i,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=i.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:i}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(u,d){let h=i.apply(this,arguments);return h||(h=t(this,u),this._senders.push(h)),h};const s=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(u){s.apply(this,arguments);const d=this._senders.indexOf(u);d!==-1&&this._senders.splice(d,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(c=>{this._senders.push(t(this,c))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],r.apply(this,[s]),s.getTracks().forEach(c=>{const u=this._senders.find(d=>d.track===c);u&&this._senders.splice(this._senders.indexOf(u),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function b2(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const s=n.apply(this,[]);return s.forEach(c=>c._pc=this),s});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const s=r.apply(this,arguments);return s._pc=this,s}),e.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(c=>CA(c,s.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(s=>s._pc=this),i}),Ho(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(s=>CA(s,i.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let i,s,c;return this.getSenders().forEach(u=>{u.track===r&&(i?c=!0:i=u)}),this.getReceivers().forEach(u=>(u.track===r&&(s?c=!0:s=u),u.track===r)),c||i&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function x2(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(c=>this._shimmedLocalStreams[c][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(c,u){if(!u)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const d=t.apply(this,arguments);return this._shimmedLocalStreams[u.id]?this._shimmedLocalStreams[u.id].indexOf(d)===-1&&this._shimmedLocalStreams[u.id].push(d):this._shimmedLocalStreams[u.id]=[u,d],d};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(c){this._shimmedLocalStreams=this._shimmedLocalStreams||{},c.getTracks().forEach(h=>{if(this.getSenders().find(m=>m.track===h))throw new DOMException("Track already exists.","InvalidAccessError")});const u=this.getSenders();n.apply(this,arguments);const d=this.getSenders().filter(h=>u.indexOf(h)===-1);this._shimmedLocalStreams[c.id]=[c].concat(d)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(c){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[c.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(c){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},c&&Object.keys(this._shimmedLocalStreams).forEach(u=>{const d=this._shimmedLocalStreams[u].indexOf(c);d!==-1&&this._shimmedLocalStreams[u].splice(d,1),this._shimmedLocalStreams[u].length===1&&delete this._shimmedLocalStreams[u]}),i.apply(this,arguments)}}function S2(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return x2(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const p=n.apply(this);return this._reverseStreams=this._reverseStreams||{},p.map(m=>this._reverseStreams[m.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(p){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},p.getTracks().forEach(m=>{if(this.getSenders().find(x=>x.track===m))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[p.id]){const m=new e.MediaStream(p.getTracks());this._streams[p.id]=m,this._reverseStreams[m.id]=p,p=m}r.apply(this,[p])};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(p){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[p.id]||p]),delete this._reverseStreams[this._streams[p.id]?this._streams[p.id].id:p.id],delete this._streams[p.id]},e.RTCPeerConnection.prototype.addTrack=function(p,m){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const y=[].slice.call(arguments,1);if(y.length!==1||!y[0].getTracks().find(A=>A===p))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(A=>A.track===p))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const S=this._streams[m.id];if(S)S.addTrack(p),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const A=new e.MediaStream([p]);this._streams[m.id]=A,this._reverseStreams[A.id]=m,this.addStream(A)}return this.getSenders().find(A=>A.track===p)};function s(h,p){let m=p.sdp;return Object.keys(h._reverseStreams||[]).forEach(y=>{const x=h._reverseStreams[y],S=h._streams[x.id];m=m.replace(new RegExp(S.id,"g"),x.id)}),new RTCSessionDescription({type:p.type,sdp:m})}function c(h,p){let m=p.sdp;return Object.keys(h._reverseStreams||[]).forEach(y=>{const x=h._reverseStreams[y],S=h._streams[x.id];m=m.replace(new RegExp(x.id,"g"),S.id)}),new RTCSessionDescription({type:p.type,sdp:m})}["createOffer","createAnswer"].forEach(function(h){const p=e.RTCPeerConnection.prototype[h],m={[h](){const y=arguments;return arguments.length&&typeof arguments[0]=="function"?p.apply(this,[S=>{const A=s(this,S);y[0].apply(null,[A])},S=>{y[1]&&y[1].apply(null,S)},arguments[2]]):p.apply(this,arguments).then(S=>s(this,S))}};e.RTCPeerConnection.prototype[h]=m[h]});const u=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?u.apply(this,arguments):(arguments[0]=c(this,arguments[0]),u.apply(this,arguments))};const d=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const h=d.get.apply(this);return h.type===""?h:s(this,h)}}),e.RTCPeerConnection.prototype.removeTrack=function(p){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!p._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(p._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let y;Object.keys(this._streams).forEach(x=>{this._streams[x].getTracks().find(A=>p.track===A)&&(y=this._streams[x])}),y&&(y.getTracks().length===1?this.removeStream(this._reverseStreams[y.id]):y.removeTrack(p.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Vy(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=i[n]})}function A2(e,t){Ho(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const EA=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:A2,shimAddTrackRemoveTrack:S2,shimAddTrackRemoveTrackWithNative:x2,shimGetSendersWithDtmf:v2,shimGetUserMedia:m2,shimMediaStream:g2,shimOnTrack:y2,shimPeerConnection:Vy,shimSenderReceiverGetStats:b2},Symbol.toStringTag,{value:"Module"}));function C2(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(i,s,c){e0("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(s,c)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(c,u,d){u in c&&!(d in c)&&(c[d]=c[u],delete c[u])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(c){return typeof c=="object"&&typeof c.audio=="object"&&(c=JSON.parse(JSON.stringify(c)),i(c.audio,"autoGainControl","mozAutoGainControl"),i(c.audio,"noiseSuppression","mozNoiseSuppression")),s(c)},r&&r.prototype.getSettings){const c=r.prototype.getSettings;r.prototype.getSettings=function(){const u=c.apply(this,arguments);return i(u,"mozAutoGainControl","autoGainControl"),i(u,"mozNoiseSuppression","noiseSuppression"),u}}if(r&&r.prototype.applyConstraints){const c=r.prototype.applyConstraints;r.prototype.applyConstraints=function(u){return this.kind==="audio"&&typeof u=="object"&&(u=JSON.parse(JSON.stringify(u)),i(u,"autoGainControl","mozAutoGainControl"),i(u,"noiseSuppression","mozNoiseSuppression")),c.apply(this,[u])}}}}function iR(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function P2(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Xy(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const s=e.RTCPeerConnection.prototype[i],c={[i](){return arguments[0]=new(i==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};e.RTCPeerConnection.prototype[i]=c[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[s,c,u]=arguments;return r.apply(this,[s||null]).then(d=>{if(t.version<53&&!c)try{d.forEach(h=>{h.type=n[h.type]||h.type})}catch(h){if(h.name!=="TypeError")throw h;d.forEach((p,m)=>{d.set(m,Object.assign({},p,{type:n[p.type]||p.type}))})}return d}).then(c,u)}}function E2(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=t.apply(this,[]);return i.forEach(s=>s._pc=this),i});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function w2(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r}),Ho(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function _2(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){e0("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function O2(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function T2(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(c=>{if("rid"in c&&!/^[a-z0-9]{0,16}$/i.test(c.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in c&&!(parseFloat(c.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in c&&!(parseFloat(c.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=t.apply(this,arguments);if(i){const{sender:c}=s,u=c.getParameters();(!("encodings"in u)||u.encodings.length===1&&Object.keys(u.encodings[0]).length===0)&&(u.encodings=r,c.sendEncodings=r,this.setParametersPromises.push(c.setParameters(u).then(()=>{delete c.sendEncodings}).catch(()=>{delete c.sendEncodings})))}return s})}function D2(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function k2(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function j2(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const wA=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:T2,shimCreateAnswer:j2,shimCreateOffer:k2,shimGetDisplayMedia:iR,shimGetParameters:D2,shimGetUserMedia:C2,shimOnTrack:P2,shimPeerConnection:Xy,shimRTCDataChannel:O2,shimReceiverGetStats:w2,shimRemoveStream:_2,shimSenderGetStats:E2},Symbol.toStringTag,{value:"Module"}));function N2(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>t.call(this,i,r)),r.getVideoTracks().forEach(i=>t.call(this,i,r))},e.RTCPeerConnection.prototype.addTrack=function(r,...i){return i&&i.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(s=>{i.includes(s.track)&&this.removeTrack(s)})})}}function M2(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const s=new Event("addstream");s.stream=i,this.dispatchEvent(s)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(s=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(s)>=0)return;r._remoteStreams.push(s);const c=new Event("addstream");c.stream=s,r.dispatchEvent(c)})}),t.apply(r,arguments)}}}function R2(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,s=t.setRemoteDescription,c=t.addIceCandidate;t.createOffer=function(h,p){const m=arguments.length>=2?arguments[2]:arguments[0],y=n.apply(this,[m]);return p?(y.then(h,p),Promise.resolve()):y},t.createAnswer=function(h,p){const m=arguments.length>=2?arguments[2]:arguments[0],y=r.apply(this,[m]);return p?(y.then(h,p),Promise.resolve()):y};let u=function(d,h,p){const m=i.apply(this,[d]);return p?(m.then(h,p),Promise.resolve()):m};t.setLocalDescription=u,u=function(d,h,p){const m=s.apply(this,[d]);return p?(m.then(h,p),Promise.resolve()):m},t.setRemoteDescription=u,u=function(d,h,p){const m=c.apply(this,[d]);return p?(m.then(h,p),Promise.resolve()):m},t.addIceCandidate=u}function I2(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=i=>r(L2(i))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(r,i,s){t.mediaDevices.getUserMedia(r).then(i,s)}).bind(t))}function L2(e){return e&&e.video!==void 0?Object.assign({},e,{video:p2(e.video)}):e}function $2(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const s=[];for(let c=0;c<r.iceServers.length;c++){let u=r.iceServers[c];u.urls===void 0&&u.url?(e0("RTCIceServer.url","RTCIceServer.urls"),u=JSON.parse(JSON.stringify(u)),u.urls=u.url,delete u.url,s.push(u)):s.push(r.iceServers[c])}r.iceServers=s}return new t(r,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function B2(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function U2(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(c=>c.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const s=this.getTransceivers().find(c=>c.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function z2(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const _A=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:z2,shimCallbacksAPI:R2,shimConstraints:L2,shimCreateOfferLegacy:U2,shimGetUserMedia:I2,shimLocalStreamsAPI:N2,shimRTCIceServerUrls:$2,shimRemoteStreamsAPI:M2,shimTrackEventTransceiver:B2},Symbol.toStringTag,{value:"Module"}));var og={exports:{}},OA;function oR(){return OA||(OA=1,(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((i,s)=>(s>0?"m="+i:i).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(i=>i.indexOf(r)===0)},t.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let s=8;s<r.length;s+=2)switch(r[s]){case"raddr":i.relatedAddress=r[s+1];break;case"rport":i.relatedPort=parseInt(r[s+1],10);break;case"tcptype":i.tcpType=r[s+1];break;case"ufrag":i.ufrag=r[s+1],i.usernameFragment=r[s+1];break;default:i[r[s]]===void 0&&(i[r[s]]=r[s+1]);break}return i},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const i=n.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const s=n.type;return r.push("typ"),r.push(s),s!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let i;const s=n.substring(n.indexOf(" ")+1).split(";");for(let c=0;c<s.length;c++)i=s[c].trim().split("="),r[i[0].trim()]=i[1];return r},t.writeFmtp=function(n){let r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const s=[];Object.keys(n.parameters).forEach(c=>{n.parameters[c]!==void 0?s.push(c+"="+n.parameters[c]):s.push(c)}),r+="a=fmtp:"+i+" "+s.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(s=>{r+="a=rtcp-fb:"+i+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),i={ssrc:parseInt(n.substring(7,r),10)},s=n.indexOf(":",r);return s>-1?(i.attribute=n.substring(r+1,s),i.value=n.substring(s+1)):i.attribute=n.substring(r+1),i},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(s=>{i+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),i},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const i=t.matchPrefix(n+r,"a=ice-ufrag:")[0],s=t.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&s?{usernameFragment:i.substring(12),password:s.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=t.splitLines(n)[0].split(" ");r.profile=s[2];for(let u=3;u<s.length;u++){const d=s[u],h=t.matchPrefix(n,"a=rtpmap:"+d+" ")[0];if(h){const p=t.parseRtpMap(h),m=t.matchPrefix(n,"a=fmtp:"+d+" ");switch(p.parameters=m.length?t.parseFmtp(m[0]):{},p.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+d+" ").map(t.parseRtcpFb),r.codecs.push(p),p.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(p.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(u=>{r.headerExtensions.push(t.parseExtmap(u))});const c=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(u=>{c.forEach(d=>{u.rtcpFeedback.find(p=>p.type===d.type&&p.parameter===d.parameter)||u.rtcpFeedback.push(d)})}),r},t.writeRtpDescription=function(n,r){let i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=r.codecs.map(c=>c.preferredPayloadType!==void 0?c.preferredPayloadType:c.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(c=>{i+=t.writeRtpMap(c),i+=t.writeFmtp(c),i+=t.writeRtcpFb(c)});let s=0;return r.codecs.forEach(c=>{c.maxptime>s&&(s=c.maxptime)}),s>0&&(i+="a=maxptime:"+s+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(c=>{i+=t.writeExtmap(c)}),i},t.parseRtpEncodingParameters=function(n){const r=[],i=t.parseRtpParameters(n),s=i.fecMechanisms.indexOf("RED")!==-1,c=i.fecMechanisms.indexOf("ULPFEC")!==-1,u=t.matchPrefix(n,"a=ssrc:").map(y=>t.parseSsrcMedia(y)).filter(y=>y.attribute==="cname"),d=u.length>0&&u[0].ssrc;let h;const p=t.matchPrefix(n,"a=ssrc-group:FID").map(y=>y.substring(17).split(" ").map(S=>parseInt(S,10)));p.length>0&&p[0].length>1&&p[0][0]===d&&(h=p[0][1]),i.codecs.forEach(y=>{if(y.name.toUpperCase()==="RTX"&&y.parameters.apt){let x={ssrc:d,codecPayloadType:parseInt(y.parameters.apt,10)};d&&h&&(x.rtx={ssrc:h}),r.push(x),s&&(x=JSON.parse(JSON.stringify(x)),x.fec={ssrc:d,mechanism:c?"red+ulpfec":"red"},r.push(x))}}),r.length===0&&d&&r.push({ssrc:d});let m=t.matchPrefix(n,"b=");return m.length&&(m[0].indexOf("b=TIAS:")===0?m=parseInt(m[0].substring(7),10):m[0].indexOf("b=AS:")===0?m=parseInt(m[0].substring(5),10)*1e3*.95-2e3*8:m=void 0,r.forEach(y=>{y.maxBitrate=m})),r},t.parseRtcpParameters=function(n){const r={},i=t.matchPrefix(n,"a=ssrc:").map(u=>t.parseSsrcMedia(u)).filter(u=>u.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const s=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=s.length>0,r.compound=s.length===0;const c=t.matchPrefix(n,"a=rtcp-mux");return r.mux=c.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const i=t.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substring(7).split(" "),{stream:r[0],track:r[1]};const s=t.matchPrefix(n,"a=ssrc:").map(c=>t.parseSsrcMedia(c)).filter(c=>c.attribute==="msid");if(s.length>0)return r=s[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){const r=t.parseMLine(n),i=t.matchPrefix(n,"a=max-message-size:");let s;i.length>0&&(s=parseInt(i[0].substring(19),10)),isNaN(s)&&(s=65536);const c=t.matchPrefix(n,"a=sctp-port:");if(c.length>0)return{port:parseInt(c[0].substring(12),10),protocol:r.fmt,maxMessageSize:s};const u=t.matchPrefix(n,"a=sctpmap:");if(u.length>0){const d=u[0].substring(10).split(" ");return{port:parseInt(d[0],10),protocol:d[1],maxMessageSize:s}}},t.writeSctpDescription=function(n,r){let i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,i){let s;const c=r!==void 0?r:2;return n?s=n:s=t.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+s+" "+c+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const i=t.splitLines(n);for(let s=0;s<i.length;s++)switch(i[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[s].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const i=t.splitLines(n)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(n){const i=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},e.exports=t})(og)),og.exports}var G2=oR();const Hs=qr(G2),sR=$w({__proto__:null,default:Hs},[G2]);function id(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const i=new t(r),s=Hs.parseCandidate(r.candidate);for(const c in s)c in i||Object.defineProperty(i,c,{value:s[c]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,Ho(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Wy(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||Ho(e,"icecandidate",t=>{if(t.candidate){const n=Hs.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function od(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(u){if(!u||!u.sdp)return!1;const d=Hs.splitSections(u.sdp);return d.shift(),d.some(h=>{const p=Hs.parseMLine(h);return p&&p.kind==="application"&&p.protocol.indexOf("SCTP")!==-1})},r=function(u){const d=u.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(d===null||d.length<2)return-1;const h=parseInt(d[1],10);return h!==h?-1:h},i=function(u){let d=65536;return t.browser==="firefox"&&(t.version<57?u===-1?d=16384:d=2147483637:t.version<60?d=t.version===57?65535:65536:d=2147483637),d},s=function(u,d){let h=65536;t.browser==="firefox"&&t.version===57&&(h=65535);const p=Hs.matchPrefix(u.sdp,"a=max-message-size:");return p.length>0?h=parseInt(p[0].substring(19),10):t.browser==="firefox"&&d!==-1&&(h=2147483637),h},c=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:d}=this.getConfiguration();d==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const d=r(arguments[0]),h=i(d),p=s(arguments[0],d);let m;h===0&&p===0?m=Number.POSITIVE_INFINITY:h===0||p===0?m=Math.max(h,p):m=Math.min(h,p);const y={};Object.defineProperty(y,"maxMessageSize",{get(){return m}}),this._sctp=y}return c.apply(this,arguments)}}function sd(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,i){const s=r.send;r.send=function(){const u=arguments[0],d=u.length||u.size||u.byteLength;if(r.readyState==="open"&&i.sctp&&d>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return s.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return t(i,this),i},Ho(e,"datachannel",r=>(t(r.channel,r.target),r))}function Qy(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const s=i.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const c=new Event("connectionstatechange",i);s.dispatchEvent(c)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function Zy(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=i.sdp.split(`
`).filter(c=>c.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&i instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:i.type,sdp:s}):i.sdp=s}return n.apply(this,arguments)}}function ld(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function cd(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?n.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(c=>n.apply(this,[c]))})}const lR=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Zy,shimAddIceCandidateNullOrEmpty:ld,shimConnectionState:Qy,shimMaxMessageSize:od,shimParameterlessSetLocalDescription:cd,shimRTCIceCandidate:id,shimRTCIceCandidateRelayProtocol:Wy,shimSendThrowTypeError:sd},Symbol.toStringTag,{value:"Module"}));function cR({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=h2,r=aR(e),i={browserDetails:r,commonShim:lR,extractVersion:Rc,disableLog:nR,disableWarnings:rR,sdp:sR};switch(r.browser){case"chrome":if(!EA||!Vy||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=EA,ld(e,r),cd(e),m2(e,r),g2(e),Vy(e,r),y2(e),S2(e,r),v2(e),b2(e),A2(e,r),id(e),Wy(e),Qy(e),od(e,r),sd(e),Zy(e,r);break;case"firefox":if(!wA||!Xy||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=wA,ld(e,r),cd(e),C2(e,r),Xy(e,r),P2(e),_2(e),E2(e),w2(e),O2(e),T2(e),D2(e),k2(e),j2(e),id(e),Qy(e),od(e,r),sd(e);break;case"safari":if(!_A||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=_A,ld(e,r),cd(e),$2(e),U2(e),R2(e),N2(e),M2(e),B2(e),I2(e),z2(e),id(e),Wy(e),od(e,r),sd(e),Zy(e,r);break;default:n("Unsupported browser!");break}return i}const TA=cR({window:typeof window>"u"?void 0:window});function qo(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}class H2{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{const n=[],r=t.byteLength,i=Math.ceil(r/this.chunkedMTU);let s=0,c=0;for(;c<r;){const u=Math.min(r,c+this.chunkedMTU),d=t.slice(c,u),h={__peerData:this._dataCount,n:s,data:d,total:i};n.push(h),c=u,s++}return this._dataCount++,n}}}function uR(e){let t=0;for(const i of e)t+=i.byteLength;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.byteLength;return n}const sg=TA.default||TA,wc=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const e=this.getBrowser(),t=this.getVersion();return this.supportedBrowsers.includes(e)?e==="chrome"?t>=this.minChromeVersion:e==="firefox"?t>=this.minFirefoxVersion:e==="safari"?!this.isIOS&&t>=this.minSafariVersion:!1:!1}getBrowser(){return sg.browserDetails.browser}getVersion(){return sg.browserDetails.version||0}isUnifiedPlanSupported(){const e=this.getBrowser(),t=sg.browserDetails.version||0;if(e==="chrome"&&t<this.minChromeVersion)return!1;if(e==="firefox"&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch{}finally{n&&n.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},fR=e=>!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e),q2=()=>Math.random().toString(36).slice(2),DA={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class dR extends H2{noop(){}blobToArrayBuffer(t,n){const r=new FileReader;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=DA,this.browser=wc.getBrowser(),this.browserVersion=wc.getVersion(),this.pack=u2,this.unpack=c2,this.supports=(function(){const n={browser:wc.isBrowserSupported(),webRTC:wc.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{r=new RTCPeerConnection(DA),n.audioVideo=!0;let i;try{i=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!i.ordered;try{i.binaryType="blob",n.binaryBlob=!wc.isIOS}catch{}}catch{}finally{i&&i.close()}}catch{}finally{r&&r.close()}return n})(),this.validateId=fR,this.randomToken=q2}}const qn=new dR,hR="PeerJS: ";class pR{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=3&&this._print(3,...t)}warn(...t){this._logLevel>=2&&this._print(2,...t)}error(...t){this._logLevel>=1&&this._print(1,...t)}setLogFunction(t){this._print=t}_print(t,...n){const r=[hR,...n];for(const i in r)r[i]instanceof Error&&(r[i]="("+r[i].name+") "+r[i].message);t>=3?console.log(...r):t>=2?console.warn("WARNING",...r):t>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var Oe=new pR,t0={},mR=Object.prototype.hasOwnProperty,Ln="~";function Fc(){}Object.create&&(Fc.prototype=Object.create(null),new Fc().__proto__||(Ln=!1));function gR(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function Y2(e,t,n,r,i){if(typeof n!="function")throw new TypeError("The listener must be a function");var s=new gR(n,r||e,i),c=Ln?Ln+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function ud(e,t){--e._eventsCount===0?e._events=new Fc:delete e._events[t]}function Dn(){this._events=new Fc,this._eventsCount=0}Dn.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)mR.call(n,r)&&t.push(Ln?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};Dn.prototype.listeners=function(t){var n=Ln?Ln+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,c=new Array(s);i<s;i++)c[i]=r[i].fn;return c};Dn.prototype.listenerCount=function(t){var n=Ln?Ln+t:t,r=this._events[n];return r?r.fn?1:r.length:0};Dn.prototype.emit=function(t,n,r,i,s,c){var u=Ln?Ln+t:t;if(!this._events[u])return!1;var d=this._events[u],h=arguments.length,p,m;if(d.fn){switch(d.once&&this.removeListener(t,d.fn,void 0,!0),h){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,n),!0;case 3:return d.fn.call(d.context,n,r),!0;case 4:return d.fn.call(d.context,n,r,i),!0;case 5:return d.fn.call(d.context,n,r,i,s),!0;case 6:return d.fn.call(d.context,n,r,i,s,c),!0}for(m=1,p=new Array(h-1);m<h;m++)p[m-1]=arguments[m];d.fn.apply(d.context,p)}else{var y=d.length,x;for(m=0;m<y;m++)switch(d[m].once&&this.removeListener(t,d[m].fn,void 0,!0),h){case 1:d[m].fn.call(d[m].context);break;case 2:d[m].fn.call(d[m].context,n);break;case 3:d[m].fn.call(d[m].context,n,r);break;case 4:d[m].fn.call(d[m].context,n,r,i);break;default:if(!p)for(x=1,p=new Array(h-1);x<h;x++)p[x-1]=arguments[x];d[m].fn.apply(d[m].context,p)}}return!0};Dn.prototype.on=function(t,n,r){return Y2(this,t,n,r,!1)};Dn.prototype.once=function(t,n,r){return Y2(this,t,n,r,!0)};Dn.prototype.removeListener=function(t,n,r,i){var s=Ln?Ln+t:t;if(!this._events[s])return this;if(!n)return ud(this,s),this;var c=this._events[s];if(c.fn)c.fn===n&&(!i||c.once)&&(!r||c.context===r)&&ud(this,s);else{for(var u=0,d=[],h=c.length;u<h;u++)(c[u].fn!==n||i&&!c[u].once||r&&c[u].context!==r)&&d.push(c[u]);d.length?this._events[s]=d.length===1?d[0]:d:ud(this,s)}return this};Dn.prototype.removeAllListeners=function(t){var n;return t?(n=Ln?Ln+t:t,this._events[n]&&ud(this,n)):(this._events=new Fc,this._eventsCount=0),this};Dn.prototype.off=Dn.prototype.removeListener;Dn.prototype.addListener=Dn.prototype.on;Dn.prefixed=Ln;Dn.EventEmitter=Dn;t0=Dn;var Yo={};qo(Yo,"ConnectionType",()=>Mi);qo(Yo,"PeerErrorType",()=>Gt);qo(Yo,"BaseConnectionErrorType",()=>Jy);qo(Yo,"DataConnectionErrorType",()=>n0);qo(Yo,"SerializationType",()=>ah);qo(Yo,"SocketEventType",()=>Ni);qo(Yo,"ServerMessageType",()=>wn);var Mi=(function(e){return e.Data="data",e.Media="media",e})({}),Gt=(function(e){return e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc",e})({}),Jy=(function(e){return e.NegotiationFailed="negotiation-failed",e.ConnectionClosed="connection-closed",e})({}),n0=(function(e){return e.NotOpenYet="not-open-yet",e.MessageToBig="message-too-big",e})({}),ah=(function(e){return e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json",e.None="raw",e})({}),Ni=(function(e){return e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close",e})({}),wn=(function(e){return e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE",e})({});const F2="1.5.5";class yR extends t0.EventEmitter{constructor(t,n,r,i,s,c=5e3){super(),this.pingInterval=c,this._disconnected=!0,this._messagesQueue=[];const u=t?"wss://":"ws://";this._baseUrl=u+n+":"+r+i+"peerjs?key="+s}start(t,n){this._id=t;const r=`${this._baseUrl}&id=${t}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+F2),this._disconnected=!1,this._socket.onmessage=i=>{let s;try{s=JSON.parse(i.data),Oe.log("Server message received:",s)}catch{Oe.log("Invalid server message",i.data);return}this.emit(Ni.Message,s)},this._socket.onclose=i=>{this._disconnected||(Oe.log("Socket closed.",i),this._cleanup(),this._disconnected=!0,this.emit(Ni.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),Oe.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){Oe.log("Cannot send heartbeat, because socket closed");return}const t=JSON.stringify({type:wn.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const t=[...this._messagesQueue];this._messagesQueue=[];for(const n of t)this.send(n)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(Ni.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(t);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class K2{constructor(t){this.connection=t}startConnection(t){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Mi.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){const r=this.connection,i={ordered:!!t.reliable},s=n.createDataChannel(r.label,i);r._initializeDataChannel(s),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){Oe.log("Creating RTCPeerConnection.");const t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){const n=this.connection.peer,r=this.connection.connectionId,i=this.connection.type,s=this.connection.provider;Oe.log("Listening for ICE candidates."),t.onicecandidate=c=>{!c.candidate||!c.candidate.candidate||(Oe.log(`Received ICE candidates for ${n}:`,c.candidate),s.socket.send({type:wn.Candidate,payload:{candidate:c.candidate,type:i,connectionId:r},dst:n}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":Oe.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(Jy.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":Oe.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(Jy.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":Oe.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":t.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",t.iceConnectionState)},Oe.log("Listening for data channel"),t.ondatachannel=c=>{Oe.log("Received data channel");const u=c.channel;s.getConnection(n,r)._initializeDataChannel(u)},Oe.log("Listening for remote stream"),t.ontrack=c=>{Oe.log("Received remote stream");const u=c.streams[0],d=s.getConnection(n,r);if(d.type===Mi.Media){const h=d;this._addStreamToMediaConnection(u,h)}}}cleanup(){Oe.log("Cleaning up PeerConnection to "+this.connection.peer);const t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};const n=t.signalingState!=="closed";let r=!1;const i=this.connection.dataChannel;i&&(r=!!i.readyState&&i.readyState!=="closed"),(n||r)&&t.close()}async _makeOffer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createOffer(this.connection.options.constraints);Oe.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),Oe.log("Set localDescription:",r,`for:${this.connection.peer}`);let i={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Mi.Data){const s=this.connection;i={...i,label:s.label,reliable:s.reliable,serialization:s.serialization}}n.socket.send({type:wn.Offer,payload:i,dst:this.connection.peer})}catch(i){i!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(Gt.WebRTC,i),Oe.log("Failed to setLocalDescription, ",i))}}catch(r){n.emitError(Gt.WebRTC,r),Oe.log("Failed to createOffer, ",r)}}async _makeAnswer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createAnswer();Oe.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),Oe.log("Set localDescription:",r,`for:${this.connection.peer}`),n.socket.send({type:wn.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(i){n.emitError(Gt.WebRTC,i),Oe.log("Failed to setLocalDescription, ",i)}}catch(r){n.emitError(Gt.WebRTC,r),Oe.log("Failed to create answer, ",r)}}async handleSDP(t,n){n=new RTCSessionDescription(n);const r=this.connection.peerConnection,i=this.connection.provider;Oe.log("Setting remote description",n);const s=this;try{await r.setRemoteDescription(n),Oe.log(`Set remoteDescription:${t} for:${this.connection.peer}`),t==="OFFER"&&await s._makeAnswer()}catch(c){i.emitError(Gt.WebRTC,c),Oe.log("Failed to setRemoteDescription, ",c)}}async handleCandidate(t){Oe.log("handleCandidate:",t);try{await this.connection.peerConnection.addIceCandidate(t),Oe.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(Gt.WebRTC,n),Oe.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(t,n){if(Oe.log(`add tracks from stream ${t.id} to peer connection`),!n.addTrack)return Oe.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(r=>{n.addTrack(r,t)})}_addStreamToMediaConnection(t,n){Oe.log(`add stream ${t.id} to media connection ${n.connectionId}`),n.addStream(t)}}class V2 extends t0.EventEmitter{emitError(t,n){Oe.error("Error:",n),this.emit("error",new vR(`${t}`,n))}}class vR extends Error{constructor(t,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=t}}class X2 extends V2{get open(){return this._open}constructor(t,n,r){super(),this.peer=t,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}}class pd extends X2{static#e=this.ID_PREFIX="mc_";get type(){return Mi.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,n,r){super(t,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||pd.ID_PREFIX+qn.randomToken(),this._negotiator=new K2(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{Oe.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{Oe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){Oe.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){const n=t.type,r=t.payload;switch(t.type){case wn.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case wn.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:Oe.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(t,n={}){if(this._localStream){Oe.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:t});const r=this.provider._getMessages(this.connectionId);for(const i of r)this.handleMessage(i);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class bR{constructor(t){this._options=t}_buildRequest(t){const n=this._options.secure?"https":"http",{host:r,port:i,path:s,key:c}=this._options,u=new URL(`${n}://${r}:${i}${s}${c}/${t}`);return u.searchParams.set("ts",`${Date.now()}${Math.random()}`),u.searchParams.set("version",F2),fetch(u.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const t=await this._buildRequest("id");if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){Oe.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==qn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const t=await this._buildRequest("peers");if(t.status!==200){if(t.status===401){let n="";throw this._options.host===qn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw Oe.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}}}class md extends X2{static#e=this.ID_PREFIX="dc_";static#t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return Mi.Data}constructor(t,n,r){super(t,n,r),this.connectionId=this.options.connectionId||md.ID_PREFIX+q2(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new K2(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{Oe.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{Oe.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{Oe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,n=!1){if(!this.open){this.emitError(n0.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,n)}async handleMessage(t){const n=t.payload;switch(t.type){case wn.Answer:await this._negotiator.handleSDP(t.type,n.sdp);break;case wn.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:Oe.warn("Unrecognized message type:",t.type,"from peer:",this.peer);break}}}class r0 extends md{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>md.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(n){return Oe.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class lg extends r0{close(t){super.close(t),this._chunkedData={}}constructor(t,n,r){super(t,n,r),this.chunker=new H2,this.serialization=ah.Binary,this._chunkedData={}}_handleDataMessage({data:t}){const n=c2(t),r=n.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(t){const n=t.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:t.total};if(r.data[t.n]=new Uint8Array(t.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];const i=uR(r.data);this._handleDataMessage({data:i})}}_send(t,n){const r=u2(t);if(r instanceof Promise)return this._send_blob(r);if(!n&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(t){const n=await t;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(t){const n=this.chunker.chunk(t);Oe.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const r of n)this.send(r,!0)}}class xR extends r0{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,n){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=ah.None}}class SR extends r0{_handleDataMessage({data:t}){const n=this.parse(this.decoder.decode(t)),r=n.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",n)}_send(t,n){const r=this.encoder.encode(this.stringify(t));if(r.byteLength>=qn.chunkedMTU){this.emitError(n0.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...t){super(...t),this.serialization=ah.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class a0 extends V2{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const t=Object.create(null);for(const[n,r]of this._connections)t[n]=r;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,n){super(),this._serializers={raw:xR,json:SR,binary:lg,"binary-utf8":lg,default:lg},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(t&&t.constructor==Object?n=t:t&&(r=t.toString()),n={debug:0,host:qn.CLOUD_HOST,port:qn.CLOUD_PORT,path:"/",key:a0.DEFAULT_KEY,token:qn.randomToken(),config:qn.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==qn.CLOUD_HOST?this._options.secure=qn.isSecure():this._options.host==qn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&Oe.setLogFunction(this._options.logFunction),Oe.logLevel=this._options.debug||0,this._api=new bR(n),this._socket=this._createServerConnection(),!qn.supports.audioVideo&&!qn.supports.data){this._delayedAbort(Gt.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!qn.validateId(r)){this._delayedAbort(Gt.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort(Gt.ServerError,i))}_createServerConnection(){const t=new yR(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(Ni.Message,n=>{this._handleMessage(n)}),t.on(Ni.Error,n=>{this._abort(Gt.SocketError,n)}),t.on(Ni.Disconnected,()=>{this.disconnected||(this.emitError(Gt.Network,"Lost connection to server."),this.disconnect())}),t.on(Ni.Close,()=>{this.disconnected||this._abort(Gt.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){const n=t.type,r=t.payload,i=t.src;switch(n){case wn.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case wn.Error:this._abort(Gt.ServerError,r.msg);break;case wn.IdTaken:this._abort(Gt.UnavailableID,`ID "${this.id}" is taken`);break;case wn.InvalidKey:this._abort(Gt.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case wn.Leave:Oe.log(`Received leave message from ${i}`),this._cleanupPeer(i),this._connections.delete(i);break;case wn.Expire:this.emitError(Gt.PeerUnavailable,`Could not connect to peer ${i}`);break;case wn.Offer:{const s=r.connectionId;let c=this.getConnection(i,s);if(c&&(c.close(),Oe.warn(`Offer received for existing Connection ID:${s}`)),r.type===Mi.Media){const d=new pd(i,this,{connectionId:s,_payload:r,metadata:r.metadata});c=d,this._addConnection(i,c),this.emit("call",d)}else if(r.type===Mi.Data){const d=new this._serializers[r.serialization](i,this,{connectionId:s,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});c=d,this._addConnection(i,c),this.emit("connection",d)}else{Oe.warn(`Received malformed connection type:${r.type}`);return}const u=this._getMessages(s);for(const d of u)c.handleMessage(d);break}default:{if(!r){Oe.warn(`You received a malformed message from ${i} of type ${n}`);return}const s=r.connectionId,c=this.getConnection(i,s);c&&c.peerConnection?c.handleMessage(t):s?this._storeMessage(s,t):Oe.warn("You received an unrecognized message:",t);break}}}_storeMessage(t,n){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(n)}_getMessages(t){const n=this._lostMessages.get(t);return n?(this._lostMessages.delete(t),n):[]}connect(t,n={}){if(n={serialization:"default",...n},this.disconnected){Oe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Gt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[n.serialization](t,this,n);return this._addConnection(t,r),r}call(t,n,r={}){if(this.disconnected){Oe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Gt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){Oe.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const i=new pd(t,this,{...r,_stream:n});return this._addConnection(t,i),i}_addConnection(t,n){Oe.log(`add connection ${n.type}:${n.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(n)}_removeConnection(t){const n=this._connections.get(t.peer);if(n){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,n){const r=this._connections.get(t);if(!r)return null;for(const i of r)if(i.connectionId===n)return i;return null}_delayedAbort(t,n){setTimeout(()=>{this._abort(t,n)},0)}_abort(t,n){Oe.error("Aborting!"),this.emitError(t,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(Oe.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){const n=this._connections.get(t);if(n)for(const r of n)r.close()}disconnect(){if(this.disconnected)return;const t=this.id;Oe.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)Oe.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Oe.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(t=n=>{}){this._api.listAllPeers().then(n=>t(n)).catch(n=>this._abort(Gt.ServerError,n))}}var kA=a0;class AR{constructor(){this.peer=null,this.connection=null,this.roomCode=null,this.isHost=!1,this.isConnected=!1,this.listeners=new Set,this.actionProcessor=null}setActionProcessor(t){this.actionProcessor=t}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}emit(t,n={}){this.listeners.forEach(r=>{try{r({type:t,data:n})}catch(i){console.error("Error in P2P listener:",i)}})}generateRoomCode(){return Math.floor(1e5+Math.random()*9e5).toString()}async hostGame(){try{return this.isHost=!0,this.roomCode=this.generateRoomCode(),this.peer=new kA(this.roomCode,{debug:2}),new Promise((t,n)=>{this.peer.on("open",r=>{console.log("Host peer opened with ID:",r),this.emit("multiplayer_mode_change",{mode:"host",isHost:!0}),this.emit("room_created",{roomCode:this.roomCode}),t(this.roomCode)}),this.peer.on("connection",r=>{console.log("Guest connected:",r.peer),this.connection=r,this.setupConnection()}),this.peer.on("error",r=>{console.error("Peer error:",r),this.emit("connection_error",{error:r.message}),n(r)}),setTimeout(()=>{(!this.peer||!this.peer.open)&&n(new Error("Failed to create room - timeout"))},3e4)})}catch(t){throw console.error("Failed to host game:",t),t}}async joinGame(t){try{return this.isHost=!1,this.roomCode=t,this.peer=new kA({debug:2}),new Promise((n,r)=>{this.peer.on("open",i=>{console.log("Guest peer opened with ID:",i),this.connection=this.peer.connect(t),this.setupConnection(),this.connection.on("open",()=>{console.log("Connected to host"),this.emit("multiplayer_mode_change",{mode:"guest",isHost:!1}),this.emit("joined_room",{roomCode:t}),n()}),this.connection.on("error",s=>{console.error("Connection error:",s),this.emit("connection_error",{error:s.message}),r(s)})}),this.peer.on("error",i=>{console.error("Peer error:",i),this.emit("connection_error",{error:i.message}),r(i)}),setTimeout(()=>{this.isConnected||r(new Error("Failed to join room - timeout"))},3e4)})}catch(n){throw console.error("Failed to join game:",n),n}}setupConnection(){this.connection&&(this.connection.on("open",()=>{this.isConnected=!0,this.emit("connected",{isHost:this.isHost,roomCode:this.roomCode}),console.log("P2P connection established")}),this.connection.on("data",t=>{this.handleReceivedData(t)}),this.connection.on("close",()=>{this.isConnected=!1,this.emit("disconnected",{}),console.log("P2P connection closed")}),this.connection.on("error",t=>{console.error("Connection error:",t),this.emit("connection_error",{error:t.message})}))}async handleReceivedData(t){try{switch(console.log("Received P2P data:",t),t.type){case"ACTION":this.actionProcessor?await this.actionProcessor.processNetworkAction(t):console.error("ActionProcessor not set - cannot process network action");break;case"PING":this.sendData({type:"PONG",timestamp:t.timestamp});break;case"PONG":const n=Date.now()-t.timestamp;this.emit("latency_update",{latency:n});break;case"PHASE_COMPLETED":this.emit("PHASE_COMPLETED",t.data);break;default:console.warn("Unknown P2P data type received:",t.type)}}catch(n){console.error("Error handling received P2P data:",n)}}sendData(t){if(this.connection&&this.isConnected)try{this.connection.send(t)}catch(n){console.error("Failed to send data:",n),this.emit("send_error",{error:n.message})}else console.warn("Attempted to send data but no connection available")}syncGameState(t=null){console.warn("syncGameState is deprecated - use ActionProcessor for state changes"),t?(console.log("Received state sync (not applied):",t),this.emit("state_sync_received",{state:t})):this.emit("state_sync_requested",{})}ping(){this.isConnected&&this.sendData({type:"PING",timestamp:Date.now()})}disconnect(){this.connection&&(this.connection.close(),this.connection=null),this.peer&&(this.peer.destroy(),this.peer=null),this.isConnected=!1,this.isHost=!1,this.roomCode=null,this.emit("multiplayer_mode_change",{mode:"local",isHost:!1}),this.emit("disconnected",{})}getStatus(){return{isConnected:this.isConnected,isHost:this.isHost,roomCode:this.roomCode,peerId:this.peer?.id,connectionId:this.connection?.peer}}isReady(){return this.isConnected&&this.connection&&this.peer}}const Ba=new AR,jA=(e,t)=>{if(!e||!t)return null;const n=t.getBoundingClientRect(),r=e.getBoundingClientRect();return{x:r.left+r.width/2-n.left,y:r.top+r.height/2-n.top}},CR=e=>({preGame:"Pre-Game Setup",placement:"Placement Phase",droneSelection:"Drone Selection",initialDraw:"Draw Phase",optionalDiscard:"Discard Phase",allocateShields:"Shield Allocation",deployment:"Deployment Phase",action:"Action Phase",combatPending:"Combat Phase Pending",roundEnd:"Round End",gameEnd:"Game Over"})[e]||e,PR=["preGame","droneSelection","deckSelection","deckBuilding","placement","initialDraw","allocateShields","optionalDiscard"],ER=["deployment","action"],wR=e=>PR.includes(e),NA=e=>ER.includes(e),Ui=()=>{const[e,t]=C.useState(tt.getState()),[n,r]=C.useState(Ba.getStatus());C.useEffect(()=>{tt.setupP2PIntegration(Ba)},[]),C.useEffect(()=>tt.subscribe(U=>{t(tt.getState())}),[]),C.useEffect(()=>Ba.subscribe(U=>{r(Ba.getStatus())}),[]);const i=C.useCallback(()=>tt.isMyTurn(),[e.currentPlayer,e.gameMode]),s=C.useCallback(()=>tt.getLocalPlayerId(),[e.gameMode]),c=C.useCallback(()=>tt.getOpponentPlayerId(),[e.gameMode]),u=C.useCallback(()=>e.gameMode!=="local",[e.gameMode]),d=C.useCallback(()=>u()&&!i(),[u,i]),h=C.useCallback(()=>tt.getLocalPlayerState(),[e.gameMode]),p=C.useCallback(()=>tt.getOpponentPlayerState(),[e.gameMode]),m=C.useCallback(ie=>tt.isLocalPlayer(ie),[e.gameMode]),y=C.useCallback(()=>tt.getLocalPlacedSections(),[e.gameMode,e.placedSections,e.opponentPlacedSections]),x=C.useCallback(()=>{const ie=tt.getOpponentPlacedSections();return e.turnPhase==="placement"&&ie.some(U=>U!==null)&&console.error(" CRITICAL - getOpponentPlacedSections returning:",ie,"from gameState:",e.opponentPlacedSections),ie},[e.gameMode,e.placedSections,e.opponentPlacedSections,e.turnPhase]),S=C.useCallback((ie,U)=>{tt.updatePlayers(ie,U)},[]),A=C.useCallback((ie,U)=>{tt.updatePlayerState(ie,U)},[]),P=C.useCallback((ie,U)=>{tt.setPlayerStates(ie,U)},[]),E=C.useCallback(ie=>{tt.setFirstPasserOfPreviousRound(ie)},[]),_=C.useCallback(ie=>{tt.setFirstPlayerOverride(ie)},[]),O=C.useCallback(ie=>{tt.setPassInfo(ie)},[]),j=C.useCallback(ie=>{tt.updatePassInfo(ie)},[]),k=C.useCallback((ie,U,ae)=>{tt.addLogEntry(ie,U,ae)},[]),D=C.useCallback(()=>{tt.reset()},[]),N=C.useCallback(ie=>{tt.setWinner(ie)},[]),M=C.useCallback(async(ie,U)=>await tt.processAction(ie,U),[]),z=C.useCallback(()=>tt.isActionInProgress(),[]),re=C.useCallback(()=>tt.getActionQueueLength(),[]),W=C.useCallback(()=>{tt.clearActionQueue()},[]),ee=C.useCallback(()=>wR(e.turnPhase),[e.turnPhase]),pe=C.useCallback(()=>NA(e.turnPhase),[e.turnPhase]),de=C.useCallback(async(ie,U)=>{const ae=e.turnPhase,ge=NA(ae);return console.log(` useGameState.routeAction: ${ie} in phase ${ae} (${ge?"sequential":"simultaneous"})`),ge?await M(ie,U):(console.warn(` Simultaneous phase action ${ie} requires direct GameStateManager updates in component`),{success:!1,error:`Simultaneous phase action ${ie} should use direct updates (updateGameState/updatePlayerState) rather than routeAction`,phase:ae,recommendation:"Use direct GameStateManager methods for simultaneous phases"})},[e.turnPhase,M]);return{gameState:e,p2pStatus:n,isMyTurn:i,getLocalPlayerId:s,getOpponentPlayerId:c,isMultiplayer:u,isWaitingForOpponent:d,getLocalPlayerState:h,getOpponentPlayerState:p,isLocalPlayer:m,getLocalPlacedSections:y,getOpponentPlacedSections:x,updatePlayers:S,updatePlayerState:A,setPlayerStates:P,setFirstPasserOfPreviousRound:E,setFirstPlayerOverride:_,setPassInfo:O,updatePassInfo:j,addLogEntry:k,resetGame:D,setWinner:N,processAction:M,isActionInProgress:z,getActionQueueLength:re,clearActionQueue:W,isSimultaneousPhase:ee,isSequentialPhase:pe,routeAction:de,gameStateManager:tt,p2pManager:Ba}};class Uc{constructor(){if(Uc.instance)return Uc.instance;Uc.instance=this,this.listeners=[],this.phaseCommitments={droneSelection:{player1:{completed:!1,drones:[]},player2:{completed:!1,drones:[]}},deckSelection:{player1:{completed:!1,deck:[]},player2:{completed:!1,deck:[]}},placement:{player1:{completed:!1,placement:[]},player2:{completed:!1,placement:[]}},mandatoryDiscard:{player1:{completed:!1,discardedCards:[]},player2:{completed:!1,discardedCards:[]}},allocateShields:{player1:{completed:!1,shieldAllocation:[]},player2:{completed:!1,shieldAllocation:[]}},mandatoryDroneRemoval:{player1:{completed:!1,removedDrones:[]},player2:{completed:!1,removedDrones:[]}}},this.gameStateManager=null,this.aiPhaseProcessor=null,this.isMultiplayer=!1,console.log(" SimultaneousActionManager initialized")}initialize(t,n,r){this.gameStateManager=t,this.aiPhaseProcessor=n,this.isMultiplayer=r,console.log(" SimultaneousActionManager initialized with external systems")}subscribe(t){return this.listeners.push(t),()=>{const n=this.listeners.indexOf(t);n>-1&&this.listeners.splice(n,1)}}emit(t,n){console.log(` SimultaneousActionManager emitting: ${t}`,n),this.listeners.forEach(r=>{try{r({type:t,...n})}catch(i){console.error("SimultaneousActionManager listener error:",i)}})}submitDroneSelection(t,n){return console.log(` SimultaneousActionManager.submitDroneSelection: ${t} submitting ${n.length} drones`),this.commitPlayerAction(t,"droneSelection",{drones:n},{validate:r=>r.drones.length===5,errorMessage:"Must select exactly 5 drones"})}submitDeckSelection(t,n){return console.log(` SimultaneousActionManager.submitDeckSelection: ${t} submitting deck with ${n.length} cards`),this.commitPlayerAction(t,"deckSelection",{deck:n},{validate:r=>r.deck&&r.deck.length>0,errorMessage:"Must select a deck with at least 1 card"})}submitPlacement(t,n){return console.log(` SimultaneousActionManager.submitPlacement: ${t} submitting placement with ${n.length} sections`),this.commitPlayerAction(t,"placement",{placement:n},{validate:r=>!r.placement.some(i=>i==null),errorMessage:"All ship sections must be placed before confirming"})}submitMandatoryDiscard(t,n){return console.log(` SimultaneousActionManager.submitMandatoryDiscard: ${t} discarding ${n.length} cards`),this.commitPlayerAction(t,"mandatoryDiscard",{discardedCards:n},{validate:r=>Array.isArray(r.discardedCards),errorMessage:"Invalid discard data"})}submitShieldAllocation(t,n){return console.log(` SimultaneousActionManager.submitShieldAllocation: ${t} allocating shields`),this.commitPlayerAction(t,"allocateShields",{shieldAllocation:n},{validate:r=>Array.isArray(r.shieldAllocation),errorMessage:"Invalid shield allocation data"})}submitMandatoryDroneRemoval(t,n){return console.log(` SimultaneousActionManager.submitMandatoryDroneRemoval: ${t} removing ${n.length} drones`),this.commitPlayerAction(t,"mandatoryDroneRemoval",{removedDrones:n},{validate:r=>Array.isArray(r.removedDrones),errorMessage:"Invalid drone removal data"})}commitPlayerAction(t,n,r,i={}){if(i.validate&&!i.validate(r))return{success:!1,error:i.errorMessage||`Invalid data for ${n}`,data:r};if(!this.phaseCommitments[n])return console.error(` commitPlayerAction: Phase '${n}' does not exist in phaseCommitments`),console.log("Available phases:",Object.keys(this.phaseCommitments)),{success:!1,error:`Invalid phase: ${n}`,data:{playerId:t,phase:n}};if(!this.phaseCommitments[n][t])return console.error(` commitPlayerAction: Player '${t}' does not exist in phase '${n}'`),console.log(`Available players for ${n}:`,Object.keys(this.phaseCommitments[n])),{success:!1,error:`Invalid player ID: ${t}`,data:{playerId:t,phase:n}};this.phaseCommitments[n][t]={completed:!0,...r},console.log(` ${t} ${n} committed:`,r),this.updateGameStateForPhase(t,n,r),this.emit("playerCompleted",{phase:n,playerId:t,data:r}),t==="player1"&&!this.isMultiplayer()&&(console.log(" Single-player mode: Triggering AI auto-completion for player2"),this.handleAIPhaseCompletion(n));const s=this.areBothPlayersComplete(n);return s&&(console.log(` Both players completed ${n}, emitting completion event`),this.emit("phaseCompleted",{phase:n,data:this.phaseCommitments[n]})),{success:!0,data:{playerId:t,phase:n,actionData:r,bothPlayersComplete:s}}}updateGameStateForPhase(t,n,r){if(this.gameStateManager)switch(n){case"droneSelection":const i={};r.drones.forEach(c=>{i[c.name]=0}),this.gameStateManager.updatePlayerState(t,{activeDronePool:r.drones,deployedDroneCounts:i});break;case"deckSelection":this.gameStateManager.updatePlayerState(t,{deck:r.deck});break;case"placement":const s=t==="player1"?"placedSections":"opponentPlacedSections";console.log(`[PLACEMENT DATA DEBUG] SimultaneousActionManager storing placement for ${t}:`,{placementKey:s,placementData:r.placement}),this.gameStateManager.setState({[s]:r.placement});break;case"mandatoryDiscard":break;case"allocateShields":break;case"mandatoryDroneRemoval":break;default:console.warn(` No specific GameState update logic for phase: ${n}`)}}async handleAIPhaseCompletion(t){if(!this.aiPhaseProcessor){console.warn(" AI Phase Processor not available");return}try{console.log(` Processing AI completion for phase: ${t}`);let n;switch(t){case"droneSelection":n=await this.aiPhaseProcessor.processDroneSelection(),this.submitDroneSelection("player2",n);break;case"deckSelection":n=await this.aiPhaseProcessor.processDeckSelection(),this.submitDeckSelection("player2",n);break;case"placement":n=await this.aiPhaseProcessor.processPlacement(),this.submitPlacement("player2",n);break;case"mandatoryDiscard":this.submitMandatoryDiscard("player2",[]);break;case"allocateShields":this.submitShieldAllocation("player2",[]);break;case"mandatoryDroneRemoval":this.submitMandatoryDroneRemoval("player2",[]);break;default:console.warn(` No AI handler for phase: ${t}`)}}catch(n){console.error("AI phase completion error:",n)}}areBothPlayersComplete(t){const n=this.phaseCommitments[t];if(!n)return console.log(` No commitments found for phase: ${t}`),!1;const r=n.player1.completed,i=n.player2.completed,s=r&&i;return console.log(` Phase '${t}' completion check: player1=${r}, player2=${i}, both=${s}`),s}getPhaseCommitmentStatus(t){return{phase:t,commitments:this.phaseCommitments[t]||{},bothComplete:this.areBothPlayersComplete(t)}}resetPhaseCommitments(t=null){t?this.phaseCommitments[t]&&(this.phaseCommitments[t].player1={completed:!1},this.phaseCommitments[t].player2={completed:!1},console.log(` Reset commitments for phase: ${t}`)):(Object.keys(this.phaseCommitments).forEach(n=>{this.phaseCommitments[n].player1={completed:!1},this.phaseCommitments[n].player2={completed:!1}}),console.log(" Reset all phase commitments"))}getDebugInfo(){return{commitments:this.phaseCommitments,systemsConnected:{gameStateManager:!!this.gameStateManager,aiPhaseProcessor:!!this.aiPhaseProcessor},timestamp:new Date().toISOString()}}}const Li=new Uc,MA=()=>{const e=["bridge","powerCell","droneControlHub"];return console.log(` Initialized ship placement: ${e.length} sections available`),console.log(` Available sections: ${e.join(", ")}`),{unplacedSections:[...e],placedSections:Array(3).fill(null),opponentPlacedSections:Array(3).fill(null)}};class _R{constructor(){this.currentPhase=null,this.currentPlayer=null,this.isPhaseActive=!1,this.passInfo={player1Passed:!1,player2Passed:!1,firstPasser:null},this.isProcessingTurn=!1,this.turnTimer=null,this.gameStateManager=null,this.actionProcessor=null,this.aiPhaseProcessor=null,this.listeners=new Set,this.aiTurnDelay=1500,console.log(" SequentialPhaseManager initialized")}initialize(t,n,r){this.gameStateManager=t,this.actionProcessor=n,this.aiPhaseProcessor=r,this.gameStateManager&&this.gameStateManager.subscribe(i=>{this.handleStateChange(i)}),console.log(" SequentialPhaseManager connected to dependencies")}handleStateChange(t){const n=this.gameStateManager.getState(),i=["deployment","action"].includes(n.turnPhase);n.turnPhase!==this.currentPhase&&(i&&!this.isPhaseActive?this.initializePhase(n.turnPhase,n.currentPlayer):!i&&this.isPhaseActive&&this.cleanupPhase()),this.isPhaseActive&&n.currentPlayer!==this.currentPlayer&&this.onTurnChange(n.currentPlayer),this.isPhaseActive&&n.passInfo&&JSON.stringify(n.passInfo)!==JSON.stringify(this.passInfo)&&(this.passInfo={...n.passInfo},this.checkPhaseCompletion())}initializePhase(t,n){console.log(` SequentialPhaseManager: Initializing ${t} phase, first player: ${n}`),this.currentPhase=t,this.currentPlayer=n,this.isPhaseActive=!0,this.passInfo={player1Passed:!1,player2Passed:!1,firstPasser:null},this.emit({type:"phase_started",phase:t,firstPlayer:n}),this.checkForAITurn()}onTurnChange(t){console.log(` SequentialPhaseManager: Turn changed to ${t}`),this.turnTimer&&(clearTimeout(this.turnTimer),this.turnTimer=null),this.currentPlayer=t,this.emit({type:"turn_changed",player:t,phase:this.currentPhase}),this.checkForAITurn()}checkForAITurn(){if(!(!this.isPhaseActive||this.isProcessingTurn||this.gameStateManager.getState().gameMode!=="local"||!(this.currentPlayer==="player2"))){if(this.passInfo.player2Passed){console.log(" AI has already passed this phase");return}console.log(` Scheduling AI turn in ${this.aiTurnDelay}ms`),this.turnTimer=setTimeout(()=>{this.processAITurn()},this.aiTurnDelay)}}async processAITurn(){if(this.isProcessingTurn){console.log(" Already processing a turn, skipping AI turn");return}this.isProcessingTurn=!0;try{console.log(` SequentialPhaseManager: Triggering AI turn for ${this.currentPhase} phase`);const t=this.gameStateManager.getState();let n;this.currentPhase==="deployment"?n=await this.aiPhaseProcessor.executeDeploymentTurn(t):this.currentPhase==="action"?n=await this.aiPhaseProcessor.executeActionTurn(t):(console.error(` Unknown sequential phase: ${this.currentPhase}`),n=await this.aiPhaseProcessor.executePass(this.currentPhase)),console.log(" AI turn completed:",n),this.emit({type:"ai_turn_completed",phase:this.currentPhase,result:n})}catch(t){console.error(" Error processing AI turn:",t);try{await this.aiPhaseProcessor.executePass(this.currentPhase)}catch(n){console.error(" Failed to force AI pass:",n)}}finally{this.isProcessingTurn=!1}}async processPlayerPass(t){console.log(` SequentialPhaseManager: ${t} passed`);const n=!this.passInfo.player1Passed&&!this.passInfo.player2Passed;this.passInfo[t+"Passed"]=!0,n&&(this.passInfo.firstPasser=t),this.gameStateManager.setPassInfo(this.passInfo),this.emit({type:"player_passed",player:t,phase:this.currentPhase,firstPasser:this.passInfo.firstPasser}),await this.checkPhaseCompletion()}async checkPhaseCompletion(){if(this.passInfo.player1Passed&&this.passInfo.player2Passed){console.log(` Both players passed - ${this.currentPhase} phase complete`),this.emit({type:"phase_completed",phase:this.currentPhase,firstPasser:this.passInfo.firstPasser});let t;this.currentPhase==="deployment"?t="action":this.currentPhase==="action"&&(t="roundEnd"),t&&await this.actionProcessor.queueAction({type:"phaseTransition",payload:{newPhase:t}}),this.cleanupPhase()}else if(this.passInfo[this.currentPlayer+"Passed"]){const t=this.currentPlayer==="player1"?"player2":"player1";await this.actionProcessor.queueAction({type:"turnTransition",payload:{newPlayer:t}})}}cleanupPhase(){console.log(` SequentialPhaseManager: Cleaning up ${this.currentPhase} phase`),this.turnTimer&&(clearTimeout(this.turnTimer),this.turnTimer=null),this.currentPhase=null,this.currentPlayer=null,this.isPhaseActive=!1,this.isProcessingTurn=!1,this.passInfo={player1Passed:!1,player2Passed:!1,firstPasser:null}}canPlayerAct(t){return!(!this.isPhaseActive||this.currentPlayer!==t||this.passInfo[t+"Passed"])}getStatus(){return{isActive:this.isPhaseActive,phase:this.currentPhase,currentPlayer:this.currentPlayer,passInfo:{...this.passInfo},isProcessingTurn:this.isProcessingTurn}}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}emit(t){this.listeners.forEach(n=>{try{n(t)}catch(r){console.error("Error in SequentialPhaseManager listener:",r)}})}forceEndPhase(){console.warn(" Force ending sequential phase"),this.cleanupPhase()}}const ev=new _R;class zc{constructor(){if(zc.instance)return zc.instance;zc.instance=this,this.PRE_GAME_PHASES=["droneSelection","deckSelection","placement"],this.ROUND_PHASES=["energyReset","mandatoryDiscard","draw","determineFirstPlayer","allocateShields","mandatoryDroneRemoval","deployment","action"],this.SIMULTANEOUS_PHASES=["droneSelection","deckSelection","placement","mandatoryDiscard","allocateShields","mandatoryDroneRemoval"],this.SEQUENTIAL_PHASES=["deployment","action"],this.AUTOMATIC_PHASES=["energyReset","draw","determineFirstPlayer"],this.currentPhase="preGame",this.gameStage="preGame",this.roundNumber=0,this.isProcessingAutomaticPhase=!1,this.listeners=[],this.gameStateManager=null,this.simultaneousActionManager=null,this.actionProcessor=null,this.isMultiplayer=!1,console.log(" GameFlowManager initialized")}initialize(t,n,r,i,s){if(this.gameStateManager=t,this.simultaneousActionManager=n,this.actionProcessor=r,this.isMultiplayer=i,s&&s.initialize){const c=s.currentAIPersonality,u=s.dronePool,d=s.aiPersonalities;s.initialize(d,u,c,r,t)}ev.initialize(t,r,s),this.setupEventListeners(),console.log(" GameFlowManager initialized with external systems")}setupEventListeners(){this.simultaneousActionManager&&this.simultaneousActionManager.subscribe(t=>{t.type==="phaseCompleted"&&this.onSimultaneousPhaseComplete(t.phase,t.data)}),ev.subscribe(t=>{t.type==="phase_completed"&&this.onSequentialPhaseComplete(t.phase,{firstPasser:t.firstPasser})}),this.actionProcessor&&typeof this.actionProcessor.subscribe=="function"?this.actionProcessor.subscribe(t=>{t.type==="sequentialPhaseComplete"&&this.onSequentialPhaseComplete(t.phase,t.data)}):this.actionProcessor&&console.log(" ActionProcessor available but no event subscription capability")}subscribe(t){return this.listeners.push(t),()=>{const n=this.listeners.indexOf(t);n>-1&&this.listeners.splice(n,1)}}emit(t,n){console.log(` GameFlowManager emitting: ${t}`,n),this.listeners.forEach(r=>{try{r({type:t,...n})}catch(i){console.error("GameFlowManager listener error:",i)}})}getCurrentPhaseInfo(){return{currentPhase:this.currentPhase,gameStage:this.gameStage,roundNumber:this.roundNumber,isPreGame:this.gameStage==="preGame",isRoundLoop:this.gameStage==="roundLoop",isGameOver:this.gameStage==="gameOver"}}startGameFlow(t="droneSelection"){console.log(` GameFlowManager starting game flow with phase: ${t}`),this.currentPhase=t,this.gameStage="preGame",this.roundNumber=0;let n={};if(t==="droneSelection"){console.log(" GameFlowManager initializing drone selection phase data");const r=l2(Tn),i=MA();n={...r,...i}}this.gameStateManager&&this.gameStateManager.setState({turnPhase:t,gameStage:this.gameStage,roundNumber:this.roundNumber,...n}),this.emit("phaseTransition",{newPhase:t,previousPhase:null,gameStage:this.gameStage})}onSimultaneousPhaseComplete(t,n){console.log(` GameFlowManager: Simultaneous phase '${t}' completed`,n);const r=this.getNextPhase(t);r?(this.isSequentialPhase(r)?(console.log(` GameFlowManager: Handover to sequential phase '${r}'`),this.initiateSequentialPhase(r)):(console.log(` GameFlowManager: Continuing with simultaneous phase '${r}'`),this.transitionToPhase(r)),this.simultaneousActionManager&&(this.simultaneousActionManager.resetPhaseCommitments(t),console.log(` GameFlowManager: Cleaned up completed phase '${t}' after transition`))):(console.log(" GameFlowManager: Game flow completed or needs special handling"),this.simultaneousActionManager&&(this.simultaneousActionManager.resetPhaseCommitments(t),console.log(` GameFlowManager: Cleaned up final phase '${t}'`)))}onSequentialPhaseComplete(t,n){console.log(` GameFlowManager: Sequential phase '${t}' completed`,n);const r=this.getNextPhase(t);r?this.transitionToPhase(r):t==="action"&&this.startNewRound()}getNextPhase(t){return this.gameStage==="preGame"?this.getNextPreGamePhase(t):this.gameStage==="roundLoop"?this.getNextRoundPhase(t):null}async processAutomaticPhase(t){console.log(` GameFlowManager: Processing automatic phase '${t}'`),this.isProcessingAutomaticPhase=!0;let n=null;try{t==="energyReset"?n=await this.processAutomaticEnergyResetPhase():t==="draw"?n=await this.processAutomaticDrawPhase():t==="determineFirstPlayer"?n=await this.processAutomaticFirstPlayerPhase():console.warn(` No handler for automatic phase: ${t}`),n?(console.log(` GameFlowManager: Transitioning from automatic phase '${t}' to '${n}'`),this.transitionToPhase(n)):console.warn(` No next phase found after automatic phase: ${t}`)}finally{this.isProcessingAutomaticPhase=!1}}async processAutomaticFirstPlayerPhase(){console.log(" GameFlowManager: Processing automatic first player determination phase");const t="determineFirstPlayer";try{const{processFirstPlayerDetermination:n}=await $a(async()=>{const{processFirstPlayerDetermination:c}=await import("./firstPlayerUtils-D8_kW28T.js");return{processFirstPlayerDetermination:c}},[]);if(!this.gameStateManager){console.error(" GameStateManager not available for first player determination");return}const r=this.gameStateManager.getState(),i=n(r);this.gameStateManager.setState(i.stateUpdates),console.log(" Automatic first player determination completed, transitioning to next phase"),this.emit("phaseTransition",{newPhase:"determineFirstPlayer",previousPhase:t,gameStage:this.gameStage,roundNumber:this.roundNumber,automaticProcessed:!0,firstPlayerResult:i});const s=this.getNextPhase("determineFirstPlayer");return console.log(" Automatic first player determination completed, returning next phase:",s),s}catch(n){console.error(" Error during automatic first player determination phase:",n)}}async processAutomaticDrawPhase(){console.log(" GameFlowManager: Processing automatic draw phase");const t="draw";try{const{performAutomaticDraw:n}=await $a(async()=>{const{performAutomaticDraw:c}=await import("./cardDrawUtils-C0GZw3t0.js");return{performAutomaticDraw:c}},[]);if(!this.gameStateManager){console.error(" GameStateManager not available for automatic draw");return}const r=this.gameStateManager.getState(),i=n(r,this.gameStateManager);this.gameStateManager.setState({player1:i.player1,player2:i.player2}),console.log(" Automatic draw phase completed, transitioning to next phase"),this.emit("phaseTransition",{newPhase:"draw",previousPhase:t,gameStage:this.gameStage,roundNumber:this.roundNumber,automaticProcessed:!0});const s=this.getNextPhase("draw");return console.log(" Automatic draw completed, returning next phase:",s),s}catch(n){console.error(" Error during automatic draw phase:",n)}}async processAutomaticEnergyResetPhase(){console.log(" GameFlowManager: Processing automatic energy reset phase");const t="energyReset";try{if(!this.gameStateManager){console.error(" GameStateManager not available for energy reset");return}const n=this.gameStateManager.getState(),r=(await $a(async()=>{const{default:p}=await Promise.resolve().then(()=>KM);return{default:p}},void 0)).default,i=new r(this.gameStateManager),s=i.getEffectiveShipStats(n.player1,n.placedSections),c=i.getEffectiveShipStats(n.player2,n.opponentPlacedSections),u={...n.player1,energy:s.totals.energyPerTurn,deploymentBudget:s.totals.deploymentBudget},d={...n.player2,energy:c.totals.energyPerTurn,deploymentBudget:c.totals.deploymentBudget};this.gameStateManager.setPlayerStates(u,d),console.log(` Energy reset complete - Player 1: ${u.energy} energy, Player 2: ${d.energy} energy`),this.emit("phaseTransition",{newPhase:"energyReset",previousPhase:t,gameStage:this.gameStage,roundNumber:this.roundNumber,automaticProcessed:!0});const h=this.getNextPhase("energyReset");return console.log(" Automatic energy reset completed, returning next phase:",h),h}catch(n){console.error(" Error during automatic energy reset phase:",n)}}getNextPreGamePhase(t){const n=this.PRE_GAME_PHASES.indexOf(t);return n>=0&&n<this.PRE_GAME_PHASES.length-1?this.PRE_GAME_PHASES[n+1]:t==="placement"?"energyReset":null}getNextRoundPhase(t){const n=this.ROUND_PHASES.indexOf(t);for(let r=n+1;r<this.ROUND_PHASES.length;r++){const i=this.ROUND_PHASES[r];if(this.isPhaseRequired(i))return i}return null}isPhaseRequired(t){if(!this.gameStateManager)return console.warn(" GameStateManager not available for phase requirement check"),!0;const n=this.gameStateManager.getState();switch(t){case"mandatoryDiscard":return this.anyPlayerExceedsHandLimit(n);case"draw":return!0;case"determineFirstPlayer":return!0;case"allocateShields":return this.anyPlayerHasShieldsToAllocate(n);case"mandatoryDroneRemoval":return this.anyPlayerExceedsDroneLimit(n);case"deployment":case"action":return!0;default:return!0}}anyPlayerExceedsHandLimit(t){return!1}anyPlayerHasShieldsToAllocate(t){return!1}anyPlayerExceedsDroneLimit(t){return!1}isSimultaneousPhase(t){return this.SIMULTANEOUS_PHASES.includes(t)}isSequentialPhase(t){return this.SEQUENTIAL_PHASES.includes(t)}isAutomaticPhase(t){return this.AUTOMATIC_PHASES.includes(t)}initiateSequentialPhase(t){console.log(` GameFlowManager: Initiating sequential phase '${t}' via ActionProcessor`);const n=this.currentPhase;this.currentPhase=t,this.actionProcessor&&this.gameStateManager?(console.log(` Starting ${t} phase through ActionProcessor`),this.actionProcessor.processPhaseTransition({newPhase:t,gameStage:this.gameStage,roundNumber:this.roundNumber})):console.warn(" ActionProcessor or GameStateManager not available for sequential phase initiation"),this.emit("phaseTransition",{newPhase:t,previousPhase:n,gameStage:this.gameStage,roundNumber:this.roundNumber,handoverType:"simultaneous-to-sequential"})}transitionToPhase(t){const n=this.currentPhase;this.currentPhase=t,this.ROUND_PHASES.includes(t)&&this.gameStage!=="roundLoop"&&(this.gameStage="roundLoop",this.roundNumber===0&&(this.roundNumber=1)),console.log(` GameFlowManager: Transitioning from '${n}' to '${t}' (${this.gameStage})`);let r={};if(t==="placement"&&(console.log(" GameFlowManager: Initializing placement phase data"),r=MA()),this.gameStateManager&&this.gameStateManager.setState({turnPhase:t,gameStage:this.gameStage,roundNumber:this.roundNumber,...r}),this.isAutomaticPhase(t)){console.log(` GameFlowManager: Auto-processing automatic phase '${t}'`),this.processAutomaticPhase(t);return}this.emit("phaseTransition",{newPhase:t,previousPhase:n,gameStage:this.gameStage,roundNumber:this.roundNumber})}startNewRound(){this.roundNumber++,console.log(` GameFlowManager: Starting round ${this.roundNumber}`);const t=this.ROUND_PHASES.find(n=>this.isPhaseRequired(n));t?this.transitionToPhase(t):(console.warn(" No required phases found for new round, defaulting to deployment"),this.transitionToPhase("deployment"))}endGame(t){console.log(` GameFlowManager: Game ended, winner: ${t}`),this.gameStage="gameOver",this.currentPhase="gameOver",this.gameStateManager&&this.gameStateManager.setState({turnPhase:"gameOver",gameStage:"gameOver",winner:t}),this.emit("gameEnded",{winnerId:t,finalRound:this.roundNumber})}reset(){console.log(" GameFlowManager: Resetting game flow"),this.currentPhase="preGame",this.gameStage="preGame",this.roundNumber=0,this.emit("gameReset",{})}getDebugInfo(){return{currentPhase:this.currentPhase,gameStage:this.gameStage,roundNumber:this.roundNumber,preGamePhases:this.PRE_GAME_PHASES,roundPhases:this.ROUND_PHASES,systemsConnected:{gameStateManager:!!this.gameStateManager,simultaneousActionManager:!!this.simultaneousActionManager,actionProcessor:!!this.actionProcessor},timestamp:new Date().toISOString()}}}const qs=new zc,tv=[{name:"Annihilator Alpha",description:"Focuses on overwhelming firepower and direct destruction.",dronePool:["Heavy Fighter","Standard Fighter","Kamikaze Drone","Bomber","Swarm Drone"],shipDeployment:{strategy:"aggressive",placement:["powerCell","bridge","droneControlHub"],reasoning:"Places powerCell in outer lane for safety, bridge in middle lane for combat bonus, droneControlHub in outer lane for flexibility"},decklist:[{id:"CARD001_ENHANCED",quantity:40},{id:"CARD002",quantity:0},{id:"CARD003",quantity:0},{id:"CARD004",quantity:0},{id:"CARD005",quantity:0},{id:"CARD006",quantity:0},{id:"CARD007",quantity:0},{id:"CARD008",quantity:0},{id:"CARD009",quantity:0},{id:"CARD010",quantity:0},{id:"CARD011",quantity:0},{id:"CARD012",quantity:0},{id:"CARD013",quantity:0},{id:"CARD014",quantity:0},{id:"CARD015",quantity:0},{id:"CARD016",quantity:0},{id:"CARD017",quantity:0},{id:"CARD018",quantity:0},{id:"CARD019",quantity:0}]},{name:"Manticore - Class II Gunship",description:"Focuses on overwhelming firepower and direct damage to drones and ship sections.",dronePool:["Heavy Fighter","Standard Fighter","Kamikaze Drone","Bomber","Avenger Drone"],shipDeployment:{strategy:"balanced",placement:["bridge","droneControlHub","powerCell"],reasoning:"Places bridge in outer lane for durability, droneControlHub in middle for deployment bonus, powerCell in outer for resource safety"},decklist:[{id:"CARD011",quantity:1},{id:"CARD009",quantity:2},{id:"CARD010",quantity:2},{id:"CARD001_ENHANCED",quantity:4},{id:"CARD012_ENHANCED",quantity:4},{id:"CARD013",quantity:4},{id:"CARD014",quantity:4},{id:"CARD017",quantity:3},{id:"CARD016",quantity:3},{id:"CARD005_ENHANCED",quantity:2},{id:"CARD004_ENHANCED",quantity:2},{id:"CARD003",quantity:2},{id:"CARD002_ENHANCED",quantity:3},{id:"CARD018",quantity:4}]}];function RA(){const{gameStateManager:e}=Ui(),[t,n]=C.useState(!1),r=()=>{console.log(" Selected: Single Player"),e.setState({appState:"lobby",gameMode:"local"})},i=()=>{console.log(" Selected: Multiplayer"),e.setState({appState:"lobby",gameMode:"multiplayer"})},s=()=>{n(!0)},c=()=>{n(!1)};return v.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#1a1a1a",color:"#ffffff",fontFamily:"Arial, sans-serif",padding:"20px",boxSizing:"border-box"},children:t?v.jsxs(v.Fragment,{children:[v.jsx("h2",{style:{fontSize:"2.5rem",marginBottom:"3rem",textAlign:"center",color:"#ffffff"},children:"SELECT GAME MODE"}),v.jsxs("div",{style:{display:"flex",gap:"2rem",marginBottom:"2rem"},children:[v.jsxs("button",{onClick:r,style:{fontSize:"1.3rem",padding:"20px 30px",backgroundColor:"#00ff88",color:"#000000",border:"none",borderRadius:"8px",cursor:"pointer",minWidth:"200px",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(0, 255, 136, 0.3)"},onMouseOver:u=>{u.target.style.backgroundColor="#00cc6a",u.target.style.transform="translateY(-2px)"},onMouseOut:u=>{u.target.style.backgroundColor="#00ff88",u.target.style.transform="translateY(0)"},children:["SINGLE PLAYER",v.jsx("div",{style:{fontSize:"0.9rem",marginTop:"5px",opacity:.8},children:"vs AI Opponent"})]}),v.jsxs("button",{onClick:i,style:{fontSize:"1.3rem",padding:"20px 30px",backgroundColor:"#ff6b35",color:"#ffffff",border:"none",borderRadius:"8px",cursor:"pointer",minWidth:"200px",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(255, 107, 53, 0.3)"},onMouseOver:u=>{u.target.style.backgroundColor="#e55a2b",u.target.style.transform="translateY(-2px)"},onMouseOut:u=>{u.target.style.backgroundColor="#ff6b35",u.target.style.transform="translateY(0)"},children:["MULTIPLAYER",v.jsx("div",{style:{fontSize:"0.9rem",marginTop:"5px",opacity:.8},children:"vs Human Player"})]})]}),v.jsx("button",{onClick:c,style:{fontSize:"1rem",padding:"10px 20px",backgroundColor:"transparent",color:"#cccccc",border:"2px solid #cccccc",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s ease"},onMouseOver:u=>{u.target.style.backgroundColor="#cccccc",u.target.style.color="#1a1a1a"},onMouseOut:u=>{u.target.style.backgroundColor="transparent",u.target.style.color="#cccccc"},children:"BACK"})]}):v.jsxs(v.Fragment,{children:[v.jsx("h1",{style:{fontSize:"4rem",marginBottom:"2rem",textAlign:"center",background:"linear-gradient(45deg, #00ff88, #0088ff)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 20px rgba(0, 255, 136, 0.3)"},children:"DRONE WARS"}),v.jsx("div",{style:{fontSize:"1.2rem",marginBottom:"3rem",textAlign:"center",color:"#cccccc"},children:"Strategic Combat in the Digital Arena"}),v.jsx("button",{onClick:s,style:{fontSize:"1.5rem",padding:"15px 40px",backgroundColor:"#0088ff",color:"#ffffff",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(0, 136, 255, 0.3)"},onMouseOver:u=>{u.target.style.backgroundColor="#0066cc",u.target.style.transform="translateY(-2px)"},onMouseOut:u=>{u.target.style.backgroundColor="#0088ff",u.target.style.transform="translateY(0)"},children:"START GAME"})]})})}function OR(){const{gameState:e,gameStateManager:t}=Ui(),[n,r]=C.useState(null),i=e.gameMode==="local",s=e.gameMode==="multiplayer",c=()=>{console.log(" Returning to main menu"),t.setState({appState:"menu",gameMode:"local"})},u=h=>{console.log(" Selected AI:",h.name),r(h)},d=()=>{if(i&&n){console.log(" Starting single player game with AI:",n.name);const h=Tn.filter(m=>n.dronePool.includes(m.name)),p={};h.forEach(m=>{p[m.name]=0}),t.startGame("local",{name:"Player 1"},{name:n.name,decklist:n.decklist,activeDronePool:h,deployedDroneCounts:p,aiPersonality:n})}else s&&(console.log(" Starting multiplayer game"),t.startGame("multiplayer",{name:"Player 1"},{name:"Player 2"}))};return v.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#1a1a1a",color:"#ffffff",fontFamily:"Arial, sans-serif",padding:"20px",boxSizing:"border-box"},children:[v.jsx("h2",{style:{fontSize:"2.5rem",marginBottom:"2rem",textAlign:"center",color:"#ffffff"},children:i?"SELECT AI OPPONENT":"MULTIPLAYER SETUP"}),i&&v.jsx("div",{style:{maxWidth:"800px",width:"100%",marginBottom:"2rem"},children:v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:tv.map(h=>v.jsxs("div",{onClick:()=>u(h),style:{padding:"20px",backgroundColor:n?.name===h.name?"#0088ff":"#2a2a2a",border:`2px solid ${n?.name===h.name?"#00ff88":"#444444"}`,borderRadius:"8px",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center"},onMouseOver:p=>{n?.name!==h.name&&(p.target.style.backgroundColor="#333333",p.target.style.borderColor="#666666")},onMouseOut:p=>{n?.name!==h.name&&(p.target.style.backgroundColor="#2a2a2a",p.target.style.borderColor="#444444")},children:[v.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"1.3rem",color:n?.name===h.name?"#ffffff":"#00ff88"},children:h.name}),v.jsx("p",{style:{margin:"0 0 10px 0",fontSize:"0.9rem",color:"#cccccc",lineHeight:"1.4"},children:h.description}),v.jsxs("div",{style:{fontSize:"0.8rem",color:"#888888"},children:["Difficulty: ",h.difficulty]})]},h.name))})}),s&&v.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[v.jsx("div",{style:{fontSize:"1.2rem",color:"#cccccc",marginBottom:"1rem"},children:"Multiplayer game ready to start"}),v.jsx("div",{style:{fontSize:"1rem",color:"#888888"},children:"Both players will customize their decks and drones in-game"})]}),v.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[v.jsx("button",{onClick:c,style:{fontSize:"1rem",padding:"12px 24px",backgroundColor:"transparent",color:"#cccccc",border:"2px solid #cccccc",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s ease"},onMouseOver:h=>{h.target.style.backgroundColor="#cccccc",h.target.style.color="#1a1a1a"},onMouseOut:h=>{h.target.style.backgroundColor="transparent",h.target.style.color="#cccccc"},children:"BACK TO MENU"}),v.jsx("button",{onClick:d,disabled:i&&!n,style:{fontSize:"1.2rem",padding:"12px 30px",backgroundColor:i&&!n?"#444444":"#00ff88",color:i&&!n?"#888888":"#000000",border:"none",borderRadius:"8px",cursor:i&&!n?"not-allowed":"pointer",transition:"all 0.3s ease",opacity:i&&!n?.5:1},onMouseOver:h=>{i&&!n||(h.target.style.backgroundColor="#00cc6a",h.target.style.transform="translateY(-2px)")},onMouseOut:h=>{i&&!n||(h.target.style.backgroundColor="#00ff88",h.target.style.transform="translateY(0)")},children:i?"START GAME":"START MULTIPLAYER"})]})]})}const IA=({value:e,isFlat:t,icon:n,iconColor:r,textColor:i="text-white"})=>v.jsx("div",{className:`${t?"hexagon-flat":"hexagon"} w-full h-full bg-black/60 flex items-center justify-center p-0.5`,children:v.jsx("div",{className:`${t?"hexagon-flat":"hexagon"} w-full h-full bg-slate-900/80 flex items-center justify-center`,children:v.jsxs("div",{className:`flex items-center justify-center gap-1 font-bold ${i}`,children:[n&&v.jsx(n,{size:12,className:r}),v.jsx("span",{className:"font-orbitron text-base",children:e})]})})}),TR=({text:e,className:t})=>{const n=C.useRef(null),r=C.useRef(null);return C.useEffect(()=>{const i=n.current,s=r.current;if(!i||!s||i.clientHeight===0)return;const c=()=>{let u,d;t.includes("font-orbitron")?(u=8,d=16):(u=8,d=12);let h=d;for(s.style.fontSize=h+"px";(s.scrollWidth>i.clientWidth||s.scrollHeight>i.clientHeight)&&h>u;)h-=.5,s.style.fontSize=h+"px"};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[e,t]),v.jsx("div",{ref:n,className:"w-full h-full overflow-hidden flex items-center justify-center",children:v.jsx("span",{ref:r,className:t,children:e})})},gd=({drone:e,onClick:t,isSelectable:n,isSelected:r,deployedCount:i,ignoreDeployLimit:s=!1,appliedUpgrades:c=[],isUpgradeTarget:u=!1,onViewUpgrades:d})=>{let h=e.limit;c.forEach(de=>{de.mod.stat==="limit"&&(h+=de.mod.value)});const p=i>=h,m=n&&(!p||s),y=C.useMemo(()=>{const de={attack:e.attack,speed:e.speed,cost:e.class};return c.forEach(ie=>{ie.mod.stat==="cost"?de.cost=Math.max(0,de.cost+ie.mod.value):de.hasOwnProperty(ie.mod.stat)&&(de[ie.mod.stat]+=ie.mod.value)}),de},[e,c]),x=y.cost,S=y.attack>e.attack,A=y.attack<e.attack,P=S?"text-green-400":A?"text-red-400":"text-white",E=y.speed>e.speed,_=y.speed<e.speed,O=E?"text-green-400":_?"text-red-400":"text-white",j=y.cost<e.class,k=y.cost>e.class,D=j?"text-green-400":k?"text-red-400":"text-white",M=h>e.limit?"text-green-400":"text-white",{name:z,image:re,hull:W,shields:ee,abilities:pe}=e;return v.jsx("div",{onClick:m?()=>t(e):void 0,className:`
        w-60 h-[320px] rounded-lg p-[2px] relative group
        transition-all duration-200
        ${m?"cursor-pointer":"cursor-not-allowed"}
        ${r?"bg-cyan-400":"bg-cyan-800/80"}
        ${m?"":"opacity-60"}
        ${u?"ring-4 ring-purple-500 animate-pulse":""}
      `,style:{clipPath:"polygon(0 0, 100% 0, 100% calc(100% - 20px), calc(100% - 20px) 100%, 0 100%)"},children:v.jsxs("div",{className:`
          w-full h-full relative flex flex-col font-orbitron text-cyan-300 overflow-hidden
        `,style:{clipPath:"polygon(0 0, 100% 0, 100% calc(100% - 20px), calc(100% - 20px) 100%, 0 100%)"},children:[v.jsx("img",{src:re,alt:z,className:"absolute inset-0 w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-black/40"}),v.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[v.jsx("div",{className:"text-center py-1 px-3 bg-black/40 flex-shrink-0 h-8 flex items-center justify-center",children:v.jsx(TR,{text:z,className:"font-orbitron text-sm uppercase tracking-widest whitespace-nowrap text-white"})}),v.jsxs("div",{className:"flex justify-between items-center px-2 flex-shrink-0 mt-2 h-12",children:[v.jsx("div",{className:"w-10 h-12",children:v.jsx(IA,{value:y.attack,isFlat:!1,icon:Hy,iconColor:"text-red-400",textColor:P})}),v.jsxs("div",{className:"flex flex-col items-center gap-1",children:[v.jsx("div",{className:"flex w-full justify-center gap-1.5 min-h-[12px]",children:ee>0&&Array.from({length:ee}).map((de,ie)=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",className:"text-cyan-300",children:v.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",stroke:"black",strokeWidth:"1.5"})},`shield-${ie}`))}),v.jsx("div",{className:"flex w-full justify-center gap-1",children:Array.from({length:W}).map((de,ie)=>v.jsx("div",{className:"h-3 w-3 rounded-sm bg-green-500 border border-black/50"},`hull-${ie}`))})]}),v.jsx("div",{className:"w-12 h-12",children:v.jsx(IA,{value:y.speed,isFlat:!0,icon:Gy,iconColor:"text-blue-400",textColor:O})})]}),v.jsx("div",{className:"mx-2 mt-auto mb-2 max-h-40 bg-black/60 backdrop-blur-sm border border-cyan-800/70 p-2 flex flex-col space-y-2 overflow-y-auto rounded-md",children:pe&&pe.length>0?pe.map((de,ie)=>v.jsxs("div",{children:[v.jsx("h4",{className:"text-xs text-purple-400 tracking-wider font-bold",children:de.name}),v.jsx("p",{className:"text-gray-400 text-xs leading-tight font-exo",children:de.description})]},ie)):v.jsx("div",{className:"flex items-center justify-center h-full",children:v.jsx("p",{className:"text-xs text-cyan-700 italic opacity-70",children:"[ No Abilities ]"})})}),v.jsxs("div",{className:"grid grid-cols-3 items-center p-1 border-t border-cyan-800/70 flex-shrink-0 h-12",children:[v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("span",{className:"text-[10px] text-gray-400",children:"Cost"}),v.jsxs("div",{className:"flex items-center",children:[v.jsx(qc,{size:14,className:"text-yellow-300"}),v.jsx("span",{className:`font-bold text-base ml-1 ${D}`,children:x})]})]}),e.upgradeSlots>0&&v.jsxs("button",{onClick:de=>{de.stopPropagation(),d&&d(e,c)},className:"flex flex-col items-center cursor-pointer group",children:[v.jsx("span",{className:"text-[10px] text-gray-400 group-hover:text-white transition-colors",children:"Upgrades"}),v.jsx("div",{className:"flex items-center",children:v.jsxs("span",{className:"font-bold text-base text-purple-400",children:[c.length,"/",e.upgradeSlots]})})]}),v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("span",{className:"text-[10px] text-gray-400",children:"Deployed"}),v.jsx("div",{className:"flex items-center",children:v.jsxs("span",{className:`font-bold text-base ${p?"text-pink-500":M}`,children:[i,"/",h]})})]})]})]})]})})},i0=({phase:e,localPlayerStatus:t})=>v.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:v.jsxs("div",{className:"text-center p-8",children:[v.jsx(To,{className:"w-16 h-16 mx-auto text-cyan-400 animate-spin mb-6"}),v.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Waiting for Your Opponent"}),v.jsxs("p",{className:"text-gray-400 text-lg mb-6",children:[e==="droneSelection"&&"Your opponent is still selecting their drones...",e==="deckSelection"&&"Your opponent is still choosing their deck..."]}),t&&v.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 max-w-md mx-auto",children:[v.jsx("h3",{className:"text-lg font-bold text-green-400 mb-2",children:" Your Selection Complete"}),v.jsx("p",{className:"text-gray-300 text-sm",children:t})]})]})});function DR(){const{gameState:e,getLocalPlayerId:t,isMultiplayer:n,getLocalPlayerState:r}=Ui(),{droneSelectionPool:i,droneSelectionTrio:s,turnPhase:c}=e,u=r(),[d,h]=C.useState([]),[p,m]=C.useState(s),[y,x]=C.useState(i),[S,A]=C.useState({droneSelection:!1}),[P,E]=C.useState({droneSelection:!1});C.useEffect(()=>{const D=N=>{const{type:M,phase:z,playerId:re}=N.detail||N;console.log(` DroneSelectionScreen received PhaseManager event: ${M}`,{phase:z,playerId:re}),z==="droneSelection"&&(M==="playerCompleted"?re===t()?A(ee=>({...ee,droneSelection:!0})):n()&&E(ee=>({...ee,droneSelection:!0})):M==="phaseCompleted"&&(h([]),A(W=>({...W,droneSelection:!1})),E(W=>({...W,droneSelection:!1}))))};return window.addEventListener("phaseManagerEvent",D),()=>{window.removeEventListener("phaseManagerEvent",D)}},[t,n]);const _=D=>{if(c!=="droneSelection")return;console.log(" handleChooseDroneForSelection called with:",D.name);const N=[...d,D];if(h(N),N.length<5){const M=WM(y);m(M.droneSelectionTrio),x(M.droneSelectionPool),console.log(" Advanced to next trio locally, selected:",N.length,"of 5 drones")}else console.log(" All 5 drones selected, waiting for Continue button click")},O=()=>{if(c!=="droneSelection")return;console.log(" handleContinueDroneSelection called with:",d.length,"drones");const D=t(),N=Li.submitDroneSelection(D,d);if(!N.success){console.error(" Drone selection submission failed:",N.error);return}console.log(" Drone selection submitted to PhaseManager")},j=S.droneSelection;if(n()&&j&&!P.droneSelection){const N=Li.getPhaseCommitmentStatus("droneSelection").commitments?.player1?.drones||u.activeDronePool||d,M=N.length>0?N.map(z=>z.name).join(", "):"Selection complete";return v.jsx(i0,{phase:"droneSelection",localPlayerStatus:`You selected: ${M}`})}const k=d.length===5;return v.jsxs("div",{className:"h-screen bg-gray-950 text-white font-sans overflow-hidden flex flex-col bg-gradient-to-br from-gray-900 via-indigo-950 to-black relative",children:[v.jsx("style",{children:`
          .hexagon { clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%); }
          .hexagon-flat { clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%); }
          .font-orbitron { font-family: 'Orbitron', sans-serif; }
          .font-exo { font-family: 'Exo', sans-serif; }
        `}),v.jsxs("div",{className:"flex flex-col items-center w-full p-4",children:[v.jsx("h2",{className:"text-3xl font-bold mb-2 text-white text-center",children:"Choose Your Drones"}),v.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[[...Array(5)].map((D,N)=>v.jsx("div",{className:`w-3 h-3 rounded-full ${N<d.length?"bg-green-500":"bg-gray-600"}`},N)),v.jsxs("span",{className:"ml-2 text-gray-400",children:[d.length,"/5 drones selected"]})]}),k?v.jsx("div",{className:"text-center mb-8",children:v.jsxs("div",{className:"bg-green-900/30 border border-green-500 rounded-lg p-4 mb-4",children:[v.jsx("p",{className:"text-green-400 font-bold mb-2",children:" Selection Complete!"}),v.jsx("p",{className:"text-gray-300",children:"All 5 drones have been selected. Ready to proceed to deck selection."})]})}):v.jsxs(v.Fragment,{children:[v.jsxs("p",{className:"text-center text-gray-400 mb-6",children:["Choice ",d.length+1," of 5: Select one drone from the three options below to add to your Active Drone Pool."]}),p&&p.length>0&&v.jsx("div",{className:"flex flex-wrap justify-center gap-6 mb-8",children:p.map((D,N)=>v.jsx(gd,{drone:D,onClick:()=>_(D),isSelectable:!0,deployedCount:0},D.name||N))})]}),v.jsx("button",{onClick:O,disabled:!k,className:`px-8 py-3 font-bold rounded-lg transition-all mb-8 ${k?"bg-green-600 hover:bg-green-500 text-white shadow-lg shadow-green-600/25 hover:shadow-green-500/30 transform hover:scale-105":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:k?"Continue to Deck Selection":`Continue (${d.length}/5)`}),v.jsxs("div",{className:"w-full mt-4 pt-8 border-t border-gray-700",children:[v.jsxs("h3",{className:"text-2xl font-bold text-white text-center mb-4",children:["Your Selection (",d.length,"/5)",k&&v.jsx("span",{className:"text-green-400 ml-2",children:""})]}),d.length>0?v.jsx("div",{className:"flex flex-wrap justify-center gap-6",children:d.map((D,N)=>v.jsx(gd,{drone:D,isSelectable:!1,deployedCount:0},N))}):v.jsx("p",{className:"text-center text-gray-500",children:"No drones selected yet."})]})]})]})}function kR(){const{gameState:e,getLocalPlayerId:t,isMultiplayer:n,getLocalPlayerState:r,getOpponentPlayerState:i,addLogEntry:s}=Ui(),{turnPhase:c}=e,u=r();i();const[d,h]=C.useState({deckSelection:!1}),[p,m]=C.useState({deckSelection:!1});C.useEffect(()=>{const S=A=>{const{type:P,phase:E,playerId:_}=A.detail||A;console.log(` DeckSelectionScreen received PhaseManager event: ${P}`,{phase:E,playerId:_}),E==="deckSelection"&&(P==="playerCompleted"?_===t()?h(j=>({...j,deckSelection:!0})):n()&&m(j=>({...j,deckSelection:!0})):P==="phaseCompleted"&&(h(O=>({...O,deckSelection:!1})),m(O=>({...O,deckSelection:!1}))))};return window.addEventListener("phaseManagerEvent",S),()=>{window.removeEventListener("phaseManagerEvent",S)}},[t,n]);const y=S=>{if(c==="deckSelection")if(console.log(" handleDeckChoice called with:",S),S==="standard"){const A=t(),P=_e.buildDeckFromList(Bs),E=Li.submitDeckSelection(A,P);if(!E.success){console.error(" Deck selection submission failed:",E.error);return}console.log(" Standard deck selection submitted to PhaseManager"),s({player:"SYSTEM",actionType:"DECK_SELECTION",source:"Player Setup",target:"N/A",outcome:"Player selected the Standard Deck."},"handleDeckChoice")}else S==="custom"&&(console.log(" Transitioning to deck building phase"),qs.transitionToPhase("deckBuilding"))},x=u.deck&&u.deck.length>0;return console.log("Deck selection render check:",{isMultiplayer:n(),localPlayerHasDeck:x,opponentPhaseCompletion_deckSelection:p.deckSelection,turnPhase:c,localPlayerDeckLength:u.deck?.length}),n()&&x&&!p.deckSelection?v.jsx(i0,{phase:"deckSelection",localPlayerStatus:"You have selected your deck and are ready to begin."}):v.jsxs("div",{className:"h-screen bg-gray-950 text-white font-sans overflow-hidden flex flex-col bg-gradient-to-br from-gray-900 via-indigo-950 to-black relative",children:[v.jsx("style",{children:`
          .hexagon { clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%); }
          .hexagon-flat { clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%); }
          .font-orbitron { font-family: 'Orbitron', sans-serif; }
          .font-exo { font-family: 'Exo', sans-serif; }
        `}),v.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[v.jsx("h1",{className:"text-3xl font-orbitron font-bold text-white mb-2",children:"Select Your Deck"}),v.jsx("p",{className:"text-gray-400 mb-8",children:"Choose a pre-defined deck or build your own."}),v.jsxs("div",{className:"flex flex-wrap justify-center gap-8",children:[v.jsxs("div",{onClick:()=>y("standard"),className:"w-72 bg-gray-900 border-2 border-cyan-500/50 rounded-lg p-6 flex flex-col items-center text-center cursor-pointer transition-all duration-300 hover:border-cyan-500 hover:scale-105 hover:shadow-2xl hover:shadow-cyan-500/20",children:[v.jsx("h2",{className:"text-2xl font-orbitron font-bold text-cyan-400 mb-3",children:"Use Standard Deck"}),v.jsx("p",{className:"font-exo text-gray-300 flex-grow",children:"Play with the balanced, pre-built starter deck."}),v.jsx("button",{className:"mt-6 bg-cyan-600 text-white font-bold px-6 py-2 rounded-full hover:bg-cyan-700 transition-colors duration-200",children:"Select"})]}),v.jsxs("div",{onClick:()=>y("custom"),className:"w-72 bg-gray-900 border-2 border-purple-500/50 rounded-lg p-6 flex flex-col items-center text-center cursor-pointer transition-all duration-300 hover:border-purple-500 hover:scale-105 hover:shadow-2xl hover:shadow-purple-500/20",children:[v.jsx("h2",{className:"text-2xl font-orbitron font-bold text-purple-400 mb-3",children:"Build Custom Deck"}),v.jsx("p",{className:"font-exo text-gray-300 flex-grow",children:"Create your own deck from your card collection."}),v.jsx("button",{className:"mt-6 btn-continue",children:"Select"})]})]})]})]})}const jR=({onClick:e,ability:t,isUsable:n,isSelected:r})=>v.jsx("button",{onClick:e,disabled:!n,className:`absolute w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center border-2 border-black/50 z-20 transition-all duration-200 ${n?"hover:bg-purple-500":"bg-gray-700 opacity-60 cursor-not-allowed"} ${r?"ring-2 ring-yellow-300 scale-110":""}`,style:{top:"50%",right:"-0.875rem",transform:"translateY(-50%)"},title:`${t.name} - Cost: ${t.cost.energy} Energy`,children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-yellow-300",children:[v.jsx("circle",{cx:"12",cy:"12",r:"10"}),v.jsx("circle",{cx:"12",cy:"12",r:"6"}),v.jsx("circle",{cx:"12",cy:"12",r:"2"})]})}),yd=({section:e,stats:t,effectiveStatsForDisplay:n,isPlayer:r,isPlaceholder:i,onClick:s,onAbilityClick:c,isInteractive:u,isOpponent:d,isHovered:h,onMouseEnter:p,onMouseLeave:m,isCardTarget:y,isInMiddleLane:x,reallocationState:S,gameEngine:A,turnPhase:P,isMyTurn:E,passInfo:_,getLocalPlayerId:O,localPlayerState:j,shipAbilityMode:k})=>{if(i)return v.jsx("div",{className:"bg-black/30 rounded-lg border-2 border-dashed border-purple-500/50 flex items-center justify-center text-purple-300/70 p-4 min-h-[160px] h-full transition-colors duration-300 cursor-pointer hover:border-purple-500 hover:text-purple-300",onClick:s,children:v.jsx("span",{className:"text-center",children:"Click to place section"})});const D=A.getShipStatus(t),N=D==="critical"?"bg-red-900/60":D==="damaged"?"bg-yellow-900/50":"bg-black/60";let M=D==="critical"?"border-red-500":D==="damaged"?"border-yellow-500":d?"border-pink-500":"border-cyan-500";const z=d?"shadow-pink-500/20":"shadow-cyan-500/20",re=h?"scale-105 shadow-xl":"";let W="";if(S)switch(S){case"can-remove":M="border-orange-400",W="ring-2 ring-orange-400/50 shadow-lg shadow-orange-400/30";break;case"removed-from":M="border-orange-600",W="ring-4 ring-orange-600/80 shadow-lg shadow-orange-600/50 bg-orange-900/20";break;case"cannot-remove":M="border-gray-600",W="opacity-50";break;case"can-add":M="border-green-400",W="ring-2 ring-green-400/50 shadow-lg shadow-green-400/30";break;case"added-to":M="border-green-600",W="ring-4 ring-green-600/80 shadow-lg shadow-green-600/50 bg-green-900/20";break;case"cannot-add":M="border-gray-600",W="opacity-50";break}const ee=y?"ring-4 ring-purple-400 shadow-lg shadow-purple-400/50 animate-pulse":"",pe=e==="droneControlHub"?"Drone Control Hub":e.replace(/([A-Z])/g," $1").replace(/^./,ie=>ie.toUpperCase()),de={backgroundImage:`url(${t.image})`,backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"cover"};return v.jsxs("div",{className:`
        relative rounded-xl shadow-lg ${z} border-2 h-full
        transition-all duration-300 overflow-hidden
        ${M}
        ${u?`cursor-pointer ${re}`:""}
        ${ee}
        ${W}
      `,style:de,onClick:s,onMouseEnter:p,onMouseLeave:m,children:[v.jsx("div",{className:`absolute inset-0 ${N}`}),v.jsxs("div",{className:"relative z-10 flex flex-col items-center p-4 h-full",children:[v.jsx("div",{className:`absolute top-2 right-2 flex items-center gap-1 font-semibold text-xs px-2 py-0.5 rounded-full ${D==="healthy"?"bg-green-500/20 text-green-300":D==="damaged"?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:D.charAt(0).toUpperCase()+D.slice(1)}),v.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[v.jsx("p",{className:"font-bold text-lg text-white",children:pe}),v.jsx("p",{className:"text-xs text-gray-400 italic max-w-[200px]",children:t.description})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-2 w-full items-center mt-auto",children:[v.jsx("div",{className:"flex flex-col items-start text-sm text-gray-300",children:n&&Object.entries(n).map(([ie,U])=>{const ae=x&&t.middleLaneBonus&&t.middleLaneBonus[ie];return v.jsxs("span",{className:"flex items-center text-xs",children:[v.jsxs("span",{className:"font-semibold mr-1",children:[ie,":"]}),v.jsx("span",{className:ae?"text-green-400 font-bold":"",children:U})]},ie)})}),v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("div",{className:"flex gap-1 items-center mb-2",children:Array(t.shields).fill(0).map((ie,U)=>v.jsx("div",{children:U<t.allocatedShields?v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",className:"text-cyan-300",children:v.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",stroke:"black",strokeWidth:"1.5"})}):v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-600",children:v.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",stroke:"black",strokeWidth:"1.5"})})},U))}),v.jsx("div",{className:"flex w-full justify-center gap-1",children:Array.from({length:t.maxHull}).map((ie,U)=>{const ae=U+1,{critical:ge,damaged:me}=t.thresholds;let L;ae<=ge?L="bg-red-500":ae<=me?L="bg-orange-500":L="bg-green-500";const Q=U<t.hull;return v.jsx("div",{className:`h-4 w-4 rounded-sm ${Q?L:"bg-gray-400"} border border-black/50`},U)})})]}),v.jsx("div",{className:"flex flex-col items-center justify-center h-full pl-4 text-center",children:r&&t.ability&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"relative w-full mb-1",children:[v.jsx("h4",{className:"font-bold text-sm text-purple-300 leading-tight",children:t.ability.name}),v.jsx(jR,{ability:t.ability,isUsable:P==="action"&&E()&&!_[`${O()}Passed`]&&j.energy>=t.ability.cost.energy,isSelected:k?.ability.id===t.ability.id,onClick:ie=>c(ie,{name:e,...t},t.ability)})]}),v.jsx("p",{className:"text-xs text-gray-400 leading-tight",children:t.ability.description})]})})]})]})]})};function NR(){const{gameState:e,getLocalPlayerId:t,isMultiplayer:n,getLocalPlayerState:r,getLocalPlacedSections:i,setModalContent:s}=Ui(),{turnPhase:c,unplacedSections:u}=e,d=r(),h=i(),[p,m]=C.useState(null),[y,x]=C.useState(h||[null,null,null]),[S,A]=C.useState(u||["bridge","powerCell","droneControlHub"]),[P,E]=C.useState({placement:!1}),[_,O]=C.useState({placement:!1});C.useEffect(()=>{const M=z=>{const{type:re,phase:W,playerId:ee}=z.detail||z;console.log(` ShipPlacementScreen received PhaseManager event: ${re}`,{phase:W,playerId:ee}),W==="placement"&&(re==="playerCompleted"?ee===t()?E(de=>({...de,placement:!0})):n()&&O(de=>({...de,placement:!0})):re==="phaseCompleted"&&(E(pe=>({...pe,placement:!1})),O(pe=>({...pe,placement:!1}))))};return window.addEventListener("phaseManagerEvent",M),()=>{window.removeEventListener("phaseManagerEvent",M)}},[t,n]);const j=M=>{if(c==="placement")if(console.log(" handleSelectSectionForPlacement called with:",M,"gameMode:",e.gameMode),S.includes(M))m(z=>z===M?null:M);else{const z=y.indexOf(M),re=[...y];re[z]=null,x(re),A(W=>[...W,M]),m(null)}},k=M=>{if(c==="placement")if(console.log(" handleLaneSelectForPlacement called with lane:",M,"gameMode:",e.gameMode),p){if(y[M]){const z=y[M],re=[...y];re[M]=p;const W=S.indexOf(p),ee=[...S];ee.splice(W,1,z),x(re),A(ee)}else{const z=[...y];z[M]=p,x(z),A(re=>re.filter(W=>W!==p))}m(null)}else y[M]&&j(y[M])},D=async()=>{if(c!=="placement")return;if(console.log(" handleConfirmPlacement called"),y.some(z=>z==null)){s({title:"Incomplete Placement",text:"All ship sections must be placed before confirming placement.",onClose:()=>s(null),isBlocking:!1});return}console.log(" Submitting placement to PhaseManager:",y);try{const z=await Li.submitPlacement(t(),y);if(!z.success){console.error(" Placement submission failed:",z.error),s({title:"Placement Error",text:z.error,onClose:()=>s(null),isBlocking:!1});return}console.log(" Placement submitted to PhaseManager"),n()&&!z.data.bothComplete&&s({title:"Placement Confirmed",text:"Your ship placement has been confirmed. Waiting for opponent to complete their placement...",onClose:()=>s(null),isBlocking:!1})}catch(z){console.error(" Error submitting placement:",z),s({title:"Placement Error",text:"An error occurred while submitting placement. Please try again.",onClose:()=>s(null),isBlocking:!1})}};if(y&&y.length===3&&y.every(M=>M!==null),n()&&P.placement&&!_.placement){const M=y.map((z,re)=>z?z.name:"Empty").join(", ");return v.jsx(i0,{phase:"placement",localPlayerStatus:`Your ship layout: ${M}`})}const N=y.every(M=>M!==null);return console.log(" ShipPlacementScreen rendered:",{allPlaced:N,placed:y,unplaced:u,selected:p}),v.jsxs("div",{className:"h-screen bg-gray-950 text-white font-sans overflow-hidden flex flex-col bg-gradient-to-br from-gray-900 via-indigo-950 to-black relative",children:[v.jsx("style",{children:`
          .hexagon { clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%); }
          .hexagon-flat { clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%); }
          .font-orbitron { font-family: 'Orbitron', sans-serif; }
          .font-exo { font-family: 'Exo', sans-serif; }
        `}),v.jsxs("div",{className:"flex flex-col items-center w-full h-full justify-start pt-8 px-4",children:[v.jsx("h2",{className:"text-3xl font-bold mb-2 text-white text-center font-orbitron",children:"Configure Your Ship Layout"}),v.jsx("p",{className:"text-center text-gray-400 mb-8",children:"Select a section, then click an empty lane to place it. You can also click a placed section to pick it up again. The ship section placed in the centre lane will gain a bonus to its stats."}),v.jsxs("div",{className:"flex flex-col items-center w-full space-y-4",children:[v.jsx("div",{className:"flex w-full justify-between gap-8",children:["bridge","powerCell","droneControlHub"].map(M=>v.jsx("div",{className:"flex-1 min-w-0 h-[190px]",children:S.includes(M)&&v.jsx("div",{onClick:()=>j(M),className:`h-full transition-all duration-300 rounded-xl ${p===M?"scale-105 ring-4 ring-cyan-400":"opacity-70 hover:opacity-100 cursor-pointer"}`,children:v.jsx(yd,{section:M,stats:d.shipSections[M],effectiveStatsForDisplay:d.shipSections[M].stats.healthy,isPlayer:!0,isInteractive:!0,gameEngine:_e,turnPhase:c,isMyTurn:()=>!0,passInfo:{},getLocalPlayerId:t,localPlayerState:d,shipAbilityMode:null})})},M))}),v.jsx("div",{className:"flex w-full justify-between gap-8",children:[0,1,2].map(M=>{const z=y[M],re=p&&!y[M];return v.jsx("div",{className:"flex-1 min-w-0 h-[190px]",onClick:()=>k(M),children:z?v.jsx(yd,{section:z,stats:d.shipSections[z],effectiveStatsForDisplay:d.shipSections[z].stats.healthy,isPlayer:!0,isInteractive:!0,isInMiddleLane:M===1,gameEngine:_e,turnPhase:c,isMyTurn:()=>!0,passInfo:{},getLocalPlayerId:t,localPlayerState:d,shipAbilityMode:null}):v.jsx("div",{className:`bg-black/30 rounded-xl border-2 border-dashed border-purple-500/50 flex items-center justify-center text-purple-300/70 p-4 h-full transition-colors duration-300 ${re?"cursor-pointer hover:border-purple-500 hover:bg-purple-900/20":""}`,children:v.jsx("span",{className:"text-center font-bold",children:M===1?"Lane 2 (Center Bonus)":`Lane ${M+1}`})})},M)})})]}),v.jsx("button",{onClick:()=>{console.log(` Confirm Layout button clicked! allPlaced: ${N}`),D()},disabled:!N,className:"mt-12 bg-green-600 text-white font-bold py-3 px-8 rounded-full text-lg transition-all duration-300 disabled:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed enabled:hover:bg-green-500 shadow-lg",children:"Confirm Layout"})]})]})}function W2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=W2(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function st(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=W2(e))&&(r&&(r+=" "),r+=t);return r}var cg={},ug={},LA;function MR(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(ug)),ug}var fg={},$A;function Q2(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(fg)),fg}var dg={},BA;function Z2(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(dg)),dg}var hg={},UA;function o0(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let s=0,c="",u="",d=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const h=n[s];u?h==="\\"&&s+1<i?(s++,c+=n[s]):h===u?u="":c+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,r.push(c),c=""):c+=h:h==="["?(d=!0,c&&(r.push(c),c="")):h==="."?c&&(r.push(c),c=""):c+=h,s++}return c&&r.push(c),r}e.toPath=t})(hg)),hg}var zA;function s0(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MR(),n=Q2(),r=Z2(),i=o0();function s(u,d,h){if(u==null)return h;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?n.isDeepKey(d)?s(u,i.toPath(d),h):h:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=u[d];return p===void 0?h:p}default:{if(Array.isArray(d))return c(u,d,h);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?h:p}}}function c(u,d,h){if(d.length===0)return h;let p=u;for(let m=0;m<d.length;m++){if(p==null||t.isUnsafeProperty(d[m]))return h;p=p[d[m]]}return p===void 0?h:p}e.get=s})(cg)),cg}var pg,GA;function RR(){return GA||(GA=1,pg=s0().get),pg}var IR=RR();const $o=qr(IR);var mg={exports:{}},dt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HA;function LR(){if(HA)return dt;HA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function S(A){if(typeof A=="object"&&A!==null){var P=A.$$typeof;switch(P){case e:switch(A=A.type,A){case n:case i:case r:case d:case h:case y:return A;default:switch(A=A&&A.$$typeof,A){case c:case u:case m:case p:return A;case s:return A;default:return P}}case t:return P}}}return dt.ContextConsumer=s,dt.ContextProvider=c,dt.Element=e,dt.ForwardRef=u,dt.Fragment=n,dt.Lazy=m,dt.Memo=p,dt.Portal=t,dt.Profiler=i,dt.StrictMode=r,dt.Suspense=d,dt.SuspenseList=h,dt.isContextConsumer=function(A){return S(A)===s},dt.isContextProvider=function(A){return S(A)===c},dt.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},dt.isForwardRef=function(A){return S(A)===u},dt.isFragment=function(A){return S(A)===n},dt.isLazy=function(A){return S(A)===m},dt.isMemo=function(A){return S(A)===p},dt.isPortal=function(A){return S(A)===t},dt.isProfiler=function(A){return S(A)===i},dt.isStrictMode=function(A){return S(A)===r},dt.isSuspense=function(A){return S(A)===d},dt.isSuspenseList=function(A){return S(A)===h},dt.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===i||A===r||A===d||A===h||typeof A=="object"&&A!==null&&(A.$$typeof===m||A.$$typeof===p||A.$$typeof===c||A.$$typeof===s||A.$$typeof===u||A.$$typeof===x||A.getModuleId!==void 0)},dt.typeOf=S,dt}var qA;function $R(){return qA||(qA=1,mg.exports=LR()),mg.exports}var BR=$R(),sn=e=>e===0?0:e>0?1:-1,cr=e=>typeof e=="number"&&e!=+e,Do=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ke=e=>(typeof e=="number"||e instanceof Number)&&!cr(e),ca=e=>ke(e)||typeof e=="string",UR=0,Kc=e=>{var t=++UR;return"".concat(e||"").concat(t)},On=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(t)&&typeof t!="string")return r;var s;if(Do(t)){if(n==null)return r;var c=t.indexOf("%");s=n*parseFloat(t.slice(0,c))/100}else s=+t;return cr(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},J2=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function yn(e,t,n){return ke(e)&&ke(t)?e+n*(t-e):t}function zR(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):$o(r,t))===n)}var ln=e=>e===null||typeof e>"u",ru=e=>ln(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),GR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function l0(e){if(typeof e!="string")return!1;var t=GR;return t.includes(e)}var HR=["viewBox","children"],YA=["points","pathLength"],gg={svg:HR,polygon:YA,polyline:YA},qR=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(C.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{l0(i)&&(r[i]=(s=>n[i](n,s)))}),r},YR=(e,t,n)=>r=>(e(t,n,r),null),au=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var s=e[i];l0(i)&&typeof s=="function"&&(r||(r={}),r[i]=YR(s,t,n))}),r},FR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function e_(e){if(typeof e!="string")return!1;var t=FR;return t.includes(e)}function Fo(e){var t=Object.entries(e).filter(n=>{var[r]=n;return e_(r)});return Object.fromEntries(t)}var FA=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",KA=null,yg=null,t_=e=>{if(e===KA&&Array.isArray(yg))return yg;var t=[];return C.Children.forEach(e,n=>{ln(n)||(BR.isFragment(n)?t=t.concat(t_(n.props.children)):t.push(n))}),yg=t,KA=e,t};function c0(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>FA(i)):r=[FA(t)],t_(e).forEach(i=>{var s=$o(i,"type.displayName")||$o(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var KR=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var s=(i=r&&gg?.[r])!==null&&i!==void 0?i:[],c=t.startsWith("data-"),u=typeof e!="function"&&(!!r&&s.includes(t)||e_(t)),d=!!n&&l0(t);return c||u||d},Ht=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(C.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(s=>{var c;KR((c=r)===null||c===void 0?void 0:c[s],s,t,n)&&(i[s]=r[s])}),i},VR=["children","width","height","viewBox","className","style","title","desc"];function nv(){return nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nv.apply(null,arguments)}function XR(e,t){if(e==null)return{};var n,r,i=WR(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WR(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var u0=C.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:s,className:c,style:u,title:d,desc:h}=e,p=XR(e,VR),m=s||{width:r,height:i,x:0,y:0},y=st("recharts-surface",c);return C.createElement("svg",nv({},Ht(p,!0,"svg"),{className:y,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),C.createElement("title",null,d),C.createElement("desc",null,h),n)}),QR=["children","className"];function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rv.apply(null,arguments)}function ZR(e,t){if(e==null)return{};var n,r,i=JR(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JR(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Kn=C.forwardRef((e,t)=>{var{children:n,className:r}=e,i=ZR(e,QR),s=st("recharts-layer",r);return C.createElement("g",rv({className:s},Ht(i,!0),{ref:t}),n)}),n_=Uw(),r_=C.createContext(null),eI=()=>C.useContext(r_);function xt(e){return function(){return e}}const a_=Math.cos,vd=Math.sin,Yr=Math.sqrt,bd=Math.PI,ih=2*bd,av=Math.PI,iv=2*av,wo=1e-6,tI=iv-wo;function i_(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function nI(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return i_;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class rI{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?i_:nI(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,c){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+c}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,u=this._y1,d=r-t,h=i-n,p=c-t,m=u-n,y=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>wo)if(!(Math.abs(m*d-h*p)>wo)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-c,S=i-u,A=d*d+h*h,P=x*x+S*S,E=Math.sqrt(A),_=Math.sqrt(y),O=s*Math.tan((av-Math.acos((A+y-P)/(2*E*_)))/2),j=O/_,k=O/E;Math.abs(j-1)>wo&&this._append`L${t+j*p},${n+j*m}`,this._append`A${s},${s},0,0,${+(m*x>p*S)},${this._x1=t+k*d},${this._y1=n+k*h}`}}arc(t,n,r,i,s,c){if(t=+t,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),h=t+u,p=n+d,m=1^c,y=c?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>wo||Math.abs(this._y1-p)>wo)&&this._append`L${h},${p}`,r&&(y<0&&(y=y%iv+iv),y>tI?this._append`A${r},${r},0,1,${m},${t-u},${n-d}A${r},${r},0,1,${m},${this._x1=h},${this._y1=p}`:y>wo&&this._append`A${r},${r},0,${+(y>=av)},${m},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function f0(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new rI(t)}function d0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function o_(e){this._context=e}o_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function oh(e){return new o_(e)}function s_(e){return e[0]}function l_(e){return e[1]}function c_(e,t){var n=xt(!0),r=null,i=oh,s=null,c=f0(u);e=typeof e=="function"?e:e===void 0?s_:xt(e),t=typeof t=="function"?t:t===void 0?l_:xt(t);function u(d){var h,p=(d=d0(d)).length,m,y=!1,x;for(r==null&&(s=i(x=c())),h=0;h<=p;++h)!(h<p&&n(m=d[h],h,d))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+e(m,h,d),+t(m,h,d));if(x)return s=null,x+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:xt(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:xt(+d),u):t},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:xt(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),u):r},u}function Gf(e,t,n){var r=null,i=xt(!0),s=null,c=oh,u=null,d=f0(h);e=typeof e=="function"?e:e===void 0?s_:xt(+e),t=typeof t=="function"?t:xt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?l_:xt(+n);function h(m){var y,x,S,A=(m=d0(m)).length,P,E=!1,_,O=new Array(A),j=new Array(A);for(s==null&&(u=c(_=d())),y=0;y<=A;++y){if(!(y<A&&i(P=m[y],y,m))===E)if(E=!E)x=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=y-1;S>=x;--S)u.point(O[S],j[S]);u.lineEnd(),u.areaEnd()}E&&(O[y]=+e(P,y,m),j[y]=+t(P,y,m),u.point(r?+r(P,y,m):O[y],n?+n(P,y,m):j[y]))}if(_)return u=null,_+""||null}function p(){return c_().defined(i).curve(c).context(s)}return h.x=function(m){return arguments.length?(e=typeof m=="function"?m:xt(+m),r=null,h):e},h.x0=function(m){return arguments.length?(e=typeof m=="function"?m:xt(+m),h):e},h.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:xt(+m),h):r},h.y=function(m){return arguments.length?(t=typeof m=="function"?m:xt(+m),n=null,h):t},h.y0=function(m){return arguments.length?(t=typeof m=="function"?m:xt(+m),h):t},h.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:xt(+m),h):n},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(n)},h.lineX1=function(){return p().x(r).y(t)},h.defined=function(m){return arguments.length?(i=typeof m=="function"?m:xt(!!m),h):i},h.curve=function(m){return arguments.length?(c=m,s!=null&&(u=c(s)),h):c},h.context=function(m){return arguments.length?(m==null?s=u=null:u=c(s=m),h):s},h}class u_{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function aI(e){return new u_(e,!0)}function iI(e){return new u_(e,!1)}const h0={draw(e,t){const n=Yr(t/bd);e.moveTo(n,0),e.arc(0,0,n,0,ih)}},oI={draw(e,t){const n=Yr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},f_=Yr(1/3),sI=f_*2,lI={draw(e,t){const n=Yr(t/sI),r=n*f_;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},cI={draw(e,t){const n=Yr(t),r=-n/2;e.rect(r,r,n,n)}},uI=.8908130915292852,d_=vd(bd/10)/vd(7*bd/10),fI=vd(ih/10)*d_,dI=-a_(ih/10)*d_,hI={draw(e,t){const n=Yr(t*uI),r=fI*n,i=dI*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const c=ih*s/5,u=a_(c),d=vd(c);e.lineTo(d*n,-u*n),e.lineTo(u*r-d*i,d*r+u*i)}e.closePath()}},vg=Yr(3),pI={draw(e,t){const n=-Yr(t/(vg*3));e.moveTo(0,n*2),e.lineTo(-vg*n,-n),e.lineTo(vg*n,-n),e.closePath()}},Pr=-.5,Er=Yr(3)/2,ov=1/Yr(12),mI=(ov/2+1)*3,gI={draw(e,t){const n=Yr(t/mI),r=n/2,i=n*ov,s=r,c=n*ov+n,u=-s,d=c;e.moveTo(r,i),e.lineTo(s,c),e.lineTo(u,d),e.lineTo(Pr*r-Er*i,Er*r+Pr*i),e.lineTo(Pr*s-Er*c,Er*s+Pr*c),e.lineTo(Pr*u-Er*d,Er*u+Pr*d),e.lineTo(Pr*r+Er*i,Pr*i-Er*r),e.lineTo(Pr*s+Er*c,Pr*c-Er*s),e.lineTo(Pr*u+Er*d,Pr*d-Er*u),e.closePath()}};function yI(e,t){let n=null,r=f0(i);e=typeof e=="function"?e:xt(e||h0),t=typeof t=="function"?t:xt(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:xt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:xt(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function xd(){}function Sd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function h_(e){this._context=e}h_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vI(e){return new h_(e)}function p_(e){this._context=e}p_.prototype={areaStart:xd,areaEnd:xd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bI(e){return new p_(e)}function m_(e){this._context=e}m_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xI(e){return new m_(e)}function g_(e){this._context=e}g_.prototype={areaStart:xd,areaEnd:xd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function SI(e){return new g_(e)}function VA(e){return e<0?-1:1}function XA(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),c=(n-e._y1)/(i||r<0&&-0),u=(s*i+c*r)/(r+i);return(VA(s)+VA(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(u))||0}function WA(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function bg(e,t,n){var r=e._x0,i=e._y0,s=e._x1,c=e._y1,u=(s-r)/3;e._context.bezierCurveTo(r+u,i+u*t,s-u,c-u*n,s,c)}function Ad(e){this._context=e}Ad.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bg(this,this._t0,WA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,bg(this,WA(this,n=XA(this,e,t)),n);break;default:bg(this,this._t0,n=XA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function y_(e){this._context=new v_(e)}(y_.prototype=Object.create(Ad.prototype)).point=function(e,t){Ad.prototype.point.call(this,t,e)};function v_(e){this._context=e}v_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function AI(e){return new Ad(e)}function CI(e){return new y_(e)}function b_(e){this._context=e}b_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=QA(e),i=QA(t),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function QA(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),c=new Array(n);for(i[0]=0,s[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,c[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,c[t]-=r*c[t-1];for(i[n-1]=c[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(c[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function PI(e){return new b_(e)}function sh(e,t){this._context=e,this._t=t}sh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function EI(e){return new sh(e,.5)}function wI(e){return new sh(e,0)}function _I(e){return new sh(e,1)}function Ks(e,t){if((c=e.length)>1)for(var n=1,r,i,s=e[t[0]],c,u=s.length;n<c;++n)for(i=s,s=e[t[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function sv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function OI(e,t){return e[t]}function TI(e){const t=[];return t.key=e,t}function DI(){var e=xt([]),t=sv,n=Ks,r=OI;function i(s){var c=Array.from(e.apply(this,arguments),TI),u,d=c.length,h=-1,p;for(const m of s)for(u=0,++h;u<d;++u)(c[u][h]=[0,+r(m,c[u].key,h,s)]).data=m;for(u=0,p=d0(t(c));u<d;++u)c[p[u]].index=u;return n(c,p),c}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:xt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:xt(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?sv:typeof s=="function"?s:xt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??Ks,i):n},i}function kI(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,c;i<s;++i){for(c=n=0;n<r;++n)c+=e[n][i][1]||0;if(c)for(n=0;n<r;++n)e[n][i][1]/=c}Ks(e,t)}}function jI(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var c=0,u=0;c<i;++c)u+=e[c][n][1]||0;r[n][1]+=r[n][0]=-u/2}Ks(e,t)}}function NI(e,t){if(!(!((c=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,c;r<s;++r){for(var u=0,d=0,h=0;u<c;++u){for(var p=e[t[u]],m=p[r][1]||0,y=p[r-1][1]||0,x=(m-y)/2,S=0;S<u;++S){var A=e[t[S]],P=A[r][1]||0,E=A[r-1][1]||0;x+=P-E}d+=m,h+=x*m}i[r-1][1]+=i[r-1][0]=n,d&&(n-=h/d)}i[r-1][1]+=i[r-1][0]=n,Ks(e,t)}}var MI=["type","size","sizeType"];function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lv.apply(null,arguments)}function ZA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(n),!0).forEach(function(r){RI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RI(e,t,n){return(t=II(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function II(e){var t=LI(e,"string");return typeof t=="symbol"?t:t+""}function LI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $I(e,t){if(e==null)return{};var n,r,i=BI(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function BI(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var x_={symbolCircle:h0,symbolCross:oI,symbolDiamond:lI,symbolSquare:cI,symbolStar:hI,symbolTriangle:pI,symbolWye:gI},UI=Math.PI/180,zI=e=>{var t="symbol".concat(ru(e));return x_[t]||h0},GI=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*UI;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},HI=(e,t)=>{x_["symbol".concat(ru(e))]=t},p0=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=$I(e,MI),s=JA(JA({},i),{},{type:t,size:n,sizeType:r}),c="circle";typeof t=="string"&&(c=t);var u=()=>{var y=zI(c),x=yI().type(y).size(GI(n,r,c));return x()},{className:d,cx:h,cy:p}=s,m=Ht(s,!0);return h===+h&&p===+p&&n===+n?C.createElement("path",lv({},m,{className:st("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};p0.registerSymbol=HI;function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cv.apply(null,arguments)}function eC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eC(Object(n),!0).forEach(function(r){m0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m0(e,t,n){return(t=YI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YI(e){var t=FI(e,"string");return typeof t=="symbol"?t:t+""}function FI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wr=32;class g0 extends C.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=wr/2,s=wr/6,c=wr/3,u=t.inactive?r:t.color,d=n??t.type;if(d==="none")return null;if(d==="plainline")return C.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:wr,y2:i,className:"recharts-legend-icon"});if(d==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(wr,"M").concat(2*c,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return C.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(wr/8,"h").concat(wr,"v").concat(wr*3/4,"h").concat(-wr,"z"),className:"recharts-legend-icon"});if(C.isValidElement(t.legendIcon)){var h=qI({},t);return delete h.legendIcon,C.cloneElement(t.legendIcon,h)}return C.createElement(p0,{fill:u,cx:i,cy:i,size:wr,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:c}=this.props,u={x:0,y:0,width:wr,height:wr},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,m)=>{var y=p.formatter||i,x=st({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:p.inactive});if(p.type==="none")return null;var S=p.inactive?s:p.color,A=y?y(p.value,p,m):p.value;return C.createElement("li",cv({className:x,style:d,key:"legend-item-".concat(m)},au(this.props,p,m)),C.createElement(u0,{width:n,height:n,viewBox:u,style:h,"aria-label":"".concat(A," legend icon")},this.renderIcon(p,c)),C.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},A))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}m0(g0,"displayName","Legend");m0(g0,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var xg={},Sg={},tC;function KI(){return tC||(tC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let s=0;s<n.length;s++){const c=n[s],u=r(c);i.has(u)||i.set(u,c)}return Array.from(i.values())}e.uniqBy=t})(Sg)),Sg}var Ag={},nC;function S_(){return nC||(nC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Ag)),Ag}var Cg={},Pg={},Eg={},rC;function VI(){return rC||(rC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Eg)),Eg}var aC;function y0(){return aC||(aC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VI();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Pg)),Pg}var wg={},iC;function XI(){return iC||(iC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(wg)),wg}var oC;function WI(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y0(),n=XI();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Cg)),Cg}var _g={},Og={},sC;function QI(){return sC||(sC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s0();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Og)),Og}var Tg={},Dg={},kg={},jg={},lC;function A_(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(jg)),jg}var Ng={},cC;function C_(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Ng)),Ng}var Mg={},uC;function P_(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(Mg)),Mg}var fC;function ZI(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v0(),n=A_(),r=C_(),i=P_();function s(m,y,x){return typeof x!="function"?t.isMatch(m,y):c(m,y,function S(A,P,E,_,O,j){const k=x(A,P,E,_,O,j);return k!==void 0?!!k:c(A,P,S,j)},new Map)}function c(m,y,x,S){if(y===m)return!0;switch(typeof y){case"object":return u(m,y,x,S);case"function":return Object.keys(y).length>0?c(m,{...y},x,S):i.eq(m,y);default:return n.isObject(m)?typeof y=="string"?y==="":!0:i.eq(m,y)}}function u(m,y,x,S){if(y==null)return!0;if(Array.isArray(y))return h(m,y,x,S);if(y instanceof Map)return d(m,y,x,S);if(y instanceof Set)return p(m,y,x,S);const A=Object.keys(y);if(m==null)return A.length===0;if(A.length===0)return!0;if(S&&S.has(y))return S.get(y)===m;S&&S.set(y,m);try{for(let P=0;P<A.length;P++){const E=A[P];if(!r.isPrimitive(m)&&!(E in m)||y[E]===void 0&&m[E]!==void 0||y[E]===null&&m[E]!==null||!x(m[E],y[E],E,m,y,S))return!1}return!0}finally{S&&S.delete(y)}}function d(m,y,x,S){if(y.size===0)return!0;if(!(m instanceof Map))return!1;for(const[A,P]of y.entries()){const E=m.get(A);if(x(E,P,A,m,y,S)===!1)return!1}return!0}function h(m,y,x,S){if(y.length===0)return!0;if(!Array.isArray(m))return!1;const A=new Set;for(let P=0;P<y.length;P++){const E=y[P];let _=!1;for(let O=0;O<m.length;O++){if(A.has(O))continue;const j=m[O];let k=!1;if(x(j,E,P,m,y,S)&&(k=!0),k){A.add(O),_=!0;break}}if(!_)return!1}return!0}function p(m,y,x,S){return y.size===0?!0:m instanceof Set?h([...m],[...y],x,S):!1}e.isMatchWith=s,e.isSetMatch=p})(kg)),kg}var dC;function v0(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZI();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Dg)),Dg}var Rg={},Ig={},Lg={},hC;function JI(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Lg)),Lg}var $g={},pC;function E_(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})($g)),$g}var Bg={},mC;function w_(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",c="[object Symbol]",u="[object Date]",d="[object Map]",h="[object Set]",p="[object Array]",m="[object Function]",y="[object ArrayBuffer]",x="[object Object]",S="[object Error]",A="[object DataView]",P="[object Uint8Array]",E="[object Uint8ClampedArray]",_="[object Uint16Array]",O="[object Uint32Array]",j="[object BigUint64Array]",k="[object Int8Array]",D="[object Int16Array]",N="[object Int32Array]",M="[object BigInt64Array]",z="[object Float32Array]",re="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=y,e.arrayTag=p,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=j,e.booleanTag=i,e.dataViewTag=A,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=z,e.float64ArrayTag=re,e.functionTag=m,e.int16ArrayTag=D,e.int32ArrayTag=N,e.int8ArrayTag=k,e.mapTag=d,e.numberTag=r,e.objectTag=x,e.regexpTag=t,e.setTag=h,e.stringTag=n,e.symbolTag=c,e.uint16ArrayTag=_,e.uint32ArrayTag=O,e.uint8ArrayTag=P,e.uint8ClampedArrayTag=E})(Bg)),Bg}var Ug={},gC;function e4(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Ug)),Ug}var yC;function __(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JI(),n=E_(),r=w_(),i=C_(),s=e4();function c(p,m){return u(p,void 0,p,new Map,m)}function u(p,m,y,x=new Map,S=void 0){const A=S?.(p,m,y,x);if(A!==void 0)return A;if(i.isPrimitive(p))return p;if(x.has(p))return x.get(p);if(Array.isArray(p)){const P=new Array(p.length);x.set(p,P);for(let E=0;E<p.length;E++)P[E]=u(p[E],E,y,x,S);return Object.hasOwn(p,"index")&&(P.index=p.index),Object.hasOwn(p,"input")&&(P.input=p.input),P}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const P=new RegExp(p.source,p.flags);return P.lastIndex=p.lastIndex,P}if(p instanceof Map){const P=new Map;x.set(p,P);for(const[E,_]of p)P.set(E,u(_,E,y,x,S));return P}if(p instanceof Set){const P=new Set;x.set(p,P);for(const E of p)P.add(u(E,void 0,y,x,S));return P}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const P=new(Object.getPrototypeOf(p)).constructor(p.length);x.set(p,P);for(let E=0;E<p.length;E++)P[E]=u(p[E],E,y,x,S);return P}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const P=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return x.set(p,P),d(P,p,y,x,S),P}if(typeof File<"u"&&p instanceof File){const P=new File([p],p.name,{type:p.type});return x.set(p,P),d(P,p,y,x,S),P}if(p instanceof Blob){const P=new Blob([p],{type:p.type});return x.set(p,P),d(P,p,y,x,S),P}if(p instanceof Error){const P=new p.constructor;return x.set(p,P),P.message=p.message,P.name=p.name,P.stack=p.stack,P.cause=p.cause,d(P,p,y,x,S),P}if(typeof p=="object"&&h(p)){const P=Object.create(Object.getPrototypeOf(p));return x.set(p,P),d(P,p,y,x,S),P}return p}function d(p,m,y=p,x,S){const A=[...Object.keys(m),...t.getSymbols(m)];for(let P=0;P<A.length;P++){const E=A[P],_=Object.getOwnPropertyDescriptor(p,E);(_==null||_.writable)&&(p[E]=u(m[E],E,y,x,S))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=d})(Ig)),Ig}var vC;function t4(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=__();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Rg)),Rg}var bC;function n4(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v0(),n=t4();function r(i){return i=n.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=r})(Tg)),Tg}var zg={},Gg={},Hg={},xC;function r4(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=__(),n=w_();function r(i,s){return t.cloneDeepWith(i,(c,u,d,h)=>{const p=s?.(c,u,d,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i?.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=r})(Hg)),Hg}var SC;function a4(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r4();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Gg)),Gg}var qg={},Yg={},AC;function O_(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Yg)),Yg}var Fg={},CC;function i4(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E_();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Fg)),Fg}var PC;function o4(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q2(),n=O_(),r=i4(),i=o0();function s(c,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&c?.[u]==null?d=i.toPath(u):d=[u],d.length===0)return!1;let h=c;for(let p=0;p<d.length;p++){const m=d[p];if((h==null||!Object.hasOwn(h,m))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(m)&&m<h.length))return!1;h=h[m]}return!0}e.has=s})(qg)),qg}var EC;function s4(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v0(),n=Z2(),r=a4(),i=s0(),s=o4();function c(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(h){const p=i.get(h,u);return p===void 0?s.has(h,u):d===void 0?p===void 0:t.isMatch(p,d)}}e.matchesProperty=c})(zg)),zg}var wC;function l4(){return wC||(wC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S_(),n=QI(),r=n4(),i=s4();function s(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}e.iteratee=s})(_g)),_g}var _C;function c4(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KI(),n=S_(),r=WI(),i=l4();function s(c,u=n.identity){return r.isArrayLikeObject(c)?t.uniqBy(Array.from(c),i.iteratee(u)):[]}e.uniqBy=s})(xg)),xg}var Kg,OC;function u4(){return OC||(OC=1,Kg=c4().uniqBy),Kg}var f4=u4();const TC=qr(f4);function T_(e,t,n){return t===!0?TC(e,n):typeof t=="function"?TC(e,t):e}var Vg={exports:{}},Xg={},Wg={exports:{}},Qg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DC;function d4(){if(DC)return Qg;DC=1;var e=al();function t(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,c=e.useDebugValue;function u(m,y){var x=y(),S=r({inst:{value:x,getSnapshot:y}}),A=S[0].inst,P=S[1];return s(function(){A.value=x,A.getSnapshot=y,d(A)&&P({inst:A})},[m,x,y]),i(function(){return d(A)&&P({inst:A}),m(function(){d(A)&&P({inst:A})})},[m]),c(x),x}function d(m){var y=m.getSnapshot;m=m.value;try{var x=y();return!n(m,x)}catch{return!0}}function h(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return Qg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Qg}var kC;function h4(){return kC||(kC=1,Wg.exports=d4()),Wg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jC;function p4(){if(jC)return Xg;jC=1;var e=al(),t=h4();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,c=e.useEffect,u=e.useMemo,d=e.useDebugValue;return Xg.useSyncExternalStoreWithSelector=function(h,p,m,y,x){var S=s(null);if(S.current===null){var A={hasValue:!1,value:null};S.current=A}else A=S.current;S=u(function(){function E(D){if(!_){if(_=!0,O=D,D=y(D),x!==void 0&&A.hasValue){var N=A.value;if(x(N,D))return j=N}return j=D}if(N=j,r(O,D))return N;var M=y(D);return x!==void 0&&x(N,M)?(O=D,N):(O=D,j=M)}var _=!1,O,j,k=m===void 0?null:m;return[function(){return E(p())},k===null?void 0:function(){return E(k())}]},[p,m,y,x]);var P=i(h,S[0],S[1]);return c(function(){A.hasValue=!0,A.value=P},[P]),d(P),P},Xg}var NC;function m4(){return NC||(NC=1,Vg.exports=p4()),Vg.exports}var g4=m4(),b0=C.createContext(null),y4=e=>e,Tt=()=>{var e=C.useContext(b0);return e?e.store.dispatch:y4},fd=()=>{},v4=()=>fd,b4=(e,t)=>e===t;function Te(e){var t=C.useContext(b0);return g4.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:v4,t?t.store.getState:fd,t?t.store.getState:fd,t?e:fd,b4)}function x4(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function S4(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function A4(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var MC=e=>Array.isArray(e)?e:[e];function C4(e){const t=Array.isArray(e[0])?e[0]:e;return A4(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function P4(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var E4=class{constructor(e){this.value=e}deref(){return this.value}},w4=typeof WeakRef<"u"?WeakRef:E4,_4=0,RC=1;function Hf(){return{s:_4,v:void 0,o:null,p:null}}function D_(e,t={}){let n=Hf();const{resultEqualityCheck:r}=t;let i,s=0;function c(){let u=n;const{length:d}=arguments;for(let m=0,y=d;m<y;m++){const x=arguments[m];if(typeof x=="function"||typeof x=="object"&&x!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const A=S.get(x);A===void 0?(u=Hf(),S.set(x,u)):u=A}else{let S=u.p;S===null&&(u.p=S=new Map);const A=S.get(x);A===void 0?(u=Hf(),S.set(x,u)):u=A}}const h=u;let p;if(u.s===RC)p=u.v;else if(p=e.apply(null,arguments),s++,r){const m=i?.deref?.()??i;m!=null&&r(m,p)&&(p=m,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new w4(p):p}return h.s=RC,h.v=p,p}return c.clearCache=()=>{n=Hf(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function O4(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,c=0,u,d={},h=i.pop();typeof h=="object"&&(d=h,h=i.pop()),x4(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...d},{memoize:m,memoizeOptions:y=[],argsMemoize:x=D_,argsMemoizeOptions:S=[]}=p,A=MC(y),P=MC(S),E=C4(i),_=m(function(){return s++,h.apply(null,arguments)},...A),O=x(function(){c++;const k=P4(E,arguments);return u=_.apply(null,k),u},...P);return Object.assign(O,{resultFunc:h,memoizedResultFunc:_,dependencies:E,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var J=O4(D_),T4=Object.assign((e,t=J)=>{S4(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((c,u,d)=>(c[n[d]]=u,c),{}))},{withTypes:()=>T4}),Zg={},Jg={},ey={},IC;function D4(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const c=t(r),u=t(i);if(c===u&&c===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?u-c:c-u}return 0};e.compareValues=n})(ey)),ey}var ty={},ny={},LC;function k_(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(ny)),ny}var $C;function k4(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k_(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||c!=null&&Object.hasOwn(c,s)}e.isKey=i})(ty)),ty}var BC;function j4(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D4(),n=k4(),r=o0();function i(s,c,u,d){if(s==null)return[];u=d?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const h=(x,S)=>{let A=x;for(let P=0;P<S.length&&A!=null;++P)A=A[S[P]];return A},p=(x,S)=>S==null||x==null?S:typeof x=="object"&&"key"in x?Object.hasOwn(S,x.key)?S[x.key]:h(S,x.path):typeof x=="function"?x(S):Array.isArray(x)?h(S,x):typeof S=="object"?S[x]:S,m=c.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return s.map(x=>({original:x,criteria:m.map(S=>p(S,x))})).slice().sort((x,S)=>{for(let A=0;A<m.length;A++){const P=t.compareValues(x.criteria[A],S.criteria[A],u[A]);if(P!==0)return P}return 0}).map(x=>x.original)}e.orderBy=i})(Jg)),Jg}var ry={},UC;function N4(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],s=Math.floor(r),c=(u,d)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&d<s?c(p,d+1):i.push(p)}};return c(n,0),i}e.flatten=t})(ry)),ry}var ay={},zC;function j_(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O_(),n=y0(),r=A_(),i=P_();function s(c,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],c):!1}e.isIterateeCall=s})(ay)),ay}var GC;function M4(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j4(),n=N4(),r=j_();function i(s,...c){const u=c.length;return u>1&&r.isIterateeCall(s,c[0],c[1])?c=[]:u>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(s,n.flatten(c),["asc"])}e.sortBy=i})(Zg)),Zg}var iy,HC;function R4(){return HC||(HC=1,iy=M4().sortBy),iy}var I4=R4();const lh=qr(I4);var N_=e=>e.legend.settings,L4=e=>e.legend.size,$4=e=>e.legend.payload,B4=J([$4,N_],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?lh(r,n):r});function U4(){return Te(B4)}var qf=1;function M_(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-t.height)>qf||Math.abs(c.left-t.left)>qf||Math.abs(c.top-t.top)>qf||Math.abs(c.width-t.width)>qf)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function mn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var z4=typeof Symbol=="function"&&Symbol.observable||"@@observable",qC=z4,oy=()=>Math.random().toString(36).substring(7).split("").join("."),G4={INIT:`@@redux/INIT${oy()}`,REPLACE:`@@redux/REPLACE${oy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${oy()}`},Cd=G4;function x0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function R_(e,t,n){if(typeof e!="function")throw new Error(mn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(mn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(mn(1));return n(R_)(e,t)}let r=e,i=t,s=new Map,c=s,u=0,d=!1;function h(){c===s&&(c=new Map,s.forEach((P,E)=>{c.set(E,P)}))}function p(){if(d)throw new Error(mn(3));return i}function m(P){if(typeof P!="function")throw new Error(mn(4));if(d)throw new Error(mn(5));let E=!0;h();const _=u++;return c.set(_,P),function(){if(E){if(d)throw new Error(mn(6));E=!1,h(),c.delete(_),s=null}}}function y(P){if(!x0(P))throw new Error(mn(7));if(typeof P.type>"u")throw new Error(mn(8));if(typeof P.type!="string")throw new Error(mn(17));if(d)throw new Error(mn(9));try{d=!0,i=r(i,P)}finally{d=!1}return(s=c).forEach(_=>{_()}),P}function x(P){if(typeof P!="function")throw new Error(mn(10));r=P,y({type:Cd.REPLACE})}function S(){const P=m;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(mn(11));function _(){const j=E;j.next&&j.next(p())}return _(),{unsubscribe:P(_)}},[qC](){return this}}}return y({type:Cd.INIT}),{dispatch:y,subscribe:m,getState:p,replaceReducer:x,[qC]:S}}function H4(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Cd.INIT})>"u")throw new Error(mn(12));if(typeof n(void 0,{type:Cd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mn(13))})}function I_(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const c=t[s];typeof e[c]=="function"&&(n[c]=e[c])}const r=Object.keys(n);let i;try{H4(n)}catch(s){i=s}return function(c={},u){if(i)throw i;let d=!1;const h={};for(let p=0;p<r.length;p++){const m=r[p],y=n[m],x=c[m],S=y(x,u);if(typeof S>"u")throw u&&u.type,new Error(mn(14));h[m]=S,d=d||S!==x}return d=d||r.length!==Object.keys(c).length,d?h:c}}function Pd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function q4(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(mn(15))};const c={getState:i.getState,dispatch:(d,...h)=>s(d,...h)},u=e.map(d=>d(c));return s=Pd(...u)(i.dispatch),{...i,dispatch:s}}}function L_(e){return x0(e)&&"type"in e&&typeof e.type=="string"}var $_=Symbol.for("immer-nothing"),YC=Symbol.for("immer-draftable"),ur=Symbol.for("immer-state");function Gr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Vs=Object.getPrototypeOf;function Bo(e){return!!e&&!!e[ur]}function Fa(e){return e?B_(e)||Array.isArray(e)||!!e[YC]||!!e.constructor?.[YC]||iu(e)||uh(e):!1}var Y4=Object.prototype.constructor.toString();function B_(e){if(!e||typeof e!="object")return!1;const t=Vs(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Y4}function Ed(e,t){ch(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function ch(e){const t=e[ur];return t?t.type_:Array.isArray(e)?1:iu(e)?2:uh(e)?3:0}function uv(e,t){return ch(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function U_(e,t,n){const r=ch(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function F4(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function iu(e){return e instanceof Map}function uh(e){return e instanceof Set}function _o(e){return e.copy_||e.base_}function fv(e,t){if(iu(e))return new Map(e);if(uh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=B_(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ur];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const c=i[s],u=r[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(Vs(e),r)}else{const r=Vs(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function S0(e,t=!1){return fh(e)||Bo(e)||!Fa(e)||(ch(e)>1&&Object.defineProperties(e,{set:{value:Yf},add:{value:Yf},clear:{value:Yf},delete:{value:Yf}}),Object.freeze(e),t&&Object.values(e).forEach(n=>S0(n,!0))),e}function Yf(){Gr(2)}function fh(e){return Object.isFrozen(e)}var K4={};function Uo(e){const t=K4[e];return t||Gr(0,e),t}var Vc;function z_(){return Vc}function V4(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function FC(e,t){t&&(Uo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function dv(e){hv(e),e.drafts_.forEach(X4),e.drafts_=null}function hv(e){e===Vc&&(Vc=e.parent_)}function KC(e){return Vc=V4(Vc,e)}function X4(e){const t=e[ur];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function VC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ur].modified_&&(dv(t),Gr(4)),Fa(e)&&(e=wd(t,e),t.parent_||_d(t,e)),t.patches_&&Uo("Patches").generateReplacementPatches_(n[ur].base_,e,t.patches_,t.inversePatches_)):e=wd(t,n,[]),dv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==$_?e:void 0}function wd(e,t,n){if(fh(t))return t;const r=t[ur];if(!r)return Ed(t,(i,s)=>XC(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return _d(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,c=!1;r.type_===3&&(s=new Set(i),i.clear(),c=!0),Ed(s,(u,d)=>XC(e,r,i,u,d,n,c)),_d(e,i,!1),n&&e.patches_&&Uo("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function XC(e,t,n,r,i,s,c){if(Bo(i)){const u=s&&t&&t.type_!==3&&!uv(t.assigned_,r)?s.concat(r):void 0,d=wd(e,i,u);if(U_(n,r,d),Bo(d))e.canAutoFreeze_=!1;else return}else c&&n.add(i);if(Fa(i)&&!fh(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;wd(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(iu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&_d(e,i)}}function _d(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&S0(t,n)}function W4(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:z_(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=A0;n&&(i=[r],s=Xc);const{revoke:c,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=c,u}var A0={get(e,t){if(t===ur)return e;const n=_o(e);if(!uv(n,t))return Q4(e,n,t);const r=n[t];return e.finalized_||!Fa(r)?r:r===sy(e.base_,t)?(ly(e),e.copy_[t]=mv(r,e)):r},has(e,t){return t in _o(e)},ownKeys(e){return Reflect.ownKeys(_o(e))},set(e,t,n){const r=G_(_o(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=sy(_o(e),t),s=i?.[ur];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(F4(n,i)&&(n!==void 0||uv(e.base_,t)))return!0;ly(e),pv(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return sy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ly(e),pv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=_o(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Gr(11)},getPrototypeOf(e){return Vs(e.base_)},setPrototypeOf(){Gr(12)}},Xc={};Ed(A0,(e,t)=>{Xc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Xc.deleteProperty=function(e,t){return Xc.set.call(this,e,t,void 0)};Xc.set=function(e,t,n){return A0.set.call(this,e[0],t,n,e[0])};function sy(e,t){const n=e[ur];return(n?_o(n):e)[t]}function Q4(e,t,n){const r=G_(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function G_(e,t){if(!(t in e))return;let n=Vs(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Vs(n)}}function pv(e){e.modified_||(e.modified_=!0,e.parent_&&pv(e.parent_))}function ly(e){e.copy_||(e.copy_=fv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Z4=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const c=this;return function(d=s,...h){return c.produce(d,p=>n.call(this,p,...h))}}typeof n!="function"&&Gr(6),r!==void 0&&typeof r!="function"&&Gr(7);let i;if(Fa(t)){const s=KC(this),c=mv(t,void 0);let u=!0;try{i=n(c),u=!1}finally{u?dv(s):hv(s)}return FC(s,r),VC(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===$_&&(i=void 0),this.autoFreeze_&&S0(i,!0),r){const s=[],c=[];Uo("Patches").generateReplacementPatches_(t,i,s,c),r(s,c)}return i}else Gr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,d=>t(d,...u));let r,i;return[this.produce(t,n,(c,u)=>{r=c,i=u}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Fa(e)||Gr(8),Bo(e)&&(e=qa(e));const t=KC(this),n=mv(e,void 0);return n[ur].isManual_=!0,hv(t),n}finishDraft(e,t){const n=e&&e[ur];(!n||!n.isManual_)&&Gr(9);const{scope_:r}=n;return FC(r,t),VC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Uo("Patches").applyPatches_;return Bo(e)?r(e,t):this.produce(e,i=>r(i,t))}};function mv(e,t){const n=iu(e)?Uo("MapSet").proxyMap_(e,t):uh(e)?Uo("MapSet").proxySet_(e,t):W4(e,t);return(t?t.scope_:z_()).drafts_.push(n),n}function qa(e){return Bo(e)||Gr(10,e),H_(e)}function H_(e){if(!Fa(e)||fh(e))return e;const t=e[ur];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=fv(e,t.scope_.immer_.useStrictShallowCopy_)}else n=fv(e,!0);return Ed(n,(r,i)=>{U_(n,r,H_(i))}),t&&(t.finalized_=!1),n}var J4=new Z4,q_=J4.produce;function Y_(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var e3=Y_(),t3=Y_,n3=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Pd:Pd.apply(null,arguments)};function kr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(lr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>L_(r)&&r.type===e,n}var F_=class Ic extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ic.prototype)}static get[Symbol.species](){return Ic}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ic(...t[0].concat(this)):new Ic(...t.concat(this))}};function WC(e){return Fa(e)?q_(e,()=>{}):e}function Ff(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function r3(e){return typeof e=="boolean"}var a3=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let c=new F_;return n&&(r3(n)?c.push(e3):c.push(t3(n.extraArgument))),c},i3="RTK_autoBatch",QC=e=>t=>{setTimeout(t,e)},o3=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,c=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:QC(10):e.type==="callback"?e.queueNotification:QC(e.timeout),h=()=>{c=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const m=()=>i&&p(),y=r.subscribe(m);return u.add(p),()=>{y(),u.delete(p)}},dispatch(p){try{return i=!p?.meta?.[i3],s=!i,s&&(c||(c=!0,d(h))),r.dispatch(p)}finally{i=!0}}})},s3=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new F_(e);return r&&i.push(o3(typeof r=="object"?r:void 0)),i};function l3(e){const t=a3(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:c=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(x0(n))u=I_(n);else throw new Error(lr(1));let d;typeof r=="function"?d=r(t):d=t();let h=Pd;i&&(h=n3({trace:!1,...typeof i=="object"&&i}));const p=q4(...d),m=s3(p);let y=typeof c=="function"?c(m):m();const x=h(...y);return R_(u,s,x)}function K_(e){const t={},n=[];let r;const i={addCase(s,c){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(lr(28));if(u in t)throw new Error(lr(29));return t[u]=c,i},addAsyncThunk(s,c){return c.pending&&(t[s.pending.type]=c.pending),c.rejected&&(t[s.rejected.type]=c.rejected),c.fulfilled&&(t[s.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:s.settled,reducer:c.settled}),i},addMatcher(s,c){return n.push({matcher:s,reducer:c}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function c3(e){return typeof e=="function"}function u3(e,t){let[n,r,i]=K_(t),s;if(c3(e))s=()=>WC(e());else{const u=WC(e);s=()=>u}function c(u=s(),d){let h=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,m)=>{if(m)if(Bo(p)){const x=m(p,d);return x===void 0?p:x}else{if(Fa(p))return q_(p,y=>m(y,d));{const y=m(p,d);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},u)}return c.getInitialState=s,c}var f3="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",d3=(e=21)=>{let t="",n=e;for(;n--;)t+=f3[Math.random()*64|0];return t},h3=Symbol.for("rtk-slice-createasyncthunk");function p3(e,t){return`${e}/${t}`}function m3({creators:e}={}){const t=e?.asyncThunk?.[h3];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(lr(11));const c=(typeof r.reducers=="function"?r.reducers(y3()):r.reducers)||{},u=Object.keys(c),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(O,j){const k=typeof O=="string"?O:O.type;if(!k)throw new Error(lr(12));if(k in d.sliceCaseReducersByType)throw new Error(lr(13));return d.sliceCaseReducersByType[k]=j,h},addMatcher(O,j){return d.sliceMatchers.push({matcher:O,reducer:j}),h},exposeAction(O,j){return d.actionCreators[O]=j,h},exposeCaseReducer(O,j){return d.sliceCaseReducersByName[O]=j,h}};u.forEach(O=>{const j=c[O],k={reducerName:O,type:p3(i,O),createNotation:typeof r.reducers=="function"};b3(j)?S3(k,j,h,t):v3(k,j,h)});function p(){const[O={},j=[],k=void 0]=typeof r.extraReducers=="function"?K_(r.extraReducers):[r.extraReducers],D={...O,...d.sliceCaseReducersByType};return u3(r.initialState,N=>{for(let M in D)N.addCase(M,D[M]);for(let M of d.sliceMatchers)N.addMatcher(M.matcher,M.reducer);for(let M of j)N.addMatcher(M.matcher,M.reducer);k&&N.addDefaultCase(k)})}const m=O=>O,y=new Map,x=new WeakMap;let S;function A(O,j){return S||(S=p()),S(O,j)}function P(){return S||(S=p()),S.getInitialState()}function E(O,j=!1){function k(N){let M=N[O];return typeof M>"u"&&j&&(M=Ff(x,k,P)),M}function D(N=m){const M=Ff(y,j,()=>new WeakMap);return Ff(M,N,()=>{const z={};for(const[re,W]of Object.entries(r.selectors??{}))z[re]=g3(W,N,()=>Ff(x,N,P),j);return z})}return{reducerPath:O,getSelectors:D,get selectors(){return D(k)},selectSlice:k}}const _={name:i,reducer:A,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:P,...E(s),injectInto(O,{reducerPath:j,...k}={}){const D=j??s;return O.inject({reducerPath:D,reducer:A},k),{..._,...E(D,!0)}}};return _}}function g3(e,t,n,r){function i(s,...c){let u=t(s);return typeof u>"u"&&r&&(u=n()),e(u,...c)}return i.unwrapped=e,i}var dr=m3();function y3(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function v3({type:e,reducerName:t,createNotation:n},r,i){let s,c;if("reducer"in r){if(n&&!x3(r))throw new Error(lr(17));s=r.reducer,c=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,c?kr(e,c):kr(e))}function b3(e){return e._reducerDefinitionType==="asyncThunk"}function x3(e){return e._reducerDefinitionType==="reducerWithPrepare"}function S3({type:e,reducerName:t},n,r,i){if(!i)throw new Error(lr(18));const{payloadCreator:s,fulfilled:c,pending:u,rejected:d,settled:h,options:p}=n,m=i(e,s,p);r.exposeAction(t,m),c&&r.addCase(m.fulfilled,c),u&&r.addCase(m.pending,u),d&&r.addCase(m.rejected,d),h&&r.addMatcher(m.settled,h),r.exposeCaseReducer(t,{fulfilled:c||Kf,pending:u||Kf,rejected:d||Kf,settled:h||Kf})}function Kf(){}var A3="task",V_="listener",X_="completed",C0="cancelled",C3=`task-${C0}`,P3=`task-${X_}`,gv=`${V_}-${C0}`,E3=`${V_}-${X_}`,dh=class{constructor(e){this.code=e,this.message=`${A3} ${C0} (reason: ${e})`}name="TaskAbortError";message},P0=(e,t)=>{if(typeof e!="function")throw new TypeError(lr(32))},Od=()=>{},W_=(e,t=Od)=>(e.catch(t),e),Q_=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Mo=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ro=e=>{if(e.aborted){const{reason:t}=e;throw new dh(t)}};function Z_(e,t){let n=Od;return new Promise((r,i)=>{const s=()=>i(new dh(e.reason));if(e.aborted){s();return}n=Q_(e,s),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Od})}var w3=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof dh?"cancelled":"rejected",error:n}}finally{t?.()}},Td=e=>t=>W_(Z_(e,t).then(n=>(Ro(e),n))),J_=e=>{const t=Td(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Ys}=Object,ZC={},hh="listenerMiddleware",_3=(e,t)=>{const n=r=>Q_(e,()=>Mo(r,e.reason));return(r,i)=>{P0(r);const s=new AbortController;n(s);const c=w3(async()=>{Ro(e),Ro(s.signal);const u=await r({pause:Td(s.signal),delay:J_(s.signal),signal:s.signal});return Ro(s.signal),u},()=>Mo(s,P3));return i?.autoJoin&&t.push(c.catch(Od)),{result:Td(e)(c),cancel(){Mo(s,C3)}}}},O3=(e,t)=>{const n=async(r,i)=>{Ro(t);let s=()=>{};const u=[new Promise((d,h)=>{let p=e({predicate:r,effect:(m,y)=>{y.unsubscribe(),d([m,y.getState(),y.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await Z_(t,Promise.race(u));return Ro(t),d}finally{s()}};return(r,i)=>W_(n(r,i))},eO=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=kr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(lr(21));return P0(s),{predicate:i,type:t,effect:s}},tO=Ys(e=>{const{type:t,predicate:n,effect:r}=eO(e);return{id:d3(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(lr(22))}}},{withTypes:()=>tO}),JC=(e,t)=>{const{type:n,effect:r,predicate:i}=eO(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},yv=e=>{e.pending.forEach(t=>{Mo(t,gv)})},T3=e=>()=>{e.forEach(yv),e.clear()},eP=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},nO=Ys(kr(`${hh}/add`),{withTypes:()=>nO}),D3=kr(`${hh}/removeAll`),rO=Ys(kr(`${hh}/remove`),{withTypes:()=>rO}),k3=(...e)=>{console.error(`${hh}/error`,...e)},ou=(e={})=>{const t=new Map,{extra:n,onError:r=k3}=e;P0(r);const i=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m?.cancelActive&&yv(p)}),s=p=>{const m=JC(t,p)??tO(p);return i(m)};Ys(s,{withTypes:()=>s});const c=p=>{const m=JC(t,p);return m&&(m.unsubscribe(),p.cancelActive&&yv(m)),!!m};Ys(c,{withTypes:()=>c});const u=async(p,m,y,x)=>{const S=new AbortController,A=O3(s,S.signal),P=[];try{p.pending.add(S),await Promise.resolve(p.effect(m,Ys({},y,{getOriginalState:x,condition:(E,_)=>A(E,_).then(Boolean),take:A,delay:J_(S.signal),pause:Td(S.signal),extra:n,signal:S.signal,fork:_3(S.signal,P),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((E,_,O)=>{E!==S&&(Mo(E,gv),O.delete(E))})},cancel:()=>{Mo(S,gv),p.pending.delete(S)},throwIfCancelled:()=>{Ro(S.signal)}})))}catch(E){E instanceof dh||eP(r,E,{raisedBy:"effect"})}finally{await Promise.all(P),Mo(S,E3),p.pending.delete(S)}},d=T3(t);return{middleware:p=>m=>y=>{if(!L_(y))return m(y);if(nO.match(y))return s(y.payload);if(D3.match(y)){d();return}if(rO.match(y))return c(y.payload);let x=p.getState();const S=()=>{if(x===ZC)throw new Error(lr(23));return x};let A;try{if(A=m(y),t.size>0){const P=p.getState(),E=Array.from(t.values());for(const _ of E){let O=!1;try{O=_.predicate(y,P,x)}catch(j){O=!1,eP(r,j,{raisedBy:"predicate"})}O&&u(_,y,p,S)}}}finally{x=ZC}return A},startListening:s,stopListening:c,clearListeners:d}};function lr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var j3={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},aO=dr({name:"chartLayout",initialState:j3,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:N3,setLayout:M3,setChartSize:R3,setScale:I3}=aO.actions,L3=aO.reducer;function tP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tP(Object(n),!0).forEach(function(r){$3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $3(e,t,n){return(t=B3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B3(e){var t=U3(e,"string");return typeof t=="symbol"?t:t+""}function U3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dd=Math.PI/180,z3=e=>e*180/Math.PI,qt=(e,t,n,r)=>({x:e+Math.cos(-Dd*r)*n,y:t+Math.sin(-Dd*r)*n}),iO=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},G3=(e,t)=>{var{x:n,y:r}=e,{x:i,y:s}=t;return Math.sqrt((n-i)**2+(r-s)**2)},H3=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:s}=t,c=G3({x:n,y:r},{x:i,y:s});if(c<=0)return{radius:c,angle:0};var u=(n-i)/c,d=Math.acos(u);return r>s&&(d=2*Math.PI-d),{radius:c,angle:z3(d),angleInRadian:d}},q3=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-s*360,endAngle:n-s*360}},Y3=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),s=Math.floor(r/360),c=Math.min(i,s);return e+c*360},F3=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:s}=H3({x:n,y:r},t),{innerRadius:c,outerRadius:u}=t;if(i<c||i>u||i===0)return null;var{startAngle:d,endAngle:h}=q3(t),p=s,m;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=d}return m?nP(nP({},t),{},{radius:i,angle:Y3(p,t)}):null};function oO(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function rP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(n),!0).forEach(function(r){K3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K3(e,t,n){return(t=V3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V3(e){var t=X3(e,"string");return typeof t=="symbol"?t:t+""}function X3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Et(e,t,n){return ln(e)||ln(t)?n:ca(t)?$o(e,t,n):typeof t=="function"?t(e):n}var W3=(e,t,n,r,i)=>{var s,c=-1,u=(s=t?.length)!==null&&s!==void 0?s:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<u;d++){var h=d>0?n[d-1].coordinate:n[u-1].coordinate,p=n[d].coordinate,m=d>=u-1?n[0].coordinate:n[d+1].coordinate,y=void 0;if(sn(p-h)!==sn(m-p)){var x=[];if(sn(m-p)===sn(i[1]-i[0])){y=m;var S=p+i[1]-i[0];x[0]=Math.min(S,(S+h)/2),x[1]=Math.max(S,(S+h)/2)}else{y=h;var A=m+i[1]-i[0];x[0]=Math.min(p,(A+p)/2),x[1]=Math.max(p,(A+p)/2)}var P=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>P[0]&&e<=P[1]||e>=x[0]&&e<=x[1]){({index:c}=n[d]);break}}else{var E=Math.min(h,m),_=Math.max(h,m);if(e>(E+p)/2&&e<=(_+p)/2){({index:c}=n[d]);break}}}else if(t){for(var O=0;O<u;O++)if(O===0&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O>0&&O<u-1&&e>(t[O].coordinate+t[O-1].coordinate)/2&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O===u-1&&e>(t[O].coordinate+t[O-1].coordinate)/2){({index:c}=t[O]);break}}return c},Q3=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:s,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&s!=="center"&&ke(e[s]))return Or(Or({},e),{},{[s]:e[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&c!=="middle"&&ke(e[c]))return Or(Or({},e),{},{[c]:e[c]+(i||0)})}return e},Ko=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",sO=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,s,c=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(s=!0),u.coordinate));return i||c.push(t),s||c.push(n),c},lO=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:s,scale:c,realScaleType:u,isCategorical:d,categoricalDomain:h,tickCount:p,ticks:m,niceTicks:y,axisType:x}=e;if(!c)return null;var S=u==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,A=i==="category"&&c.bandwidth?c.bandwidth()/S:0;if(A=x==="angleAxis"&&s&&s.length>=2?sn(s[0]-s[1])*2*A:A,m||y){var P=(m||y||[]).map((E,_)=>{var O=r?r.indexOf(E):E;return{coordinate:c(O)+A,value:E,offset:A,index:_}});return P.filter(E=>!cr(E.coordinate))}return d&&h?h.map((E,_)=>({coordinate:c(E)+A,value:E,index:_,offset:A})):c.ticks&&p!=null?c.ticks(p).map((E,_)=>({coordinate:c(E)+A,value:E,offset:A,index:_})):c.domain().map((E,_)=>({coordinate:c(E)+A,value:r?r[E]:E,index:_,offset:A}))},aP=1e-4,Z3=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-aP,s=Math.max(r[0],r[1])+aP,c=e(t[0]),u=e(t[n-1]);(c<i||c>s||u<i||u>s)&&e.domain([t[0],t[n-1]])}},J3=(e,t)=>{if(!t||t.length!==2||!ke(t[0])||!ke(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ke(e[0])||e[0]<n)&&(i[0]=n),(!ke(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},eL=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0,c=0;c<t;++c){var u=cr(e[c][n][1])?e[c][n][0]:e[c][n][1];u>=0?(e[c][n][0]=i,e[c][n][1]=i+u,i=e[c][n][1]):(e[c][n][0]=s,e[c][n][1]=s+u,s=e[c][n][1])}},tL=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0;s<t;++s){var c=cr(e[s][n][1])?e[s][n][0]:e[s][n][1];c>=0?(e[s][n][0]=i,e[s][n][1]=i+c,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},nL={sign:eL,expand:kI,none:Ks,silhouette:jI,wiggle:NI,positive:tL},rL=(e,t,n)=>{var r=nL[n],i=DI().keys(t).value((s,c)=>+Et(s,c,0)).order(sv).offset(r);return i(e)};function aL(e){return e==null?void 0:String(e)}var iP=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:s,index:c}=e;if(t.type==="category")return n[c]?n[c].coordinate+r:null;var u=Et(s,t.dataKey,t.scale.domain()[c]);return ln(u)?null:t.scale(u)-i/2+r},iL=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},oL=e=>{var t=e.flat(2).filter(ke);return[Math.min(...t),Math.max(...t)]},sL=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],lL=(e,t,n)=>{if(e!=null)return sL(Object.keys(e).reduce((r,i)=>{var s=e[i],{stackedData:c}=s,u=c.reduce((d,h)=>{var p=oO(h,t,n),m=oL(p);return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},oP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,E0=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=lh(t,p=>p.coordinate),s=1/0,c=1,u=i.length;c<u;c++){var d=i[c],h=i[c-1];s=Math.min((d.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function lP(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:s}=e;return Or(Or({},t),{},{dataKey:n,payload:r,value:i,name:s})}function ph(e,t){if(e)return String(e);if(typeof t=="string")return t}function cL(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return r?F3({x:e,y:t},r):null}var uL=(e,t,n,r)=>{var i=t.find(h=>h&&h.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:c}=r;return Or(Or(Or({},r),qt(r.cx,r.cy,c,s)),{},{angle:s,radius:c})}var u=i.coordinate,{angle:d}=r;return Or(Or(Or({},r),qt(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{x:0,y:0}},fL=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Qa=e=>e.layout.width,Za=e=>e.layout.height,dL=e=>e.layout.scale,cO=e=>e.layout.margin,mh=J(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),gh=J(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),uO="data-recharts-item-index",fO="data-recharts-item-data-key",su=60;function cP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(n),!0).forEach(function(r){hL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hL(e,t,n){return(t=pL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pL(e){var t=mL(e,"string");return typeof t=="symbol"?t:t+""}function mL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gL=e=>e.brush.height;function yL(e){var t=gh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:su;return n+i}return n},0)}function vL(e){var t=gh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:su;return n+i}return n},0)}function bL(e){var t=mh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function xL(e){var t=mh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Wt=J([Qa,Za,cO,gL,yL,vL,bL,xL,N_,L4],(e,t,n,r,i,s,c,u,d,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},m={top:(n.top||0)+c,bottom:(n.bottom||0)+u},y=Vf(Vf({},m),p),x=y.bottom;y.bottom+=r,y=Q3(y,d,h);var S=e-y.left-y.right,A=t-y.top-y.bottom;return Vf(Vf({brushBottom:x},y),{},{width:Math.max(S,0),height:Math.max(A,0)})}),SL=J(Wt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),w0=J(Qa,Za,(e,t)=>({x:0,y:0,width:e,height:t})),AL=C.createContext(null),Nr=()=>C.useContext(AL)!=null,yh=e=>e.brush,vh=J([yh,Wt,cO],(e,t,n)=>({height:e.height,x:ke(e.x)?e.x:t.left,y:ke(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:ke(e.width)?e.width:t.width})),_0=()=>{var e,t=Nr(),n=Te(SL),r=Te(vh),i=(e=Te(yh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},CL={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},dO=()=>{var e;return(e=Te(Wt))!==null&&e!==void 0?e:CL},O0=()=>Te(Qa),T0=()=>Te(Za),PL=()=>Te(e=>e.layout.margin),Ze=e=>e.layout.layoutType,D0=()=>Te(Ze),EL={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},hO=dr({name:"legend",initialState:EL,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=qa(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:uP,setLegendSettings:wL,addLegendPayload:pO,removeLegendPayload:mO}=hO.actions,_L=hO.reducer,OL=["contextPayload"];function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vv.apply(null,arguments)}function fP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(n),!0).forEach(function(r){k0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k0(e,t,n){return(t=TL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TL(e){var t=DL(e,"string");return typeof t=="symbol"?t:t+""}function DL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kL(e,t){if(e==null)return{};var n,r,i=jL(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jL(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function NL(e){return e.value}function ML(e){var{contextPayload:t}=e,n=kL(e,OL),r=T_(t,e.payloadUniqBy,NL),i=Xs(Xs({},n),{},{payload:r});return C.isValidElement(e.content)?C.cloneElement(e.content,i):typeof e.content=="function"?C.createElement(e.content,i):C.createElement(g0,i)}function RL(e,t,n,r,i,s){var{layout:c,align:u,verticalAlign:d}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&c==="vertical"?h={left:((r||0)-s.width)/2}:h=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?p={top:((i||0)-s.height)/2}:p=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Xs(Xs({},h),p)}function IL(e){var t=Tt();return C.useEffect(()=>{t(wL(e))},[t,e]),null}function LL(e){var t=Tt();return C.useEffect(()=>(t(uP(e)),()=>{t(uP({width:0,height:0}))}),[t,e]),null}function $L(e){var t=U4(),n=eI(),r=PL(),{width:i,height:s,wrapperStyle:c,portal:u}=e,[d,h]=M_([t]),p=O0(),m=T0();if(p==null||m==null)return null;var y=p-(r.left||0)-(r.right||0),x=bh.getWidthOrHeight(e.layout,s,i,y),S=u?c:Xs(Xs({position:"absolute",width:x?.width||i||"auto",height:x?.height||s||"auto"},RL(c,e,r,p,m,d)),c),A=u??n;if(A==null)return null;var P=C.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:h},C.createElement(IL,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),C.createElement(LL,{width:d.width,height:d.height}),C.createElement(ML,vv({},e,x,{margin:r,chartWidth:p,chartHeight:m,contextPayload:t})));return n_.createPortal(P,A)}class bh extends C.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&ke(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return C.createElement($L,this.props)}}k0(bh,"displayName","Legend");k0(bh,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bv.apply(null,arguments)}function dP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(n),!0).forEach(function(r){BL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BL(e,t,n){return(t=UL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UL(e){var t=zL(e,"string");return typeof t=="symbol"?t:t+""}function zL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GL(e){return Array.isArray(e)&&ca(e[0])&&ca(e[1])?e.join(" ~ "):e}var HL=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:c,itemSorter:u,wrapperClassName:d,labelClassName:h,label:p,labelFormatter:m,accessibilityLayer:y=!1}=e,x=()=>{if(s&&s.length){var k={padding:0,margin:0},D=(u?lh(s,u):s).map((N,M)=>{if(N.type==="none")return null;var z=N.formatter||c||GL,{value:re,name:W}=N,ee=re,pe=W;if(z){var de=z(re,W,N,M,s);if(Array.isArray(de))[ee,pe]=de;else if(de!=null)ee=de;else return null}var ie=cy({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:ie},ca(pe)?C.createElement("span",{className:"recharts-tooltip-item-name"},pe):null,ca(pe)?C.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,C.createElement("span",{className:"recharts-tooltip-item-value"},ee),C.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:k},D)}return null},S=cy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=cy({margin:0},i),P=!ln(p),E=P?p:"",_=st("recharts-default-tooltip",d),O=st("recharts-tooltip-label",h);P&&m&&s!==void 0&&s!==null&&(E=m(p,s));var j=y?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",bv({className:_,style:S},j),C.createElement("p",{className:O,style:A},C.isValidElement(E)?E:"".concat(E)),x())},_c="recharts-tooltip-wrapper",qL={visibility:"hidden"};function YL(e){var{coordinate:t,translateX:n,translateY:r}=e;return st(_c,{["".concat(_c,"-right")]:ke(n)&&t&&ke(t.x)&&n>=t.x,["".concat(_c,"-left")]:ke(n)&&t&&ke(t.x)&&n<t.x,["".concat(_c,"-bottom")]:ke(r)&&t&&ke(t.y)&&r>=t.y,["".concat(_c,"-top")]:ke(r)&&t&&ke(t.y)&&r<t.y})}function hP(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:c,tooltipDimension:u,viewBox:d,viewBoxDimension:h}=e;if(s&&ke(s[r]))return s[r];var p=n[r]-u-(i>0?i:0),m=n[r]+i;if(t[r])return c[r]?p:m;var y=d[r];if(y==null)return 0;if(c[r]){var x=p,S=y;return x<S?Math.max(m,y):Math.max(p,y)}if(h==null)return 0;var A=m+u,P=y+h;return A>P?Math.max(p,y):Math.max(m,y)}function FL(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function KL(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:c,useTranslate3d:u,viewBox:d}=e,h,p,m;return c.height>0&&c.width>0&&n?(p=hP({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),m=hP({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),h=FL({translateX:p,translateY:m,useTranslate3d:u})):h=qL,{cssProperties:h,cssClasses:YL({translateX:p,translateY:m,coordinate:n})}}function pP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(n),!0).forEach(function(r){xv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xv(e,t,n){return(t=VL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VL(e){var t=XL(e,"string");return typeof t=="symbol"?t:t+""}function XL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class WL extends C.PureComponent{constructor(){super(...arguments),xv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),xv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:c,hasPayload:u,isAnimationActive:d,offset:h,position:p,reverseDirection:m,useTranslate3d:y,viewBox:x,wrapperStyle:S,lastBoundingBox:A,innerRef:P,hasPortalFromProps:E}=this.props,{cssClasses:_,cssProperties:O}=KL({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:h,position:p,reverseDirection:m,tooltipBox:{height:A.height,width:A.width},useTranslate3d:y,viewBox:x}),j=E?{}:Xf(Xf({transition:d&&t?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),k=Xf(Xf({},j),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:k,ref:P},s)}}var QL=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),sl={isSsr:QL()},gO=()=>Te(e=>e.rootProps.accessibilityLayer);function fr(e){return Number.isFinite(e)}function Ws(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Sv(){return Sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sv.apply(null,arguments)}function mP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mP(Object(n),!0).forEach(function(r){ZL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZL(e,t,n){return(t=JL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JL(e){var t=e5(e,"string");return typeof t=="symbol"?t:t+""}function e5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yP={curveBasisClosed:bI,curveBasisOpen:xI,curveBasis:vI,curveBumpX:aI,curveBumpY:iI,curveLinearClosed:SI,curveLinear:oh,curveMonotoneX:AI,curveMonotoneY:CI,curveNatural:PI,curveStep:EI,curveStepAfter:_I,curveStepBefore:wI},Wf=e=>fr(e.x)&&fr(e.y),Oc=e=>e.x,Tc=e=>e.y,t5=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(ru(e));return(n==="curveMonotone"||n==="curveBump")&&t?yP["".concat(n).concat(t==="vertical"?"Y":"X")]:yP[n]||oh},n5=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=e,c=t5(t,i),u=s?n.filter(Wf):n,d;if(Array.isArray(r)){var h=s?r.filter(m=>Wf(m)):r,p=u.map((m,y)=>gP(gP({},m),{},{base:h[y]}));return i==="vertical"?d=Gf().y(Tc).x1(Oc).x0(m=>m.base.x):d=Gf().x(Oc).y1(Tc).y0(m=>m.base.y),d.defined(Wf).curve(c),d(p)}return i==="vertical"&&ke(r)?d=Gf().y(Tc).x1(Oc).x0(r):ke(r)?d=Gf().x(Oc).y1(Tc).y0(r):d=c_().x(Oc).y(Tc),d.defined(Wf).curve(c),d(u)},yO=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var s=n&&n.length?n5(e):r;return C.createElement("path",Sv({},Fo(e),qR(e),{className:st("recharts-curve",t),d:s===null?void 0:s,ref:i}))},r5=["x","y","top","left","width","height","className"];function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Av.apply(null,arguments)}function vP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function a5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(n),!0).forEach(function(r){i5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i5(e,t,n){return(t=o5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o5(e){var t=s5(e,"string");return typeof t=="symbol"?t:t+""}function s5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l5(e,t){if(e==null)return{};var n,r,i=c5(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c5(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var u5=(e,t,n,r,i,s)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),f5=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:s=0,height:c=0,className:u}=e,d=l5(e,r5),h=a5({x:t,y:n,top:r,left:i,width:s,height:c},d);return!ke(t)||!ke(n)||!ke(s)||!ke(c)||!ke(r)||!ke(i)?null:C.createElement("path",Av({},Ht(h,!0),{className:st("recharts-cross",u),d:u5(t,n,s,c,r,i)}))};function d5(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function bP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function h5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(n),!0).forEach(function(r){p5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p5(e,t,n){return(t=m5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m5(e){var t=g5(e,"string");return typeof t=="symbol"?t:t+""}function g5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mr(e,t){var n=h5({},e),r=t,i=Object.keys(t),s=i.reduce((c,u)=>(c[u]===void 0&&r[u]!==void 0&&(c[u]=r[u]),c),n);return s}function y5(){}function xP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(n),!0).forEach(function(r){v5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v5(e,t,n){return(t=b5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b5(e){var t=x5(e,"string");return typeof t=="symbol"?t:t+""}function x5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S5=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),vO=(e,t,n)=>e.map(r=>"".concat(S5(r)," ").concat(t,"ms ").concat(n)).join(","),A5=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Wc=(e,t)=>Object.keys(t).reduce((n,r)=>SP(SP({},n),{},{[r]:e(r,t[r])}),{});function AP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(n),!0).forEach(function(r){C5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C5(e,t,n){return(t=P5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P5(e){var t=E5(e,"string");return typeof t=="symbol"?t:t+""}function E5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kd=(e,t,n)=>e+(t-e)*n,Cv=e=>{var{from:t,to:n}=e;return t!==n},bO=(e,t,n)=>{var r=Wc((i,s)=>{if(Cv(s)){var[c,u]=e(s.from,s.to,s.velocity);return gn(gn({},s),{},{from:c,velocity:u})}return s},t);return n<1?Wc((i,s)=>Cv(s)?gn(gn({},s),{},{velocity:kd(s.velocity,r[i].velocity,n),from:kd(s.from,r[i].from,n)}):s,t):bO(e,r,n-1)};function w5(e,t,n,r,i,s){var c,u=r.reduce((y,x)=>gn(gn({},y),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),d=()=>Wc((y,x)=>x.from,u),h=()=>!Object.values(u).filter(Cv).length,p=null,m=y=>{c||(c=y);var x=y-c,S=x/n.dt;u=bO(n,u,S),i(gn(gn(gn({},e),t),d())),c=y,h()||(p=s.setTimeout(m))};return()=>(p=s.setTimeout(m),()=>{p()})}function _5(e,t,n,r,i,s,c){var u=null,d=i.reduce((m,y)=>gn(gn({},m),{},{[y]:[e[y],t[y]]}),{}),h,p=m=>{h||(h=m);var y=(m-h)/r,x=Wc((A,P)=>kd(...P,n(y)),d);if(s(gn(gn(gn({},e),t),x)),y<1)u=c.setTimeout(p);else{var S=Wc((A,P)=>kd(...P,n(1)),d);s(gn(gn(gn({},e),t),S))}};return()=>(u=c.setTimeout(p),()=>{u()})}const O5=(e,t,n,r,i,s)=>{var c=A5(e,t);return n.isStepper===!0?w5(e,t,n,c,i,s):_5(e,t,n,r,c,i,s)};var jd=1e-4,xO=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],SO=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),CP=(e,t)=>n=>{var r=xO(e,t);return SO(r,n)},T5=(e,t)=>n=>{var r=xO(e,t),i=[...r.map((s,c)=>s*c).slice(1),0];return SO(i,n)},PP=function(){for(var t,n,r,i,s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];if(c.length===1)switch(c[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var d=c[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,r,n,i]=d[1].split(")")[0].split(",").map(S=>parseFloat(S)))}}else c.length===4&&([t,r,n,i]=c);var h=CP(t,n),p=CP(r,i),m=T5(t,n),y=S=>S>1?1:S<0?0:S,x=S=>{for(var A=S>1?1:S,P=A,E=0;E<8;++E){var _=h(P)-A,O=m(P);if(Math.abs(_-A)<jd||O<jd)return p(P);P=y(P-_/O)}return p(P)};return x.isStepper=!1,x},D5=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,s=(c,u,d)=>{var h=-(c-u)*n,p=d*r,m=d+(h-p)*i/1e3,y=d*i/1e3+c;return Math.abs(y-u)<jd&&Math.abs(m)<jd?[u,0]:[y,m]};return s.isStepper=!0,s.dt=i,s},k5=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return PP(e);case"spring":return D5();default:if(e.split("(")[0]==="cubic-bezier")return PP(e)}return typeof e=="function"?e:null};function j5(e){var t,n=()=>null,r=!1,i=null,s=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var u=c,[d,...h]=u;if(typeof d=="number"){i=e.setTimeout(s.bind(null,h),d);return}s(d),i=e.setTimeout(s.bind(null,h));return}typeof c=="string"&&(t=c,n(t)),typeof c=="object"&&(t=c,n(t)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,i&&(i(),i=null),s(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>e}}class N5{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=c=>{c-r>=n?t(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function M5(){return j5(new N5)}var R5=C.createContext(M5);function I5(e,t){var n=C.useContext(R5);return C.useMemo(()=>t??n(e),[e,t,n])}var L5={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},EP={t:0},uy={t:1};function xh(e){var t=Mr(e,L5),{isActive:n,canBegin:r,duration:i,easing:s,begin:c,onAnimationEnd:u,onAnimationStart:d,children:h}=t,p=I5(t.animationId,t.animationManager),[m,y]=C.useState(n?EP:uy),x=C.useRef(null);return C.useEffect(()=>{n||y(uy)},[n]),C.useEffect(()=>{if(!n||!r)return y5;var S=O5(EP,uy,k5(s),i,y,p.getTimeoutController()),A=()=>{x.current=S()};return p.start([d,c,A,i,u]),()=>{p.stop(),x.current&&x.current(),u()}},[n,r,i,s,c,d,u,p]),h(m.t)}function Sh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(Kc(t)),r=C.useRef(e);return r.current!==e&&(n.current=Kc(t),r.current=e),n.current}function wP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _P(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(n),!0).forEach(function(r){$5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $5(e,t,n){return(t=B5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B5(e){var t=U5(e,"string");return typeof t=="symbol"?t:t+""}function U5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nd.apply(null,arguments)}var OP=(e,t,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),c=r>=0?1:-1,u=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,h;if(s>0&&i instanceof Array){for(var p=[0,0,0,0],m=0,y=4;m<y;m++)p[m]=i[m]>s?s:i[m];h="M".concat(e,",").concat(t+c*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(e+u*p[0],",").concat(t)),h+="L ".concat(e+n-u*p[1],",").concat(t),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(t+c*p[1])),h+="L ".concat(e+n,",").concat(t+r-c*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(e+n-u*p[2],",").concat(t+r)),h+="L ".concat(e+u*p[3],",").concat(t+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+r-c*p[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var x=Math.min(s,i);h="M ".concat(e,",").concat(t+c*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+u*x,",").concat(t,`
            L `).concat(e+n-u*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+n,",").concat(t+c*x,`
            L `).concat(e+n,",").concat(t+r-c*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+n-u*x,",").concat(t+r,`
            L `).concat(e+u*x,",").concat(t+r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e,",").concat(t+r-c*x," Z")}else h="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},z5={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AO=e=>{var t=Mr(e,z5),n=C.useRef(null),[r,i]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var de=n.current.getTotalLength();de&&i(de)}catch{}},[]);var{x:s,y:c,width:u,height:d,radius:h,className:p}=t,{animationEasing:m,animationDuration:y,animationBegin:x,isAnimationActive:S,isUpdateAnimationActive:A}=t,P=C.useRef(u),E=C.useRef(d),_=C.useRef(s),O=C.useRef(c),j=C.useMemo(()=>({x:s,y:c,width:u,height:d,radius:h}),[s,c,u,d,h]),k=Sh(j,"rectangle-");if(s!==+s||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var D=st("recharts-rectangle",p);if(!A)return C.createElement("path",Nd({},Ht(t,!0),{className:D,d:OP(s,c,u,d,h)}));var N=P.current,M=E.current,z=_.current,re=O.current,W="0px ".concat(r===-1?1:r,"px"),ee="".concat(r,"px 0px"),pe=vO(["strokeDasharray"],y,typeof m=="string"?m:void 0);return C.createElement(xh,{animationId:k,key:k,canBegin:r>0,duration:y,easing:m,isActive:A,begin:x},de=>{var ie=yn(N,u,de),U=yn(M,d,de),ae=yn(z,s,de),ge=yn(re,c,de);n.current&&(P.current=ie,E.current=U,_.current=ae,O.current=ge);var me;return S?de>0?me={transition:pe,strokeDasharray:ee}:me={strokeDasharray:W}:me={strokeDasharray:ee},C.createElement("path",Nd({},Ht(t,!0),{className:D,d:OP(ae,ge,ie,U,h),ref:n,style:_P(_P({},me),t.style)}))})};function CO(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:s}=e,c=qt(t,n,r,i),u=qt(t,n,r,s);return{points:[c,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pv.apply(null,arguments)}var G5=(e,t)=>{var n=sn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Qf=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:s,isExternal:c,cornerRadius:u,cornerIsExternal:d}=e,h=u*(c?1:-1)+r,p=Math.asin(u/h)/Dd,m=d?i:i+s*p,y=qt(t,n,h,m),x=qt(t,n,r,m),S=d?i-s*p:i,A=qt(t,n,h*Math.cos(p*Dd),S);return{center:y,circleTangency:x,lineTangency:A,theta:p}},PO=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:c}=e,u=G5(s,c),d=s+u,h=qt(t,n,i,s),p=qt(t,n,i,d),m="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var y=qt(t,n,r,s),x=qt(t,n,r,d);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else m+="L ".concat(t,",").concat(n," Z");return m},H5=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}=e,p=sn(h-d),{circleTangency:m,lineTangency:y,theta:x}=Qf({cx:t,cy:n,radius:i,angle:d,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:S,lineTangency:A,theta:P}=Qf({cx:t,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:u}),E=u?Math.abs(d-h):Math.abs(d-h)-x-P;if(E<0)return c?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):PO({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:h});var _="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:j,theta:k}=Qf({cx:t,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:D,lineTangency:N,theta:M}=Qf({cx:t,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),z=u?Math.abs(d-h):Math.abs(d-h)-k-M;if(z<0&&s===0)return"".concat(_,"L").concat(t,",").concat(n,"Z");_+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(z>180),",").concat(+(p>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(j.x,",").concat(j.y,"Z")}else _+="L".concat(t,",").concat(n,"Z");return _},q5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},EO=e=>{var t=Mr(e,q5),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p,className:m}=t;if(s<i||h===p)return null;var y=st("recharts-sector",m),x=s-i,S=On(c,x,0,!0),A;return S>0&&Math.abs(h-p)<360?A=H5({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(S,x/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p}):A=PO({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),C.createElement("path",Pv({},Ht(t,!0),{className:y,d:A}))};function Y5(e,t,n){var r,i,s,c;if(e==="horizontal")r=t.x,s=r,i=n.top,c=n.top+n.height;else if(e==="vertical")i=t.y,c=i,r=n.left,s=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:d,innerRadius:h,outerRadius:p,angle:m}=t,y=qt(u,d,h,m),x=qt(u,d,p,m);r=y.x,i=y.y,s=x.x,c=x.y}else return CO(t);return[{x:r,y:i},{x:s,y:c}]}var fy={},dy={},hy={},TP;function F5(){return TP||(TP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k_();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(hy)),hy}var DP;function K5(){return DP||(DP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F5();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(dy)),dy}var kP;function V5(){return kP||(kP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j_(),n=K5();function r(i,s,c){c&&typeof c!="number"&&t.isIterateeCall(i,s,c)&&(s=c=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),c=c===void 0?i<s?1:-1:n.toFinite(c);const u=Math.max(Math.ceil((s-i)/(c||1)),0),d=new Array(u);for(let h=0;h<u;h++)d[h]=i,i+=c;return d}e.range=r})(fy)),fy}var py,jP;function X5(){return jP||(jP=1,py=V5().range),py}var W5=X5();const wO=qr(W5);function Ri(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Q5(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function j0(e){let t,n,r;e.length!==2?(t=Ri,n=(u,d)=>Ri(e(u),d),r=(u,d)=>e(u)-d):(t=e===Ri||e===Q5?e:Z5,n=e,r=e);function i(u,d,h=0,p=u.length){if(h<p){if(t(d,d)!==0)return p;do{const m=h+p>>>1;n(u[m],d)<0?h=m+1:p=m}while(h<p)}return h}function s(u,d,h=0,p=u.length){if(h<p){if(t(d,d)!==0)return p;do{const m=h+p>>>1;n(u[m],d)<=0?h=m+1:p=m}while(h<p)}return h}function c(u,d,h=0,p=u.length){const m=i(u,d,h,p-1);return m>h&&r(u[m-1],d)>-r(u[m],d)?m-1:m}return{left:i,center:c,right:s}}function Z5(){return 0}function _O(e){return e===null?NaN:+e}function*J5(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const e$=j0(Ri),lu=e$.right;j0(_O).center;class NP extends Map{constructor(t,n=r$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(MP(this,t))}has(t){return super.has(MP(this,t))}set(t,n){return super.set(t$(this,t),n)}delete(t){return super.delete(n$(this,t))}}function MP({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function t$({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function n$({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function r$(e){return e!==null&&typeof e=="object"?e.valueOf():e}function a$(e=Ri){if(e===Ri)return OO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function OO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const i$=Math.sqrt(50),o$=Math.sqrt(10),s$=Math.sqrt(2);function Md(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),c=s>=i$?10:s>=o$?5:s>=s$?2:1;let u,d,h;return i<0?(h=Math.pow(10,-i)/c,u=Math.round(e*h),d=Math.round(t*h),u/h<e&&++u,d/h>t&&--d,h=-h):(h=Math.pow(10,i)*c,u=Math.round(e/h),d=Math.round(t/h),u*h<e&&++u,d*h>t&&--d),d<u&&.5<=n&&n<2?Md(e,t,n*2):[u,d,h]}function Ev(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,c]=r?Md(t,e,n):Md(e,t,n);if(!(s>=i))return[];const u=s-i+1,d=new Array(u);if(r)if(c<0)for(let h=0;h<u;++h)d[h]=(s-h)/-c;else for(let h=0;h<u;++h)d[h]=(s-h)*c;else if(c<0)for(let h=0;h<u;++h)d[h]=(i+h)/-c;else for(let h=0;h<u;++h)d[h]=(i+h)*c;return d}function wv(e,t,n){return t=+t,e=+e,n=+n,Md(e,t,n)[2]}function _v(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?wv(t,e,n):wv(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function RP(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function IP(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function TO(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?OO:a$(i);r>n;){if(r-n>600){const d=r-n+1,h=t-n+1,p=Math.log(d),m=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*m*(d-m)/d)*(h-d/2<0?-1:1),x=Math.max(n,Math.floor(t-h*m/d+y)),S=Math.min(r,Math.floor(t+(d-h)*m/d+y));TO(e,t,x,S,i)}const s=e[t];let c=n,u=r;for(Dc(e,n,t),i(e[r],s)>0&&Dc(e,n,r);c<u;){for(Dc(e,c,u),++c,--u;i(e[c],s)<0;)++c;for(;i(e[u],s)>0;)--u}i(e[n],s)===0?Dc(e,n,u):(++u,Dc(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Dc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function l$(e,t,n){if(e=Float64Array.from(J5(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return IP(e);if(t>=1)return RP(e);var r,i=(r-1)*t,s=Math.floor(i),c=RP(TO(e,s).subarray(0,s+1)),u=IP(e.subarray(s+1));return c+(u-c)*(i-s)}}function c$(e,t,n=_O){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),c=+n(e[s],s,e),u=+n(e[s+1],s+1,e);return c+(u-c)*(i-s)}}function u$(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function Rr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ja(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ov=Symbol("implicit");function N0(){var e=new NP,t=[],n=[],r=Ov;function i(s){let c=e.get(s);if(c===void 0){if(r!==Ov)return r;e.set(s,c=t.push(s)-1)}return n[c%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new NP;for(const c of s)e.has(c)||e.set(c,t.push(c)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return N0(t,n).unknown(r)},Rr.apply(i,arguments),i}function M0(){var e=N0().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,c,u=!1,d=0,h=0,p=.5;delete e.unknown;function m(){var y=t().length,x=i<r,S=x?i:r,A=x?r:i;s=(A-S)/Math.max(1,y-d+h*2),u&&(s=Math.floor(s)),S+=(A-S-s*(y-d))*p,c=s*(1-d),u&&(S=Math.round(S),c=Math.round(c));var P=u$(y).map(function(E){return S+s*E});return n(x?P.reverse():P)}return e.domain=function(y){return arguments.length?(t(y),m()):t()},e.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,m()},e.bandwidth=function(){return c},e.step=function(){return s},e.round=function(y){return arguments.length?(u=!!y,m()):u},e.padding=function(y){return arguments.length?(d=Math.min(1,h=+y),m()):d},e.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),m()):d},e.paddingOuter=function(y){return arguments.length?(h=+y,m()):h},e.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),m()):p},e.copy=function(){return M0(t(),[r,i]).round(u).paddingInner(d).paddingOuter(h).align(p)},Rr.apply(m(),arguments)}function DO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return DO(t())},e}function f$(){return DO(M0.apply(null,arguments).paddingInner(1))}function R0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function kO(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function cu(){}var Qc=.7,Rd=1/Qc,Fs="\\s*([+-]?\\d+)\\s*",Zc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",la="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",d$=/^#([0-9a-f]{3,8})$/,h$=new RegExp(`^rgb\\(${Fs},${Fs},${Fs}\\)$`),p$=new RegExp(`^rgb\\(${la},${la},${la}\\)$`),m$=new RegExp(`^rgba\\(${Fs},${Fs},${Fs},${Zc}\\)$`),g$=new RegExp(`^rgba\\(${la},${la},${la},${Zc}\\)$`),y$=new RegExp(`^hsl\\(${Zc},${la},${la}\\)$`),v$=new RegExp(`^hsla\\(${Zc},${la},${la},${Zc}\\)$`),LP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};R0(cu,Jc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$P,formatHex:$P,formatHex8:b$,formatHsl:x$,formatRgb:BP,toString:BP});function $P(){return this.rgb().formatHex()}function b$(){return this.rgb().formatHex8()}function x$(){return jO(this).formatHsl()}function BP(){return this.rgb().formatRgb()}function Jc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=d$.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?UP(t):n===3?new Fn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Zf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Zf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=h$.exec(e))?new Fn(t[1],t[2],t[3],1):(t=p$.exec(e))?new Fn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=m$.exec(e))?Zf(t[1],t[2],t[3],t[4]):(t=g$.exec(e))?Zf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=y$.exec(e))?HP(t[1],t[2]/100,t[3]/100,1):(t=v$.exec(e))?HP(t[1],t[2]/100,t[3]/100,t[4]):LP.hasOwnProperty(e)?UP(LP[e]):e==="transparent"?new Fn(NaN,NaN,NaN,0):null}function UP(e){return new Fn(e>>16&255,e>>8&255,e&255,1)}function Zf(e,t,n,r){return r<=0&&(e=t=n=NaN),new Fn(e,t,n,r)}function S$(e){return e instanceof cu||(e=Jc(e)),e?(e=e.rgb(),new Fn(e.r,e.g,e.b,e.opacity)):new Fn}function Tv(e,t,n,r){return arguments.length===1?S$(e):new Fn(e,t,n,r??1)}function Fn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}R0(Fn,Tv,kO(cu,{brighter(e){return e=e==null?Rd:Math.pow(Rd,e),new Fn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qc:Math.pow(Qc,e),new Fn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fn(Io(this.r),Io(this.g),Io(this.b),Id(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zP,formatHex:zP,formatHex8:A$,formatRgb:GP,toString:GP}));function zP(){return`#${ko(this.r)}${ko(this.g)}${ko(this.b)}`}function A$(){return`#${ko(this.r)}${ko(this.g)}${ko(this.b)}${ko((isNaN(this.opacity)?1:this.opacity)*255)}`}function GP(){const e=Id(this.opacity);return`${e===1?"rgb(":"rgba("}${Io(this.r)}, ${Io(this.g)}, ${Io(this.b)}${e===1?")":`, ${e})`}`}function Id(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Io(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ko(e){return e=Io(e),(e<16?"0":"")+e.toString(16)}function HP(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hr(e,t,n,r)}function jO(e){if(e instanceof Hr)return new Hr(e.h,e.s,e.l,e.opacity);if(e instanceof cu||(e=Jc(e)),!e)return new Hr;if(e instanceof Hr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),c=NaN,u=s-i,d=(s+i)/2;return u?(t===s?c=(n-r)/u+(n<r)*6:n===s?c=(r-t)/u+2:c=(t-n)/u+4,u/=d<.5?s+i:2-s-i,c*=60):u=d>0&&d<1?0:c,new Hr(c,u,d,e.opacity)}function C$(e,t,n,r){return arguments.length===1?jO(e):new Hr(e,t,n,r??1)}function Hr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}R0(Hr,C$,kO(cu,{brighter(e){return e=e==null?Rd:Math.pow(Rd,e),new Hr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qc:Math.pow(Qc,e),new Hr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Fn(my(e>=240?e-240:e+120,i,r),my(e,i,r),my(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Hr(qP(this.h),Jf(this.s),Jf(this.l),Id(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Id(this.opacity);return`${e===1?"hsl(":"hsla("}${qP(this.h)}, ${Jf(this.s)*100}%, ${Jf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qP(e){return e=(e||0)%360,e<0?e+360:e}function Jf(e){return Math.max(0,Math.min(1,e||0))}function my(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const I0=e=>()=>e;function P$(e,t){return function(n){return e+n*t}}function E$(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function w$(e){return(e=+e)==1?NO:function(t,n){return n-t?E$(t,n,e):I0(isNaN(t)?n:t)}}function NO(e,t){var n=t-e;return n?P$(e,n):I0(isNaN(e)?t:e)}const YP=(function e(t){var n=w$(t);function r(i,s){var c=n((i=Tv(i)).r,(s=Tv(s)).r),u=n(i.g,s.g),d=n(i.b,s.b),h=NO(i.opacity,s.opacity);return function(p){return i.r=c(p),i.g=u(p),i.b=d(p),i.opacity=h(p),i+""}}return r.gamma=e,r})(1);function _$(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function O$(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function T$(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),c;for(c=0;c<r;++c)i[c]=ll(e[c],t[c]);for(;c<n;++c)s[c]=t[c];return function(u){for(c=0;c<r;++c)s[c]=i[c](u);return s}}function D$(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ld(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function k$(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ll(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Dv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gy=new RegExp(Dv.source,"g");function j$(e){return function(){return e}}function N$(e){return function(t){return e(t)+""}}function M$(e,t){var n=Dv.lastIndex=gy.lastIndex=0,r,i,s,c=-1,u=[],d=[];for(e=e+"",t=t+"";(r=Dv.exec(e))&&(i=gy.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),u[c]?u[c]+=s:u[++c]=s),(r=r[0])===(i=i[0])?u[c]?u[c]+=i:u[++c]=i:(u[++c]=null,d.push({i:c,x:Ld(r,i)})),n=gy.lastIndex;return n<t.length&&(s=t.slice(n),u[c]?u[c]+=s:u[++c]=s),u.length<2?d[0]?N$(d[0].x):j$(t):(t=d.length,function(h){for(var p=0,m;p<t;++p)u[(m=d[p]).i]=m.x(h);return u.join("")})}function ll(e,t){var n=typeof t,r;return t==null||n==="boolean"?I0(t):(n==="number"?Ld:n==="string"?(r=Jc(t))?(t=r,YP):M$:t instanceof Jc?YP:t instanceof Date?D$:O$(t)?_$:Array.isArray(t)?T$:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?k$:Ld)(e,t)}function L0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function R$(e,t){t===void 0&&(t=e,e=ll);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(c){var u=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return s[u](c-u)}}function I$(e){return function(){return e}}function $d(e){return+e}var FP=[0,1];function In(e){return e}function kv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:I$(isNaN(t)?NaN:.5)}function L$(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function $$(e,t,n){var r=e[0],i=e[1],s=t[0],c=t[1];return i<r?(r=kv(i,r),s=n(c,s)):(r=kv(r,i),s=n(s,c)),function(u){return s(r(u))}}function B$(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)i[c]=kv(e[c],e[c+1]),s[c]=n(t[c],t[c+1]);return function(u){var d=lu(e,u,1,r)-1;return s[d](i[d](u))}}function uu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ah(){var e=FP,t=FP,n=ll,r,i,s,c=In,u,d,h;function p(){var y=Math.min(e.length,t.length);return c!==In&&(c=L$(e[0],e[y-1])),u=y>2?B$:$$,d=h=null,m}function m(y){return y==null||isNaN(y=+y)?s:(d||(d=u(e.map(r),t,n)))(r(c(y)))}return m.invert=function(y){return c(i((h||(h=u(t,e.map(r),Ld)))(y)))},m.domain=function(y){return arguments.length?(e=Array.from(y,$d),p()):e.slice()},m.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},m.rangeRound=function(y){return t=Array.from(y),n=L0,p()},m.clamp=function(y){return arguments.length?(c=y?!0:In,p()):c!==In},m.interpolate=function(y){return arguments.length?(n=y,p()):n},m.unknown=function(y){return arguments.length?(s=y,m):s},function(y,x){return r=y,i=x,p()}}function $0(){return Ah()(In,In)}function U$(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bd(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Qs(e){return e=Bd(Math.abs(e)),e?e[1]:NaN}function z$(e,t){return function(n,r){for(var i=n.length,s=[],c=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),s.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=e[c=(c+1)%e.length];return s.reverse().join(t)}}function G$(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var H$=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function eu(e){if(!(t=H$.exec(e)))throw new Error("invalid format: "+e);var t;return new B0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}eu.prototype=B0.prototype;function B0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}B0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function q$(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var MO;function Y$(e,t){var n=Bd(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(MO=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=r.length;return s===c?r:s>c?r+new Array(s-c+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Bd(e,Math.max(0,t+s-1))[0]}function KP(e,t){var n=Bd(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const VP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:U$,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>KP(e*100,t),r:KP,s:Y$,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function XP(e){return e}var WP=Array.prototype.map,QP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function F$(e){var t=e.grouping===void 0||e.thousands===void 0?XP:z$(WP.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?XP:G$(WP.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function h(m){m=eu(m);var y=m.fill,x=m.align,S=m.sign,A=m.symbol,P=m.zero,E=m.width,_=m.comma,O=m.precision,j=m.trim,k=m.type;k==="n"?(_=!0,k="g"):VP[k]||(O===void 0&&(O=12),j=!0,k="g"),(P||y==="0"&&x==="=")&&(P=!0,y="0",x="=");var D=A==="$"?n:A==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",N=A==="$"?r:/[%p]/.test(k)?c:"",M=VP[k],z=/[defgprs%]/.test(k);O=O===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function re(W){var ee=D,pe=N,de,ie,U;if(k==="c")pe=M(W)+pe,W="";else{W=+W;var ae=W<0||1/W<0;if(W=isNaN(W)?d:M(Math.abs(W),O),j&&(W=q$(W)),ae&&+W==0&&S!=="+"&&(ae=!1),ee=(ae?S==="("?S:u:S==="-"||S==="("?"":S)+ee,pe=(k==="s"?QP[8+MO/3]:"")+pe+(ae&&S==="("?")":""),z){for(de=-1,ie=W.length;++de<ie;)if(U=W.charCodeAt(de),48>U||U>57){pe=(U===46?i+W.slice(de+1):W.slice(de))+pe,W=W.slice(0,de);break}}}_&&!P&&(W=t(W,1/0));var ge=ee.length+W.length+pe.length,me=ge<E?new Array(E-ge+1).join(y):"";switch(_&&P&&(W=t(me+W,me.length?E-pe.length:1/0),me=""),x){case"<":W=ee+W+pe+me;break;case"=":W=ee+me+W+pe;break;case"^":W=me.slice(0,ge=me.length>>1)+ee+W+pe+me.slice(ge);break;default:W=me+ee+W+pe;break}return s(W)}return re.toString=function(){return m+""},re}function p(m,y){var x=h((m=eu(m),m.type="f",m)),S=Math.max(-8,Math.min(8,Math.floor(Qs(y)/3)))*3,A=Math.pow(10,-S),P=QP[8+S/3];return function(E){return x(A*E)+P}}return{format:h,formatPrefix:p}}var ed,U0,RO;K$({thousands:",",grouping:[3],currency:["$",""]});function K$(e){return ed=F$(e),U0=ed.format,RO=ed.formatPrefix,ed}function V$(e){return Math.max(0,-Qs(Math.abs(e)))}function X$(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qs(t)/3)))*3-Qs(Math.abs(e)))}function W$(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Qs(t)-Qs(e))+1}function IO(e,t,n,r){var i=_v(e,t,n),s;switch(r=eu(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=X$(i,c))&&(r.precision=s),RO(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=W$(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=V$(i))&&(r.precision=s-(r.type==="%")*2);break}}return U0(r)}function zi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ev(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return IO(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,c=r[i],u=r[s],d,h,p=10;for(u<c&&(h=c,c=u,u=h,h=i,i=s,s=h);p-- >0;){if(h=wv(c,u,n),h===d)return r[i]=c,r[s]=u,t(r);if(h>0)c=Math.floor(c/h)*h,u=Math.ceil(u/h)*h;else if(h<0)c=Math.ceil(c*h)/h,u=Math.floor(u*h)/h;else break;d=h}return e},e}function LO(){var e=$0();return e.copy=function(){return uu(e,LO())},Rr.apply(e,arguments),zi(e)}function $O(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,$d),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return $O(e).unknown(t)},e=arguments.length?Array.from(e,$d):[0,1],zi(n)}function BO(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],c;return s<i&&(c=n,n=r,r=c,c=i,i=s,s=c),e[n]=t.floor(i),e[r]=t.ceil(s),e}function ZP(e){return Math.log(e)}function JP(e){return Math.exp(e)}function Q$(e){return-Math.log(-e)}function Z$(e){return-Math.exp(-e)}function J$(e){return isFinite(e)?+("1e"+e):e<0?0:e}function eB(e){return e===10?J$:e===Math.E?Math.exp:t=>Math.pow(e,t)}function tB(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function eE(e){return(t,n)=>-e(-t,n)}function z0(e){const t=e(ZP,JP),n=t.domain;let r=10,i,s;function c(){return i=tB(r),s=eB(r),n()[0]<0?(i=eE(i),s=eE(s),e(Q$,Z$)):e(ZP,JP),t}return t.base=function(u){return arguments.length?(r=+u,c()):r},t.domain=function(u){return arguments.length?(n(u),c()):n()},t.ticks=u=>{const d=n();let h=d[0],p=d[d.length-1];const m=p<h;m&&([h,p]=[p,h]);let y=i(h),x=i(p),S,A;const P=u==null?10:+u;let E=[];if(!(r%1)&&x-y<P){if(y=Math.floor(y),x=Math.ceil(x),h>0){for(;y<=x;++y)for(S=1;S<r;++S)if(A=y<0?S/s(-y):S*s(y),!(A<h)){if(A>p)break;E.push(A)}}else for(;y<=x;++y)for(S=r-1;S>=1;--S)if(A=y>0?S/s(-y):S*s(y),!(A<h)){if(A>p)break;E.push(A)}E.length*2<P&&(E=Ev(h,p,P))}else E=Ev(y,x,Math.min(x-y,P)).map(s);return m?E.reverse():E},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=eu(d)).precision==null&&(d.trim=!0),d=U0(d)),u===1/0)return d;const h=Math.max(1,r*u/t.ticks().length);return p=>{let m=p/s(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=h?d(p):""}},t.nice=()=>n(BO(n(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),t}function UO(){const e=z0(Ah()).domain([1,10]);return e.copy=()=>uu(e,UO()).base(e.base()),Rr.apply(e,arguments),e}function tE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function nE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function G0(e){var t=1,n=e(tE(t),nE(t));return n.constant=function(r){return arguments.length?e(tE(t=+r),nE(t)):t},zi(n)}function zO(){var e=G0(Ah());return e.copy=function(){return uu(e,zO()).constant(e.constant())},Rr.apply(e,arguments)}function rE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function nB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function rB(e){return e<0?-e*e:e*e}function H0(e){var t=e(In,In),n=1;function r(){return n===1?e(In,In):n===.5?e(nB,rB):e(rE(n),rE(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},zi(t)}function q0(){var e=H0(Ah());return e.copy=function(){return uu(e,q0()).exponent(e.exponent())},Rr.apply(e,arguments),e}function aB(){return q0.apply(null,arguments).exponent(.5)}function aE(e){return Math.sign(e)*e*e}function iB(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function GO(){var e=$0(),t=[0,1],n=!1,r;function i(s){var c=iB(e(s));return isNaN(c)?r:n?Math.round(c):c}return i.invert=function(s){return e.invert(aE(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,$d)).map(aE)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return GO(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Rr.apply(i,arguments),zi(i)}function HO(){var e=[],t=[],n=[],r;function i(){var c=0,u=Math.max(1,t.length);for(n=new Array(u-1);++c<u;)n[c-1]=c$(e,c/u);return s}function s(c){return c==null||isNaN(c=+c)?r:t[lu(n,c)]}return s.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},s.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ri),i()},s.range=function(c){return arguments.length?(t=Array.from(c),i()):t.slice()},s.unknown=function(c){return arguments.length?(r=c,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return HO().domain(e).range(t).unknown(r)},Rr.apply(s,arguments)}function qO(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function c(d){return d!=null&&d<=d?i[lu(r,d,0,n)]:s}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return c}return c.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},c.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},c.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},c.unknown=function(d){return arguments.length&&(s=d),c},c.thresholds=function(){return r.slice()},c.copy=function(){return qO().domain([e,t]).range(i).unknown(s)},Rr.apply(zi(c),arguments)}function YO(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[lu(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var c=t.indexOf(s);return[e[c-1],e[c]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return YO().domain(e).range(t).unknown(n)},Rr.apply(i,arguments)}const yy=new Date,vy=new Date;function Qt(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const c=i(s),u=i.ceil(s);return s-c<u-s?c:u},i.offset=(s,c)=>(t(s=new Date(+s),c==null?1:Math.floor(c)),s),i.range=(s,c,u)=>{const d=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<c)||!(u>0))return d;let h;do d.push(h=new Date(+s)),t(s,u),e(s);while(h<s&&s<c);return d},i.filter=s=>Qt(c=>{if(c>=c)for(;e(c),!s(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!s(c););else for(;--u>=0;)for(;t(c,1),!s(c););}),n&&(i.count=(s,c)=>(yy.setTime(+s),vy.setTime(+c),e(yy),e(vy),Math.floor(n(yy,vy))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?c=>r(c)%s===0:c=>i.count(0,c)%s===0):i)),i}const Ud=Qt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ud.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Qt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ud);Ud.range;const Ga=1e3,Tr=Ga*60,Ha=Tr*60,Ka=Ha*24,Y0=Ka*7,iE=Ka*30,by=Ka*365,jo=Qt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ga)},(e,t)=>(t-e)/Ga,e=>e.getUTCSeconds());jo.range;const F0=Qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ga)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getMinutes());F0.range;const K0=Qt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getUTCMinutes());K0.range;const V0=Qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ga-e.getMinutes()*Tr)},(e,t)=>{e.setTime(+e+t*Ha)},(e,t)=>(t-e)/Ha,e=>e.getHours());V0.range;const X0=Qt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ha)},(e,t)=>(t-e)/Ha,e=>e.getUTCHours());X0.range;const fu=Qt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Tr)/Ka,e=>e.getDate()-1);fu.range;const Ch=Qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ka,e=>e.getUTCDate()-1);Ch.range;const FO=Qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ka,e=>Math.floor(e/Ka));FO.range;function Vo(e){return Qt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Tr)/Y0)}const Ph=Vo(0),zd=Vo(1),oB=Vo(2),sB=Vo(3),Zs=Vo(4),lB=Vo(5),cB=Vo(6);Ph.range;zd.range;oB.range;sB.range;Zs.range;lB.range;cB.range;function Xo(e){return Qt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Y0)}const Eh=Xo(0),Gd=Xo(1),uB=Xo(2),fB=Xo(3),Js=Xo(4),dB=Xo(5),hB=Xo(6);Eh.range;Gd.range;uB.range;fB.range;Js.range;dB.range;hB.range;const W0=Qt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());W0.range;const Q0=Qt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Q0.range;const Va=Qt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Va.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Va.range;const Xa=Qt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Xa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Xa.range;function KO(e,t,n,r,i,s){const c=[[jo,1,Ga],[jo,5,5*Ga],[jo,15,15*Ga],[jo,30,30*Ga],[s,1,Tr],[s,5,5*Tr],[s,15,15*Tr],[s,30,30*Tr],[i,1,Ha],[i,3,3*Ha],[i,6,6*Ha],[i,12,12*Ha],[r,1,Ka],[r,2,2*Ka],[n,1,Y0],[t,1,iE],[t,3,3*iE],[e,1,by]];function u(h,p,m){const y=p<h;y&&([h,p]=[p,h]);const x=m&&typeof m.range=="function"?m:d(h,p,m),S=x?x.range(h,+p+1):[];return y?S.reverse():S}function d(h,p,m){const y=Math.abs(p-h)/m,x=j0(([,,P])=>P).right(c,y);if(x===c.length)return e.every(_v(h/by,p/by,m));if(x===0)return Ud.every(Math.max(_v(h,p,m),1));const[S,A]=c[y/c[x-1][2]<c[x][2]/y?x-1:x];return S.every(A)}return[u,d]}const[pB,mB]=KO(Xa,Q0,Eh,FO,X0,K0),[gB,yB]=KO(Va,W0,Ph,fu,V0,F0);function xy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Sy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function kc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function vB(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,c=e.shortDays,u=e.months,d=e.shortMonths,h=jc(i),p=Nc(i),m=jc(s),y=Nc(s),x=jc(c),S=Nc(c),A=jc(u),P=Nc(u),E=jc(d),_=Nc(d),O={a:ae,A:ge,b:me,B:L,c:null,d:fE,e:fE,f:zB,g:QB,G:JB,H:$B,I:BB,j:UB,L:VO,m:GB,M:HB,p:Q,q:V,Q:pE,s:mE,S:qB,u:YB,U:FB,V:KB,w:VB,W:XB,x:null,X:null,y:WB,Y:ZB,Z:e8,"%":hE},j={a:ue,A:xe,b:q,B:se,c:null,d:dE,e:dE,f:a8,g:p8,G:g8,H:t8,I:n8,j:r8,L:WO,m:i8,M:o8,p:Se,q:ye,Q:pE,s:mE,S:s8,u:l8,U:c8,V:u8,w:f8,W:d8,x:null,X:null,y:h8,Y:m8,Z:y8,"%":hE},k={a:re,A:W,b:ee,B:pe,c:de,d:cE,e:cE,f:MB,g:lE,G:sE,H:uE,I:uE,j:DB,L:NB,m:TB,M:kB,p:z,q:OB,Q:IB,s:LB,S:jB,u:CB,U:PB,V:EB,w:AB,W:wB,x:ie,X:U,y:lE,Y:sE,Z:_B,"%":RB};O.x=D(n,O),O.X=D(r,O),O.c=D(t,O),j.x=D(n,j),j.X=D(r,j),j.c=D(t,j);function D(le,te){return function(be){var he=[],Xe=-1,qe=0,Jt=le.length,Fe,Be,da;for(be instanceof Date||(be=new Date(+be));++Xe<Jt;)le.charCodeAt(Xe)===37&&(he.push(le.slice(qe,Xe)),(Be=oE[Fe=le.charAt(++Xe)])!=null?Fe=le.charAt(++Xe):Be=Fe==="e"?" ":"0",(da=te[Fe])&&(Fe=da(be,Be)),he.push(Fe),qe=Xe+1);return he.push(le.slice(qe,Xe)),he.join("")}}function N(le,te){return function(be){var he=kc(1900,void 0,1),Xe=M(he,le,be+="",0),qe,Jt;if(Xe!=be.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(te&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(qe=Sy(kc(he.y,0,1)),Jt=qe.getUTCDay(),qe=Jt>4||Jt===0?Gd.ceil(qe):Gd(qe),qe=Ch.offset(qe,(he.V-1)*7),he.y=qe.getUTCFullYear(),he.m=qe.getUTCMonth(),he.d=qe.getUTCDate()+(he.w+6)%7):(qe=xy(kc(he.y,0,1)),Jt=qe.getDay(),qe=Jt>4||Jt===0?zd.ceil(qe):zd(qe),qe=fu.offset(qe,(he.V-1)*7),he.y=qe.getFullYear(),he.m=qe.getMonth(),he.d=qe.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Jt="Z"in he?Sy(kc(he.y,0,1)).getUTCDay():xy(kc(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Jt+5)%7:he.w+he.U*7-(Jt+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,Sy(he)):xy(he)}}function M(le,te,be,he){for(var Xe=0,qe=te.length,Jt=be.length,Fe,Be;Xe<qe;){if(he>=Jt)return-1;if(Fe=te.charCodeAt(Xe++),Fe===37){if(Fe=te.charAt(Xe++),Be=k[Fe in oE?te.charAt(Xe++):Fe],!Be||(he=Be(le,be,he))<0)return-1}else if(Fe!=be.charCodeAt(he++))return-1}return he}function z(le,te,be){var he=h.exec(te.slice(be));return he?(le.p=p.get(he[0].toLowerCase()),be+he[0].length):-1}function re(le,te,be){var he=x.exec(te.slice(be));return he?(le.w=S.get(he[0].toLowerCase()),be+he[0].length):-1}function W(le,te,be){var he=m.exec(te.slice(be));return he?(le.w=y.get(he[0].toLowerCase()),be+he[0].length):-1}function ee(le,te,be){var he=E.exec(te.slice(be));return he?(le.m=_.get(he[0].toLowerCase()),be+he[0].length):-1}function pe(le,te,be){var he=A.exec(te.slice(be));return he?(le.m=P.get(he[0].toLowerCase()),be+he[0].length):-1}function de(le,te,be){return M(le,t,te,be)}function ie(le,te,be){return M(le,n,te,be)}function U(le,te,be){return M(le,r,te,be)}function ae(le){return c[le.getDay()]}function ge(le){return s[le.getDay()]}function me(le){return d[le.getMonth()]}function L(le){return u[le.getMonth()]}function Q(le){return i[+(le.getHours()>=12)]}function V(le){return 1+~~(le.getMonth()/3)}function ue(le){return c[le.getUTCDay()]}function xe(le){return s[le.getUTCDay()]}function q(le){return d[le.getUTCMonth()]}function se(le){return u[le.getUTCMonth()]}function Se(le){return i[+(le.getUTCHours()>=12)]}function ye(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var te=D(le+="",O);return te.toString=function(){return le},te},parse:function(le){var te=N(le+="",!1);return te.toString=function(){return le},te},utcFormat:function(le){var te=D(le+="",j);return te.toString=function(){return le},te},utcParse:function(le){var te=N(le+="",!0);return te.toString=function(){return le},te}}}var oE={"-":"",_:" ",0:"0"},cn=/^\s*\d+/,bB=/^%/,xB=/[\\^$*+?|[\]().{}]/g;function Qe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function SB(e){return e.replace(xB,"\\$&")}function jc(e){return new RegExp("^(?:"+e.map(SB).join("|")+")","i")}function Nc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function AB(e,t,n){var r=cn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function CB(e,t,n){var r=cn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function PB(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function EB(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function wB(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function sE(e,t,n){var r=cn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function lE(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _B(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function OB(e,t,n){var r=cn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function TB(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function cE(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function DB(e,t,n){var r=cn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function uE(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function kB(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function jB(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function NB(e,t,n){var r=cn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function MB(e,t,n){var r=cn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function RB(e,t,n){var r=bB.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function IB(e,t,n){var r=cn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function LB(e,t,n){var r=cn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function fE(e,t){return Qe(e.getDate(),t,2)}function $B(e,t){return Qe(e.getHours(),t,2)}function BB(e,t){return Qe(e.getHours()%12||12,t,2)}function UB(e,t){return Qe(1+fu.count(Va(e),e),t,3)}function VO(e,t){return Qe(e.getMilliseconds(),t,3)}function zB(e,t){return VO(e,t)+"000"}function GB(e,t){return Qe(e.getMonth()+1,t,2)}function HB(e,t){return Qe(e.getMinutes(),t,2)}function qB(e,t){return Qe(e.getSeconds(),t,2)}function YB(e){var t=e.getDay();return t===0?7:t}function FB(e,t){return Qe(Ph.count(Va(e)-1,e),t,2)}function XO(e){var t=e.getDay();return t>=4||t===0?Zs(e):Zs.ceil(e)}function KB(e,t){return e=XO(e),Qe(Zs.count(Va(e),e)+(Va(e).getDay()===4),t,2)}function VB(e){return e.getDay()}function XB(e,t){return Qe(zd.count(Va(e)-1,e),t,2)}function WB(e,t){return Qe(e.getFullYear()%100,t,2)}function QB(e,t){return e=XO(e),Qe(e.getFullYear()%100,t,2)}function ZB(e,t){return Qe(e.getFullYear()%1e4,t,4)}function JB(e,t){var n=e.getDay();return e=n>=4||n===0?Zs(e):Zs.ceil(e),Qe(e.getFullYear()%1e4,t,4)}function e8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qe(t/60|0,"0",2)+Qe(t%60,"0",2)}function dE(e,t){return Qe(e.getUTCDate(),t,2)}function t8(e,t){return Qe(e.getUTCHours(),t,2)}function n8(e,t){return Qe(e.getUTCHours()%12||12,t,2)}function r8(e,t){return Qe(1+Ch.count(Xa(e),e),t,3)}function WO(e,t){return Qe(e.getUTCMilliseconds(),t,3)}function a8(e,t){return WO(e,t)+"000"}function i8(e,t){return Qe(e.getUTCMonth()+1,t,2)}function o8(e,t){return Qe(e.getUTCMinutes(),t,2)}function s8(e,t){return Qe(e.getUTCSeconds(),t,2)}function l8(e){var t=e.getUTCDay();return t===0?7:t}function c8(e,t){return Qe(Eh.count(Xa(e)-1,e),t,2)}function QO(e){var t=e.getUTCDay();return t>=4||t===0?Js(e):Js.ceil(e)}function u8(e,t){return e=QO(e),Qe(Js.count(Xa(e),e)+(Xa(e).getUTCDay()===4),t,2)}function f8(e){return e.getUTCDay()}function d8(e,t){return Qe(Gd.count(Xa(e)-1,e),t,2)}function h8(e,t){return Qe(e.getUTCFullYear()%100,t,2)}function p8(e,t){return e=QO(e),Qe(e.getUTCFullYear()%100,t,2)}function m8(e,t){return Qe(e.getUTCFullYear()%1e4,t,4)}function g8(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Js(e):Js.ceil(e),Qe(e.getUTCFullYear()%1e4,t,4)}function y8(){return"+0000"}function hE(){return"%"}function pE(e){return+e}function mE(e){return Math.floor(+e/1e3)}var $s,ZO,JO;v8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function v8(e){return $s=vB(e),ZO=$s.format,$s.parse,JO=$s.utcFormat,$s.utcParse,$s}function b8(e){return new Date(e)}function x8(e){return e instanceof Date?+e:+new Date(+e)}function Z0(e,t,n,r,i,s,c,u,d,h){var p=$0(),m=p.invert,y=p.domain,x=h(".%L"),S=h(":%S"),A=h("%I:%M"),P=h("%I %p"),E=h("%a %d"),_=h("%b %d"),O=h("%B"),j=h("%Y");function k(D){return(d(D)<D?x:u(D)<D?S:c(D)<D?A:s(D)<D?P:r(D)<D?i(D)<D?E:_:n(D)<D?O:j)(D)}return p.invert=function(D){return new Date(m(D))},p.domain=function(D){return arguments.length?y(Array.from(D,x8)):y().map(b8)},p.ticks=function(D){var N=y();return e(N[0],N[N.length-1],D??10)},p.tickFormat=function(D,N){return N==null?k:h(N)},p.nice=function(D){var N=y();return(!D||typeof D.range!="function")&&(D=t(N[0],N[N.length-1],D??10)),D?y(BO(N,D)):p},p.copy=function(){return uu(p,Z0(e,t,n,r,i,s,c,u,d,h))},p}function S8(){return Rr.apply(Z0(gB,yB,Va,W0,Ph,fu,V0,F0,jo,ZO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function A8(){return Rr.apply(Z0(pB,mB,Xa,Q0,Eh,Ch,X0,K0,jo,JO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wh(){var e=0,t=1,n,r,i,s,c=In,u=!1,d;function h(m){return m==null||isNaN(m=+m)?d:c(i===0?.5:(m=(s(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t]=m,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(m){return arguments.length?(u=!!m,h):u},h.interpolator=function(m){return arguments.length?(c=m,h):c};function p(m){return function(y){var x,S;return arguments.length?([x,S]=y,c=m(x,S),h):[c(0),c(1)]}}return h.range=p(ll),h.rangeRound=p(L0),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return s=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),h}}function Gi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function eT(){var e=zi(wh()(In));return e.copy=function(){return Gi(e,eT())},Ja.apply(e,arguments)}function tT(){var e=z0(wh()).domain([1,10]);return e.copy=function(){return Gi(e,tT()).base(e.base())},Ja.apply(e,arguments)}function nT(){var e=G0(wh());return e.copy=function(){return Gi(e,nT()).constant(e.constant())},Ja.apply(e,arguments)}function J0(){var e=H0(wh());return e.copy=function(){return Gi(e,J0()).exponent(e.exponent())},Ja.apply(e,arguments)}function C8(){return J0.apply(null,arguments).exponent(.5)}function rT(){var e=[],t=In;function n(r){if(r!=null&&!isNaN(r=+r))return t((lu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ri),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>l$(e,s/r))},n.copy=function(){return rT(t).domain(e)},Ja.apply(n,arguments)}function _h(){var e=0,t=.5,n=1,r=1,i,s,c,u,d,h=In,p,m=!1,y;function x(A){return isNaN(A=+A)?y:(A=.5+((A=+p(A))-s)*(r*A<r*s?u:d),h(m?Math.max(0,Math.min(1,A)):A))}x.domain=function(A){return arguments.length?([e,t,n]=A,i=p(e=+e),s=p(t=+t),c=p(n=+n),u=i===s?0:.5/(s-i),d=s===c?0:.5/(c-s),r=s<i?-1:1,x):[e,t,n]},x.clamp=function(A){return arguments.length?(m=!!A,x):m},x.interpolator=function(A){return arguments.length?(h=A,x):h};function S(A){return function(P){var E,_,O;return arguments.length?([E,_,O]=P,h=R$(A,[E,_,O]),x):[h(0),h(.5),h(1)]}}return x.range=S(ll),x.rangeRound=S(L0),x.unknown=function(A){return arguments.length?(y=A,x):y},function(A){return p=A,i=A(e),s=A(t),c=A(n),u=i===s?0:.5/(s-i),d=s===c?0:.5/(c-s),r=s<i?-1:1,x}}function aT(){var e=zi(_h()(In));return e.copy=function(){return Gi(e,aT())},Ja.apply(e,arguments)}function iT(){var e=z0(_h()).domain([.1,1,10]);return e.copy=function(){return Gi(e,iT()).base(e.base())},Ja.apply(e,arguments)}function oT(){var e=G0(_h());return e.copy=function(){return Gi(e,oT()).constant(e.constant())},Ja.apply(e,arguments)}function eb(){var e=H0(_h());return e.copy=function(){return Gi(e,eb()).exponent(e.exponent())},Ja.apply(e,arguments)}function P8(){return eb.apply(null,arguments).exponent(.5)}const Lc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:M0,scaleDiverging:aT,scaleDivergingLog:iT,scaleDivergingPow:eb,scaleDivergingSqrt:P8,scaleDivergingSymlog:oT,scaleIdentity:$O,scaleImplicit:Ov,scaleLinear:LO,scaleLog:UO,scaleOrdinal:N0,scalePoint:f$,scalePow:q0,scaleQuantile:HO,scaleQuantize:qO,scaleRadial:GO,scaleSequential:eT,scaleSequentialLog:tT,scaleSequentialPow:J0,scaleSequentialQuantile:rT,scaleSequentialSqrt:C8,scaleSequentialSymlog:nT,scaleSqrt:aB,scaleSymlog:zO,scaleThreshold:YO,scaleTime:S8,scaleUtc:A8,tickFormat:IO},Symbol.toStringTag,{value:"Module"}));var Hi=e=>e.chartData,tb=J([Hi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),nb=(e,t,n,r)=>r?tb(e):Hi(e);function el(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(fr(t)&&fr(n))return!0}return!1}function gE(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function E8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,s;if(fr(n))i=n;else if(typeof n=="function")return;if(fr(r))s=r;else if(typeof r=="function")return;var c=[i,s];if(el(c))return c}}function w8(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(el(r))return gE(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,c,u;if(i==="auto")t!=null&&(c=Math.min(...t));else if(ke(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[0]))}catch{}else if(typeof i=="string"&&oP.test(i)){var d=oP.exec(i);if(d==null||t==null)c=void 0;else{var h=+d[1];c=t[0]-h}}else c=t?.[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(ke(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[1]))}catch{}else if(typeof s=="string"&&sP.test(s)){var p=sP.exec(s);if(p==null||t==null)u=void 0;else{var m=+p[1];u=t[1]+m}}else u=t?.[1];var y=[c,u];if(el(y))return t==null?y:gE(y,t,n)}}}var cl=1e9,_8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ab,wt=!0,jr="[DecimalError] ",Lo=jr+"Invalid argument: ",rb=jr+"Exponent out of range: ",ul=Math.floor,Oo=Math.pow,O8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sr,on=1e7,At=7,sT=9007199254740991,Hd=ul(sT/At),Ee={};Ee.absoluteValue=Ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ee.comparedTo=Ee.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*At;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(e){return Ya(this,new this.constructor(e))};Ee.dividedToIntegerBy=Ee.idiv=function(e){var t=this,n=t.constructor;return yt(Ya(t,new n(e),0,1),n.precision)};Ee.equals=Ee.eq=function(e){return!this.cmp(e)};Ee.exponent=function(){return Yt(this)};Ee.greaterThan=Ee.gt=function(e){return this.cmp(e)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(e){return this.cmp(e)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(e){return this.cmp(e)<0};Ee.lessThanOrEqualTo=Ee.lte=function(e){return this.cmp(e)<1};Ee.logarithm=Ee.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(sr))throw Error(jr+"NaN");if(n.s<1)throw Error(jr+(n.s?"NaN":"-Infinity"));return n.eq(sr)?new r(0):(wt=!1,t=Ya(tu(n,s),tu(e,s),s),wt=!0,yt(t,i))};Ee.minus=Ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uT(t,e):lT(t,(e.s=-e.s,e))};Ee.modulo=Ee.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(jr+"NaN");return n.s?(wt=!1,t=Ya(n,e,0,1).times(e),wt=!0,n.minus(t)):yt(new r(n),i)};Ee.naturalExponential=Ee.exp=function(){return cT(this)};Ee.naturalLogarithm=Ee.ln=function(){return tu(this)};Ee.negated=Ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ee.plus=Ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?lT(t,e):uT(t,(e.s=-e.s,e))};Ee.precision=Ee.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Lo+e);if(t=Yt(i)+1,r=i.d.length-1,n=r*At+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ee.squareRoot=Ee.sqrt=function(){var e,t,n,r,i,s,c,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(jr+"NaN")}for(e=Yt(u),wt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=sa(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ul((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=c=n+3;;)if(s=r,r=s.plus(Ya(u,s,c+2)).times(.5),sa(s.d).slice(0,c)===(t=sa(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&t=="4999"){if(yt(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(t!="9999")break;c+=4}return wt=!0,yt(r,n)};Ee.times=Ee.mul=function(e){var t,n,r,i,s,c,u,d,h,p=this,m=p.constructor,y=p.d,x=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,n=p.e+e.e,d=y.length,h=x.length,d<h&&(s=y,y=x,x=s,c=d,d=h,h=c),s=[],c=d+h,r=c;r--;)s.push(0);for(r=h;--r>=0;){for(t=0,i=d+r;i>r;)u=s[i]+x[r]*y[i-r-1]+t,s[i--]=u%on|0,t=u/on|0;s[i]=(s[i]+t)%on|0}for(;!s[--c];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,wt?yt(e,m.precision):e};Ee.toDecimalPlaces=Ee.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ua(e,0,cl),t===void 0?t=r.rounding:ua(t,0,8),yt(n,e+Yt(n)+1,t))};Ee.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=zo(r,!0):(ua(e,0,cl),t===void 0?t=i.rounding:ua(t,0,8),r=yt(new i(r),e+1,t),n=zo(r,!0,e+1)),n};Ee.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?zo(i):(ua(e,0,cl),t===void 0?t=s.rounding:ua(t,0,8),r=yt(new s(i),e+Yt(i)+1,t),n=zo(r.abs(),!1,e+Yt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var e=this,t=e.constructor;return yt(new t(e),Yt(e)+1,t.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(e){var t,n,r,i,s,c,u=this,d=u.constructor,h=12,p=+(e=new d(e));if(!e.s)return new d(sr);if(u=new d(u),!u.s){if(e.s<1)throw Error(jr+"Infinity");return u}if(u.eq(sr))return u;if(r=d.precision,e.eq(sr))return yt(u,r);if(t=e.e,n=e.d.length-1,c=t>=n,s=u.s,c){if((n=p<0?-p:p)<=sT){for(i=new d(sr),t=Math.ceil(r/At+4),wt=!1;n%2&&(i=i.times(u),vE(i.d,t)),n=ul(n/2),n!==0;)u=u.times(u),vE(u.d,t);return wt=!0,e.s<0?new d(sr).div(i):yt(i,r)}}else if(s<0)throw Error(jr+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,wt=!1,i=e.times(tu(u,r+h)),wt=!0,i=cT(i),i.s=s,i};Ee.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=Yt(i),r=zo(i,n<=s.toExpNeg||n>=s.toExpPos)):(ua(e,1,cl),t===void 0?t=s.rounding:ua(t,0,8),i=yt(new s(i),e,t),n=Yt(i),r=zo(i,e<=n||n<=s.toExpNeg,e)),r};Ee.toSignificantDigits=Ee.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ua(e,1,cl),t===void 0?t=r.rounding:ua(t,0,8)),yt(new r(n),e,t)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Yt(e),n=e.constructor;return zo(e,t<=n.toExpNeg||t>=n.toExpPos)};function lT(e,t){var n,r,i,s,c,u,d,h,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),wt?yt(t,m):t;if(d=e.d,h=t.d,c=e.e,i=t.e,d=d.slice(),s=c-i,s){for(s<0?(r=d,s=-s,u=h.length):(r=h,i=c,u=d.length),c=Math.ceil(m/At),u=c>u?c+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=d.length,s=h.length,u-s<0&&(s=u,r=h,h=d,d=r),n=0;s;)n=(d[--s]=d[s]+h[s]+n)/on|0,d[s]%=on;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,wt?yt(t,m):t}function ua(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Lo+e)}function sa(e){var t,n,r,i=e.length-1,s="",c=e[0];if(i>0){for(s+=c,t=1;t<i;t++)r=e[t]+"",n=At-r.length,n&&(s+=Di(n)),s+=r;c=e[t],r=c+"",n=At-r.length,n&&(s+=Di(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Ya=(function(){function e(r,i){var s,c=0,u=r.length;for(r=r.slice();u--;)s=r[u]*i+c,r[u]=s%on|0,c=s/on|0;return c&&r.unshift(c),r}function t(r,i,s,c){var u,d;if(s!=c)d=s>c?1:-1;else for(u=d=0;u<s;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,s){for(var c=0;s--;)r[s]-=c,c=r[s]<i[s]?1:0,r[s]=c*on+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,c){var u,d,h,p,m,y,x,S,A,P,E,_,O,j,k,D,N,M,z=r.constructor,re=r.s==i.s?1:-1,W=r.d,ee=i.d;if(!r.s)return new z(r);if(!i.s)throw Error(jr+"Division by zero");for(d=r.e-i.e,N=ee.length,k=W.length,x=new z(re),S=x.d=[],h=0;ee[h]==(W[h]||0);)++h;if(ee[h]>(W[h]||0)&&--d,s==null?_=s=z.precision:c?_=s+(Yt(r)-Yt(i))+1:_=s,_<0)return new z(0);if(_=_/At+2|0,h=0,N==1)for(p=0,ee=ee[0],_++;(h<k||p)&&_--;h++)O=p*on+(W[h]||0),S[h]=O/ee|0,p=O%ee|0;else{for(p=on/(ee[0]+1)|0,p>1&&(ee=e(ee,p),W=e(W,p),N=ee.length,k=W.length),j=N,A=W.slice(0,N),P=A.length;P<N;)A[P++]=0;M=ee.slice(),M.unshift(0),D=ee[0],ee[1]>=on/2&&++D;do p=0,u=t(ee,A,N,P),u<0?(E=A[0],N!=P&&(E=E*on+(A[1]||0)),p=E/D|0,p>1?(p>=on&&(p=on-1),m=e(ee,p),y=m.length,P=A.length,u=t(m,A,y,P),u==1&&(p--,n(m,N<y?M:ee,y))):(p==0&&(u=p=1),m=ee.slice()),y=m.length,y<P&&m.unshift(0),n(A,m,P),u==-1&&(P=A.length,u=t(ee,A,N,P),u<1&&(p++,n(A,N<P?M:ee,P))),P=A.length):u===0&&(p++,A=[0]),S[h++]=p,u&&A[0]?A[P++]=W[j]||0:(A=[W[j]],P=1);while((j++<k||A[0]!==void 0)&&_--)}return S[0]||S.shift(),x.e=d,yt(x,c?s+Yt(x)+1:s)}})();function cT(e,t){var n,r,i,s,c,u,d=0,h=0,p=e.constructor,m=p.precision;if(Yt(e)>16)throw Error(rb+Yt(e));if(!e.s)return new p(sr);for(wt=!1,u=m,c=new p(.03125);e.abs().gte(.1);)e=e.times(c),h+=5;for(r=Math.log(Oo(2,h))/Math.LN10*2+5|0,u+=r,n=i=s=new p(sr),p.precision=u;;){if(i=yt(i.times(e),u),n=n.times(++d),c=s.plus(Ya(i,n,u)),sa(c.d).slice(0,u)===sa(s.d).slice(0,u)){for(;h--;)s=yt(s.times(s),u);return p.precision=m,t==null?(wt=!0,yt(s,m)):s}s=c}}function Yt(e){for(var t=e.e*At,n=e.d[0];n>=10;n/=10)t++;return t}function Ay(e,t,n){if(t>e.LN10.sd())throw wt=!0,n&&(e.precision=n),Error(jr+"LN10 precision limit exceeded");return yt(new e(e.LN10),t)}function Di(e){for(var t="";e--;)t+="0";return t}function tu(e,t){var n,r,i,s,c,u,d,h,p,m=1,y=10,x=e,S=x.d,A=x.constructor,P=A.precision;if(x.s<1)throw Error(jr+(x.s?"NaN":"-Infinity"));if(x.eq(sr))return new A(0);if(t==null?(wt=!1,h=P):h=t,x.eq(10))return t==null&&(wt=!0),Ay(A,h);if(h+=y,A.precision=h,n=sa(S),r=n.charAt(0),s=Yt(x),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=sa(x.d),r=n.charAt(0),m++;s=Yt(x),r>1?(x=new A("0."+n),s++):x=new A(r+"."+n.slice(1))}else return d=Ay(A,h+2,P).times(s+""),x=tu(new A(r+"."+n.slice(1)),h-y).plus(d),A.precision=P,t==null?(wt=!0,yt(x,P)):x;for(u=c=x=Ya(x.minus(sr),x.plus(sr),h),p=yt(x.times(x),h),i=3;;){if(c=yt(c.times(p),h),d=u.plus(Ya(c,new A(i),h)),sa(d.d).slice(0,h)===sa(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(Ay(A,h+2,P).times(s+""))),u=Ya(u,new A(m),h),A.precision=P,t==null?(wt=!0,yt(u,P)):u;u=d,i+=2}}function yE(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=ul(n/At),e.d=[],r=(n+1)%At,n<0&&(r+=At),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=At;r<i;)e.d.push(+t.slice(r,r+=At));t=t.slice(r),r=At-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),wt&&(e.e>Hd||e.e<-Hd))throw Error(rb+n)}else e.s=0,e.e=0,e.d=[0];return e}function yt(e,t,n){var r,i,s,c,u,d,h,p,m=e.d;for(c=1,s=m[0];s>=10;s/=10)c++;if(r=t-c,r<0)r+=At,i=t,h=m[p=0];else{if(p=Math.ceil((r+1)/At),s=m.length,p>=s)return e;for(h=s=m[p],c=1;s>=10;s/=10)c++;r%=At,i=r-At+c}if(n!==void 0&&(s=Oo(10,c-i-1),u=h/s%10|0,d=t<0||m[p+1]!==void 0||h%s,d=n<4?(u||d)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?h/Oo(10,c-i):0:m[p-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return d?(s=Yt(e),m.length=1,t=t-s-1,m[0]=Oo(10,(At-t%At)%At),e.e=ul(-t/At)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=p,s=1,p--):(m.length=p+1,s=Oo(10,At-r),m[p]=i>0?(h/Oo(10,c-i)%Oo(10,i)|0)*s:0),d)for(;;)if(p==0){(m[0]+=s)==on&&(m[0]=1,++e.e);break}else{if(m[p]+=s,m[p]!=on)break;m[p--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(wt&&(e.e>Hd||e.e<-Hd))throw Error(rb+Yt(e));return e}function uT(e,t){var n,r,i,s,c,u,d,h,p,m,y=e.constructor,x=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),wt?yt(t,x):t;if(d=e.d,m=t.d,r=t.e,h=e.e,d=d.slice(),c=h-r,c){for(p=c<0,p?(n=d,c=-c,u=m.length):(n=m,r=h,u=d.length),i=Math.max(Math.ceil(x/At),u)+2,c>i&&(c=i,n.length=1),n.reverse(),i=c;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=m.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=m[i]){p=d[i]<m[i];break}c=0}for(p&&(n=d,d=m,m=n,t.s=-t.s),u=d.length,i=m.length-u;i>0;--i)d[u++]=0;for(i=m.length;i>c;){if(d[--i]<m[i]){for(s=i;s&&d[--s]===0;)d[s]=on-1;--d[s],d[i]+=on}d[i]-=m[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,wt?yt(t,x):t):new y(0)}function zo(e,t,n){var r,i=Yt(e),s=sa(e.d),c=s.length;return t?(n&&(r=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+Di(r):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Di(-i-1)+s,n&&(r=n-c)>0&&(s+=Di(r))):i>=c?(s+=Di(i+1-c),n&&(r=n-i-1)>0&&(s=s+"."+Di(r))):((r=i+1)<c&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-c)>0&&(i+1===c&&(s+="."),s+=Di(r))),e.s<0?"-"+s:s}function vE(e,t){if(e.length>t)return e.length=t,!0}function fT(e){var t,n,r;function i(s){var c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,s instanceof i){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Lo+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return yE(c,s.toString())}else if(typeof s!="string")throw Error(Lo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,O8.test(s))yE(c,s);else throw Error(Lo+s)}if(i.prototype=Ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=fT,i.config=i.set=T8,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function T8(e){if(!e||typeof e!="object")throw Error(jr+"Object expected");var t,n,r,i=["precision",1,cl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(ul(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Lo+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Lo+n+": "+r);return this}var ab=fT(_8);sr=new ab(1);const ot=ab;var D8=e=>e,dT={},hT=e=>e===dT,bE=e=>function t(){return arguments.length===0||arguments.length===1&&hT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},pT=(e,t)=>e===1?t:bE(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(c=>c!==dT).length;return s>=e?t(...r):pT(e-s,bE(function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];var h=r.map(p=>hT(p)?u.shift():p);return t(...h,...u)}))}),Oh=e=>pT(e.length,e),jv=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},k8=Oh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),j8=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return D8;var i=n.reverse(),s=i[0],c=i.slice(1);return function(){return c.reduce((u,d)=>d(u),s(...arguments))}},Nv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),mT=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t&&i.every((c,u)=>{var d;return c===((d=t)===null||d===void 0?void 0:d[u])})||(t=i,n=e(...i)),n}};function gT(e){var t;return e===0?t=1:t=Math.floor(new ot(e).abs().log(10).toNumber())+1,t}function yT(e,t,n){for(var r=new ot(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}Oh((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});Oh((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});Oh((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var vT=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},bT=(e,t,n)=>{if(e.lte(0))return new ot(0);var r=gT(e.toNumber()),i=new ot(10).pow(r),s=e.div(i),c=r!==1?.05:.1,u=new ot(Math.ceil(s.div(c).toNumber())).add(n).mul(c),d=u.mul(i);return t?new ot(d.toNumber()):new ot(Math.ceil(d.toNumber()))},N8=(e,t,n)=>{var r=new ot(1),i=new ot(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new ot(10).pow(gT(e)-1),i=new ot(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new ot(Math.floor(e)))}else e===0?i=new ot(Math.floor((t-1)/2)):n||(i=new ot(Math.floor(e)));var c=Math.floor((t-1)/2),u=j8(k8(d=>i.add(new ot(d-c).mul(r)).toNumber()),jv);return u(0,t)},xT=function(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new ot(0),tickMin:new ot(0),tickMax:new ot(0)};var c=bT(new ot(n).sub(t).div(r-1),i,s),u;t<=0&&n>=0?u=new ot(0):(u=new ot(t).add(n).div(2),u=u.sub(new ot(u).mod(c)));var d=Math.ceil(u.sub(t).div(c).toNumber()),h=Math.ceil(new ot(n).sub(u).div(c).toNumber()),p=d+h+1;return p>r?xT(t,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,d=n>0?d:d+(r-p)),{step:c,tickMin:u.sub(new ot(d).mul(c)),tickMax:u.add(new ot(h).mul(c))})};function M8(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[c,u]=vT([t,n]);if(c===-1/0||u===1/0){var d=u===1/0?[c,...jv(0,r-1).map(()=>1/0)]:[...jv(0,r-1).map(()=>-1/0),u];return t>n?Nv(d):d}if(c===u)return N8(c,r,i);var{step:h,tickMin:p,tickMax:m}=xT(c,u,s,i,0),y=yT(p,m.add(new ot(.1).mul(h)),h);return t>n?Nv(y):y}function R8(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,c]=vT([n,r]);if(s===-1/0||c===1/0)return[n,r];if(s===c)return[s];var u=Math.max(t,2),d=bT(new ot(c).sub(s).div(u-1),i,0),h=[...yT(new ot(s),new ot(c),d),c];return i===!1&&(h=h.map(p=>Math.round(p))),n>r?Nv(h):h}var I8=mT(M8),L8=mT(R8),ST=e=>e.rootProps.maxBarSize,$8=e=>e.rootProps.barGap,AT=e=>e.rootProps.barCategoryGap,B8=e=>e.rootProps.barSize,du=e=>e.rootProps.stackOffset,ib=e=>e.options.chartName,ob=e=>e.rootProps.syncId,CT=e=>e.rootProps.syncMethod,sb=e=>e.options.eventEmitter,Ua={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},or={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Th=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},U8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ua.angleAxisId,includeHidden:!1,name:void 0,reversed:Ua.reversed,scale:Ua.scale,tick:Ua.tick,tickCount:void 0,ticks:void 0,type:Ua.type,unit:void 0},z8={allowDataOverflow:or.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:or.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:or.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:or.scale,tick:or.tick,tickCount:or.tickCount,ticks:void 0,type:or.type,unit:void 0},G8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ua.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ua.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ua.scale,tick:Ua.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},H8={allowDataOverflow:or.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:or.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:or.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:or.scale,tick:or.tick,tickCount:or.tickCount,ticks:void 0,type:"category",unit:void 0},lb=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?G8:U8,cb=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?H8:z8,Dh=e=>e.polarOptions,ub=J([Qa,Za,Wt],iO),PT=J([Dh,ub],(e,t)=>{if(e!=null)return On(e.innerRadius,t,0)}),ET=J([Dh,ub],(e,t)=>{if(e!=null)return On(e.outerRadius,t,t*.8)}),q8=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},wT=J([Dh],q8);J([lb,wT],Th);var _T=J([ub,PT,ET],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});J([cb,_T],Th);var OT=J([Ze,Dh,PT,ET,Qa,Za],(e,t,n,r,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:c,cy:u,startAngle:d,endAngle:h}=t;return{cx:On(c,i,i/2),cy:On(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:h,clockWise:!1}}}),_t=(e,t)=>t,hu=(e,t,n)=>n;function fb(e){return e?.id}var Zt=e=>{var t=Ze(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},fl=e=>e.tooltip.settings.axisId,un=e=>{var t=Zt(e),n=fl(e);return pu(e,t,n)},TT=J([un],e=>e?.dataKey);function DT(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=n,c=new Map;return e.forEach(u=>{var d,h=(d=u.data)!==null&&d!==void 0?d:r;if(!(h==null||h.length===0)){var p=fb(u);h.forEach((m,y)=>{var x=s==null||i?y:String(Et(m,s,null)),S=Et(m,u.dataKey,0),A;c.has(x)?A=c.get(x):A={},Object.assign(A,{[p]:S}),c.set(x,A)})}}),Array.from(c.values())}function kh(e){return e.stackId!=null&&e.dataKey!=null}function xE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(n),!0).forEach(function(r){Y8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y8(e,t,n){return(t=F8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F8(e){var t=K8(e,"string");return typeof t=="symbol"?t:t+""}function K8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mv=[0,"auto"],ar={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},kT=(e,t)=>e.cartesianAxis.xAxis[t],qi=(e,t)=>{var n=kT(e,t);return n??ar},ir={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Mv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:su},jT=(e,t)=>e.cartesianAxis.yAxis[t],Yi=(e,t)=>{var n=jT(e,t);return n??ir},V8={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},db=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??V8},Lt=(e,t,n)=>{switch(t){case"xAxis":return qi(e,n);case"yAxis":return Yi(e,n);case"zAxis":return db(e,n);case"angleAxis":return lb(e,n);case"radiusAxis":return cb(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},X8=(e,t,n)=>{switch(t){case"xAxis":return qi(e,n);case"yAxis":return Yi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},pu=(e,t,n)=>{switch(t){case"xAxis":return qi(e,n);case"yAxis":return Yi(e,n);case"angleAxis":return lb(e,n);case"radiusAxis":return cb(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},NT=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function hb(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var pb=e=>e.graphicalItems.cartesianItems,W8=J([_t,hu],hb),mb=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),mu=J([pb,Lt,W8],mb),MT=J([mu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(kh)),RT=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),IT=J([mu],RT),gb=e=>e.map(t=>t.data).filter(Boolean).flat(1),Q8=J([mu],gb),yb=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},vb=J([Q8,nb],yb),bb=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Et(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Et(i,r)}))):e.map(r=>({value:r})),jh=J([vb,Lt,mu],bb);function LT(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Wo(e){return e.filter(t=>ca(t)||t instanceof Date).map(Number).filter(t=>cr(t)===!1)}function Z8(e,t,n){return!n||typeof t!="number"||cr(t)?[]:n.length?Wo(n.flatMap(r=>{var i=Et(e,r.dataKey),s,c;if(Array.isArray(i)?[s,c]=i:s=c=i,!(!fr(s)||!fr(c)))return[t-s,t+c]})):[]}var J8=J([MT,nb,un],DT),$T=(e,t,n)=>{var r={},i=t.reduce((s,c)=>(c.stackId==null||(s[c.stackId]==null&&(s[c.stackId]=[]),s[c.stackId].push(c)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[c,u]=s,d=u.map(fb);return[c,{stackedData:rL(e,d,n),graphicalItems:u}]}))},Rv=J([J8,MT,du],$T),BT=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var s=lL(e,r,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},e6=J([Rv,Hi,_t],BT),UT=(e,t,n,r,i)=>n.length>0?e.flatMap(s=>n.flatMap(c=>{var u,d,h=(u=r[c.id])===null||u===void 0?void 0:u.filter(m=>LT(i,m)),p=Et(s,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey);return{value:p,errorDomain:Z8(s,p,h)}})).filter(Boolean):t?.dataKey!=null?e.map(s=>({value:Et(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),Nh=e=>e.errorBars,zT=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>LT(n,r));J([IT,Nh,_t],zT);var t6=J([vb,Lt,IT,Nh,_t],UT);function n6(e){var{value:t}=e;if(ca(t)||t instanceof Date)return t}var SE=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Wo(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},r6=(e,t,n)=>{var r=e.map(n6).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&J2(r))?wO(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},xb=e=>{var t;if(e==null||!("domain"in e))return Mv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Wo(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Mv},Yd=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),c=Math.min(...s),u=Math.max(...s);return[c,u]}},GT=e=>e.referenceElements.dots,dl=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),a6=J([GT,_t,hu],dl),HT=e=>e.referenceElements.areas,i6=J([HT,_t,hu],dl),qT=e=>e.referenceElements.lines,o6=J([qT,_t,hu],dl),YT=(e,t)=>{var n=Wo(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},s6=J(a6,_t,YT),FT=(e,t)=>{var n=Wo(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},l6=J([i6,_t],FT),KT=(e,t)=>{var n=Wo(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},c6=J(o6,_t,KT),u6=J(s6,c6,l6,(e,t,n)=>Yd(e,n,t)),VT=J([Lt],xb),Sb=(e,t,n,r,i,s,c)=>{var u=E8(t,e.allowDataOverflow);if(u!=null)return u;var d=s==="vertical"&&c==="xAxis"||s==="horizontal"&&c==="yAxis",h=d?Yd(n,i,SE(r)):Yd(i,SE(r));return w8(t,h,e.allowDataOverflow)},f6=J([Lt,VT,e6,t6,u6,Ze,_t],Sb),d6=[0,1],Ab=(e,t,n,r,i,s,c)=>{if(!((e==null||n==null||n.length===0)&&c===void 0)){var{dataKey:u,type:d}=e,h=Ko(t,s);return h&&u==null?wO(0,n.length):d==="category"?r6(r,e,h):i==="expand"?d6:c}},Cb=J([Lt,Ze,vb,jh,du,_t,f6],Ab),XT=(e,t,n,r,i)=>{if(e!=null){var{scale:s,type:c}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(ru(s));return u in Lc?u:"point"}}},hl=J([Lt,Ze,NT,ib,_t],XT);function h6(e){if(e!=null){if(e in Lc)return Lc[e]();var t="scale".concat(ru(e));if(t in Lc)return Lc[t]()}}function Pb(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=h6(t);if(i!=null){var s=i.domain(n).range(r);return Z3(s),s}}}var Eb=(e,t,n)=>{var r=xb(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&el(e))return I8(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&el(e))return L8(e,t.tickCount,t.allowDecimals)}},wb=J([Cb,pu,hl],Eb),_b=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&el(t)&&Array.isArray(n)&&n.length>0){var i=t[0],s=n[0],c=t[1],u=n[n.length-1];return[Math.min(i,s),Math.max(c,u)]}return t},p6=J([Lt,Cb,wb,_t],_b),m6=J(jh,Lt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Wo(e.map(u=>u.value))).sort((u,d)=>u-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var c=r[s+1]-r[s];n=Math.min(n,c)}return n/i}}),WT=J(m6,Ze,AT,Wt,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!fr(e))return 0;var s=t==="vertical"?r.height:r.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var c=On(n,e*s),u=e*s/2;return u-c-(u-c)/s*c}return 0}),g6=(e,t)=>{var n=qi(e,t);return n==null||typeof n.padding!="string"?0:WT(e,"xAxis",t,n.padding)},y6=(e,t)=>{var n=Yi(e,t);return n==null||typeof n.padding!="string"?0:WT(e,"yAxis",t,n.padding)},v6=J(qi,g6,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),b6=J(Yi,y6,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),x6=J([Wt,v6,vh,yh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),S6=J([Wt,Ze,b6,vh,yh,(e,t,n)=>n],(e,t,n,r,i,s)=>{var{padding:c}=i;return s?[r.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),gu=(e,t,n,r)=>{var i;switch(t){case"xAxis":return x6(e,n,r);case"yAxis":return S6(e,n,r);case"zAxis":return(i=db(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return wT(e);case"radiusAxis":return _T(e,n);default:return}},QT=J([Lt,gu],Th),pl=J([Lt,hl,p6,QT],Pb);J([mu,Nh,_t],zT);function ZT(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Mh=(e,t)=>t,Rh=(e,t,n)=>n,A6=J(mh,Mh,Rh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(ZT)),C6=J(gh,Mh,Rh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(ZT)),JT=(e,t)=>({width:e.width,height:t.height}),P6=(e,t)=>{var n=typeof t.width=="number"?t.width:su;return{width:n,height:e.height}},eD=J(Wt,qi,JT),E6=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},w6=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},_6=J(Za,Wt,A6,Mh,Rh,(e,t,n,r,i)=>{var s={},c;return n.forEach(u=>{var d=JT(t,u);c==null&&(c=E6(t,r,e));var h=r==="top"&&!i||r==="bottom"&&i;s[u.id]=c-Number(h)*d.height,c+=(h?-1:1)*d.height}),s}),O6=J(Qa,Wt,C6,Mh,Rh,(e,t,n,r,i)=>{var s={},c;return n.forEach(u=>{var d=P6(t,u);c==null&&(c=w6(t,r,e));var h=r==="left"&&!i||r==="right"&&i;s[u.id]=c-Number(h)*d.width,c+=(h?-1:1)*d.width}),s}),T6=(e,t)=>{var n=Wt(e),r=qi(e,t);if(r!=null){var i=_6(e,r.orientation,r.mirror),s=i[t];return s==null?{x:n.left,y:0}:{x:n.left,y:s}}},D6=(e,t)=>{var n=Wt(e),r=Yi(e,t);if(r!=null){var i=O6(e,r.orientation,r.mirror),s=i[t];return s==null?{x:0,y:n.top}:{x:s,y:n.top}}},tD=J(Wt,Yi,(e,t)=>{var n=typeof t.width=="number"?t.width:su;return{width:n,height:e.height}}),AE=(e,t,n)=>{switch(t){case"xAxis":return eD(e,n).width;case"yAxis":return tD(e,n).height;default:return}},nD=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:c}=n,u=Ko(e,r),d=t.map(h=>h.value);if(c&&u&&s==="category"&&i&&J2(d))return d}},Ob=J([Ze,jh,Lt,_t],nD),rD=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,c=Ko(e,r);if(c&&(i==="number"||s!=="auto"))return t.map(u=>u.value)}},Tb=J([Ze,jh,pu,_t],rD),CE=J([Ze,X8,hl,pl,Ob,Tb,gu,wb,_t],(e,t,n,r,i,s,c,u,d)=>{if(t==null)return null;var h=Ko(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:u,range:c,realScaleType:n,scale:r}}),k6=(e,t,n,r,i,s,c,u,d)=>{if(!(t==null||r==null)){var h=Ko(e,d),{type:p,ticks:m,tickCount:y}=t,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=p==="category"&&r.bandwidth?r.bandwidth()/x:0;S=d==="angleAxis"&&s!=null&&s.length>=2?sn(s[0]-s[1])*2*S:S;var A=m||i;if(A){var P=A.map((E,_)=>{var O=c?c.indexOf(E):E;return{index:_,coordinate:r(O)+S,value:E,offset:S}});return P.filter(E=>!cr(E.coordinate))}return h&&u?u.map((E,_)=>({coordinate:r(E)+S,value:E,index:_,offset:S})):r.ticks?r.ticks(y).map(E=>({coordinate:r(E)+S,value:E,offset:S})):r.domain().map((E,_)=>({coordinate:r(E)+S,value:c?c[E]:E,index:_,offset:S}))}},aD=J([Ze,pu,hl,pl,wb,gu,Ob,Tb,_t],k6),j6=(e,t,n,r,i,s,c)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=Ko(e,c),{tickCount:d}=t,h=0;return h=c==="angleAxis"&&r?.length>=2?sn(r[0]-r[1])*2*h:h,u&&s?s.map((p,m)=>({coordinate:n(p)+h,value:p,index:m,offset:h})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,m)=>({coordinate:n(p)+h,value:i?i[p]:p,index:m,offset:h}))}},tl=J([Ze,pu,pl,gu,Ob,Tb,_t],j6),nl=J(Lt,pl,(e,t)=>{if(!(e==null||t==null))return qd(qd({},e),{},{scale:t})}),N6=J([Lt,hl,Cb,QT],Pb);J((e,t,n)=>db(e,n),N6,(e,t)=>{if(!(e==null||t==null))return qd(qd({},e),{},{scale:t})});var M6=J([Ze,mh,gh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),iD=e=>e.options.defaultTooltipEventType,oD=e=>e.options.validateTooltipEventTypes;function sD(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Db(e,t){var n=iD(e),r=oD(e);return sD(t,n,r)}function R6(e){return Te(t=>Db(t,e))}var lD=(e,t)=>{var n,r=Number(t);if(!(cr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},I6=e=>e.tooltip.settings,ji={active:!1,index:null,dataKey:void 0,coordinate:void 0},L6={itemInteraction:{click:ji,hover:ji},axisInteraction:{click:ji,hover:ji},keyboardInteraction:ji,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},cD=dr({name:"tooltip",initialState:L6,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=qa(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:$6,removeTooltipEntrySettings:B6,setTooltipSettingsState:U6,setActiveMouseOverItemIndex:uD,mouseLeaveItem:z6,mouseLeaveChart:fD,setActiveClickItemIndex:G6,setMouseOverAxisIndex:dD,setMouseClickAxisIndex:H6,setSyncInteraction:Iv,setKeyboardInteraction:Lv}=cD.actions,q6=cD.reducer;function PE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(n),!0).forEach(function(r){Y6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y6(e,t,n){return(t=F6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F6(e){var t=K6(e,"string");return typeof t=="symbol"?t:t+""}function K6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V6(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function X6(e){return e.index!=null}var hD=(e,t,n,r)=>{if(t==null)return ji;var i=V6(e,t,n);if(i==null)return ji;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(X6(i)){if(s)return td(td({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return td(td({},ji),{},{coordinate:i.coordinate})},kb=(e,t)=>{var n=e?.index;if(n==null)return null;var r=Number(n);if(!fr(r))return n;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(r,s)))},pD=(e,t,n,r,i,s,c,u)=>{if(!(s==null||u==null)){var d=c[0],h=d==null?void 0:u(d.positions,s);if(h!=null)return h;var p=i?.[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},mD=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var c;return((c=s.settings)===null||c===void 0?void 0:c.dataKey)===i})},yu=e=>e.options.tooltipPayloadSearcher,ml=e=>e.tooltip;function EE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(n),!0).forEach(function(r){W6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W6(e,t,n){return(t=Q6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q6(e){var t=Z6(e,"string");return typeof t=="symbol"?t:t+""}function Z6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J6(e,t){return e??t}var gD=(e,t,n,r,i,s,c)=>{if(!(t==null||s==null)){var{chartData:u,computedData:d,dataStartIndex:h,dataEndIndex:p}=n,m=[];return e.reduce((y,x)=>{var S,{dataDefinedOnItem:A,settings:P}=x,E=J6(A,u),_=Array.isArray(E)?oO(E,h,p):E,O=(S=P?.dataKey)!==null&&S!==void 0?S:r,j=P?.nameKey,k;if(r&&Array.isArray(_)&&!Array.isArray(_[0])&&c==="axis"?k=zR(_,r,i):k=s(_,t,d,j),Array.isArray(k))k.forEach(N=>{var M=wE(wE({},P),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});y.push(lP({tooltipEntrySettings:M,dataKey:N.dataKey,payload:N.payload,value:Et(N.payload,N.dataKey),name:N.name}))});else{var D;y.push(lP({tooltipEntrySettings:P,dataKey:O,payload:k,value:Et(k,O),name:(D=Et(k,j))!==null&&D!==void 0?D:P?.name}))}return y},m)}},jb=J([un,Ze,NT,ib,Zt],XT),eU=J([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),tU=J([Zt,fl],hb),vu=J([eU,un,tU],mb),nU=J([vu],e=>e.filter(kh)),rU=J([vu],gb),gl=J([rU,Hi],yb),aU=J([nU,Hi,un],DT),Nb=J([gl,un,vu],bb),iU=J([un],xb),oU=J([vu],e=>e.filter(kh)),sU=J([aU,oU,du],$T),lU=J([sU,Hi,Zt],BT),cU=J([vu],RT),uU=J([gl,un,cU,Nh,Zt],UT),fU=J([GT,Zt,fl],dl),dU=J([fU,Zt],YT),hU=J([HT,Zt,fl],dl),pU=J([hU,Zt],FT),mU=J([qT,Zt,fl],dl),gU=J([mU,Zt],KT),yU=J([dU,gU,pU],Yd),vU=J([un,iU,lU,uU,yU,Ze,Zt],Sb),yD=J([un,Ze,gl,Nb,du,Zt,vU],Ab),bU=J([yD,un,jb],Eb),xU=J([un,yD,bU,Zt],_b),vD=e=>{var t=Zt(e),n=fl(e),r=!1;return gu(e,t,n,r)},bD=J([un,vD],Th),xD=J([un,jb,xU,bD],Pb),SU=J([Ze,Nb,un,Zt],nD),AU=J([Ze,Nb,un,Zt],rD),CU=(e,t,n,r,i,s,c,u)=>{if(t){var{type:d}=t,h=Ko(e,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return m=u==="angleAxis"&&i!=null&&i?.length>=2?sn(i[0]-i[1])*2*m:m,h&&c?c.map((y,x)=>({coordinate:r(y)+m,value:y,index:x,offset:m})):r.domain().map((y,x)=>({coordinate:r(y)+m,value:s?s[y]:y,index:x,offset:m}))}}},ei=J([Ze,un,jb,xD,vD,SU,AU,Zt],CU),Mb=J([iD,oD,I6],(e,t,n)=>sD(n.shared,e,t)),SD=e=>e.tooltip.settings.trigger,Rb=e=>e.tooltip.settings.defaultIndex,Ih=J([ml,Mb,SD,Rb],hD),Go=J([Ih,gl],kb),AD=J([ei,Go],lD),CD=J([Ih],e=>{if(e)return e.dataKey}),PD=J([ml,Mb,SD,Rb],mD),PU=J([Qa,Za,Ze,Wt,ei,Rb,PD,yu],pD),EU=J([Ih,PU],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),wU=J([Ih],e=>e.active),_U=J([PD,Go,Hi,TT,AD,yu,Mb],gD);J([_U],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function _E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(n),!0).forEach(function(r){OU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OU(e,t,n){return(t=TU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TU(e){var t=DU(e,"string");return typeof t=="symbol"?t:t+""}function DU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kU=()=>Te(un),jU=()=>{var e=kU(),t=Te(ei),n=Te(xD);return E0(OE(OE({},e),{},{scale:n}),t)},NU=()=>Te(ib),Ib=(e,t)=>t,ED=(e,t,n)=>n,Lb=(e,t,n,r)=>r,MU=J(ei,e=>lh(e,t=>t.coordinate)),$b=J([ml,Ib,ED,Lb],hD),wD=J([$b,gl],kb),RU=(e,t,n)=>{if(t!=null){var r=ml(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},_D=J([ml,Ib,ED,Lb],mD),Fd=J([Qa,Za,Ze,Wt,ei,Lb,_D,yu],pD),IU=J([$b,Fd],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),OD=J(ei,wD,lD),LU=J([_D,wD,Hi,TT,OD,yu,Ib],gD),$U=J([$b],e=>({isActive:e.active,activeIndex:e.index})),BU=(e,t,n,r,i,s,c,u)=>{if(!(!e||!t||!r||!i||!s)){var d=cL(e.chartX,e.chartY,t,n,u);if(d){var h=fL(d,t),p=W3(h,c,s,r,i),m=uL(t,s,p,d);return{activeIndex:String(p),activeCoordinate:m}}}};function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$v.apply(null,arguments)}function TE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(n),!0).forEach(function(r){UU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UU(e,t,n){return(t=zU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zU(e){var t=GU(e,"string");return typeof t=="symbol"?t:t+""}function GU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HU(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:c,cursor:u,tooltipEventType:d,chartName:h}=e,p=t,m=n,y=r;if(!u||!p||h!=="ScatterChart"&&d!=="axis")return null;var x,S;if(h==="ScatterChart")x=p,S=f5;else if(h==="BarChart")x=d5(c,p,i,s),S=AO;else if(c==="radial"){var{cx:A,cy:P,radius:E,startAngle:_,endAngle:O}=CO(p);x={cx:A,cy:P,startAngle:_,endAngle:O,innerRadius:E,outerRadius:E},S=EO}else x={points:Y5(c,p,i)},S=yO;var j=typeof u=="object"&&"className"in u?u.className:void 0,k=nd(nd(nd(nd({stroke:"#ccc",pointerEvents:"none"},i),x),Ht(u,!1)),{},{payload:m,payloadIndex:y,className:st("recharts-tooltip-cursor",j)});return C.isValidElement(u)?C.cloneElement(u,k):C.createElement(S,k)}function qU(e){var t=jU(),n=dO(),r=D0(),i=NU();return C.createElement(HU,$v({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var TD=C.createContext(null),YU=()=>C.useContext(TD),Cy={exports:{}},DE;function FU(){return DE||(DE=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function s(d,h,p,m,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,m||d,y),S=n?n+h:h;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],x]:d._events[S].push(x):(d._events[S]=x,d._eventsCount++),d}function c(d,h){--d._eventsCount===0?d._events=new r:delete d._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)t.call(p,m)&&h.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=n?n+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,x=m.length,S=new Array(x);y<x;y++)S[y]=m[y].fn;return S},u.prototype.listenerCount=function(h){var p=n?n+h:h,m=this._events[p];return m?m.fn?1:m.length:0},u.prototype.emit=function(h,p,m,y,x,S){var A=n?n+h:h;if(!this._events[A])return!1;var P=this._events[A],E=arguments.length,_,O;if(P.fn){switch(P.once&&this.removeListener(h,P.fn,void 0,!0),E){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,p),!0;case 3:return P.fn.call(P.context,p,m),!0;case 4:return P.fn.call(P.context,p,m,y),!0;case 5:return P.fn.call(P.context,p,m,y,x),!0;case 6:return P.fn.call(P.context,p,m,y,x,S),!0}for(O=1,_=new Array(E-1);O<E;O++)_[O-1]=arguments[O];P.fn.apply(P.context,_)}else{var j=P.length,k;for(O=0;O<j;O++)switch(P[O].once&&this.removeListener(h,P[O].fn,void 0,!0),E){case 1:P[O].fn.call(P[O].context);break;case 2:P[O].fn.call(P[O].context,p);break;case 3:P[O].fn.call(P[O].context,p,m);break;case 4:P[O].fn.call(P[O].context,p,m,y);break;default:if(!_)for(k=1,_=new Array(E-1);k<E;k++)_[k-1]=arguments[k];P[O].fn.apply(P[O].context,_)}}return!0},u.prototype.on=function(h,p,m){return s(this,h,p,m,!1)},u.prototype.once=function(h,p,m){return s(this,h,p,m,!0)},u.prototype.removeListener=function(h,p,m,y){var x=n?n+h:h;if(!this._events[x])return this;if(!p)return c(this,x),this;var S=this._events[x];if(S.fn)S.fn===p&&(!y||S.once)&&(!m||S.context===m)&&c(this,x);else{for(var A=0,P=[],E=S.length;A<E;A++)(S[A].fn!==p||y&&!S[A].once||m&&S[A].context!==m)&&P.push(S[A]);P.length?this._events[x]=P.length===1?P[0]:P:c(this,x)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Cy)),Cy.exports}var KU=FU();const VU=qr(KU);var nu=new VU,Bv="recharts.syncEvent.tooltip",kE="recharts.syncEvent.brush";function DD(e,t){if(t){var n=Number.parseInt(t,10);if(!cr(n))return e?.[n]}}var XU={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},kD=dr({name:"options",initialState:XU,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),WU=kD.reducer,{createEventEmitter:QU}=kD.actions;function ZU(e){return e.tooltip.syncInteraction}var JU={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},jD=dr({name:"chartData",initialState:JU,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:jE,setDataStartEndIndexes:ez,setComputedData:QF}=jD.actions,tz=jD.reducer,nz=["x","y"];function NE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(n),!0).forEach(function(r){rz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rz(e,t,n){return(t=az(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function az(e){var t=iz(e,"string");return typeof t=="symbol"?t:t+""}function iz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oz(e,t){if(e==null)return{};var n,r,i=sz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sz(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ND=()=>{};function lz(){var e=Te(ob),t=Te(sb),n=Tt(),r=Te(CT),i=Te(ei),s=D0(),c=_0(),u=Te(d=>d.rootProps.className);C.useEffect(()=>{if(e==null)return ND;var d=(h,p,m)=>{if(t!==m&&e===h){if(r==="index"){var y;if(c&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate){var x=p.payload.coordinate,{x:S,y:A}=x,P=oz(x,nz),E=Eo(Eo(Eo({},P),typeof S=="number"&&{x:Math.max(c.x,Math.min(S,c.x+c.width))}),typeof A=="number"&&{y:Math.max(c.y,Math.min(A,c.y+c.height))}),_=Eo(Eo({},p),{},{payload:Eo(Eo({},p.payload),{},{coordinate:E})});n(_)}else n(p);return}if(i!=null){var O;if(typeof r=="function"){var j={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},k=r(i,j);O=i[k]}else r==="value"&&(O=i.find(pe=>String(pe.value)===p.payload.label));var{coordinate:D}=p.payload;if(O==null||p.payload.active===!1||D==null||c==null){n(Iv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:N,y:M}=D,z=Math.min(N,c.x+c.width),re=Math.min(M,c.y+c.height),W={x:s==="horizontal"?O.coordinate:z,y:s==="horizontal"?re:O.coordinate},ee=Iv({active:p.payload.active,coordinate:W,dataKey:p.payload.dataKey,index:String(O.index),label:p.payload.label});n(ee)}}};return nu.on(Bv,d),()=>{nu.off(Bv,d)}},[u,n,t,e,r,i,s,c])}function cz(){var e=Te(ob),t=Te(sb),n=Tt();C.useEffect(()=>{if(e==null)return ND;var r=(i,s,c)=>{t!==c&&e===i&&n(ez(s))};return nu.on(kE,r),()=>{nu.off(kE,r)}},[n,t,e])}function uz(){var e=Tt();C.useEffect(()=>{e(QU())},[e]),lz(),cz()}function fz(e,t,n,r,i,s){var c=Te(y=>RU(y,e,t)),u=Te(sb),d=Te(ob),h=Te(CT),p=Te(ZU),m=p?.active;C.useEffect(()=>{if(!m&&d!=null&&u!=null){var y=Iv({active:s,coordinate:n,dataKey:c,index:i,label:typeof r=="number"?String(r):r});nu.emit(Bv,d,y,u)}},[m,n,c,i,r,u,d,h,s])}function ME(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ME(Object(n),!0).forEach(function(r){dz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dz(e,t,n){return(t=hz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hz(e){var t=pz(e,"string");return typeof t=="symbol"?t:t+""}function pz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mz(e){return e.dataKey}function gz(e,t){return C.isValidElement(e)?C.cloneElement(e,t):typeof e=="function"?C.createElement(e,t):C.createElement(HL,t)}var IE=[],yz={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!sl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Py(e){var t=Mr(e,yz),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:c,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:p,position:m,reverseDirection:y,useTranslate3d:x,wrapperStyle:S,cursor:A,shared:P,trigger:E,defaultIndex:_,portal:O,axisId:j}=t,k=Tt(),D=typeof _=="number"?String(_):_;C.useEffect(()=>{k(U6({shared:P,trigger:E,axisId:j,active:n,defaultIndex:D}))},[k,P,E,j,n,D]);var N=_0(),M=gO(),z=R6(P),{activeIndex:re,isActive:W}=Te(q=>$U(q,z,E,D)),ee=Te(q=>LU(q,z,E,D)),pe=Te(q=>OD(q,z,E,D)),de=Te(q=>IU(q,z,E,D)),ie=ee,U=YU(),ae=n??W,[ge,me]=M_([ie,ae]),L=z==="axis"?pe:void 0;fz(z,E,de,L,re,ae);var Q=O??U;if(Q==null)return null;var V=ie??IE;ae||(V=IE),u&&V.length&&(V=T_(ie.filter(q=>q.value!=null&&(q.hide!==!0||t.includeHidden)),p,mz));var ue=V.length>0,xe=C.createElement(WL,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:d,active:ae,coordinate:de,hasPayload:ue,offset:h,position:m,reverseDirection:y,useTranslate3d:x,viewBox:N,wrapperStyle:S,lastBoundingBox:ge,innerRef:me,hasPortalFromProps:!!O},gz(c,RE(RE({},t),{},{payload:V,label:L,active:ae,coordinate:de,accessibilityLayer:M})));return C.createElement(C.Fragment,null,n_.createPortal(xe,Q),ae&&C.createElement(qU,{cursor:A,tooltipEventType:z,coordinate:de,payload:ie,index:re}))}var Ey={},wy={},_y={},LE;function vz(){return LE||(LE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:s}={}){let c,u=null;const d=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{u!==null&&(n.apply(c,u),c=void 0,u=null)},m=()=>{h&&p(),A()};let y=null;const x=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,m()},r)},S=()=>{y!==null&&(clearTimeout(y),y=null)},A=()=>{S(),c=void 0,u=null},P=()=>{p()},E=function(..._){if(i?.aborted)return;c=this,u=_;const O=y==null;x(),d&&O&&p()};return E.schedule=x,E.cancel=A,E.flush=P,i?.addEventListener("abort",A,{once:!0}),E}e.debounce=t})(_y)),_y}var $E;function bz(){return $E||($E=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vz();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:u=!0,maxWait:d}=s,h=Array(2);c&&(h[0]="leading"),u&&(h[1]="trailing");let p,m=null;const y=t.debounce(function(...A){p=r.apply(this,A),m=null},i,{edges:h}),x=function(...A){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(p=r.apply(this,A),m=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,A),p)},S=()=>(y.flush(),p);return x.cancel=y.cancel,x.flush=S,x}e.debounce=n})(wy)),wy}var BE;function xz(){return BE||(BE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bz();function n(r,i=0,s={}){const{leading:c=!0,trailing:u=!0}=s;return t.debounce(r,i,{leading:c,maxWait:i,trailing:u})}e.throttle=n})(Ey)),Ey}var Oy,UE;function Sz(){return UE||(UE=1,Oy=xz().throttle),Oy}var Az=Sz();const Cz=qr(Az);var Gc=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function zE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ty(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(n),!0).forEach(function(r){Pz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pz(e,t,n){return(t=Ez(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ez(e){var t=wz(e,"string");return typeof t=="symbol"?t:t+""}function wz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dy=C.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:c=0,minHeight:u,maxHeight:d,children:h,debounce:p=0,id:m,className:y,onResize:x,style:S={}}=e,A=C.useRef(null),P=C.useRef();P.current=x,C.useImperativeHandle(t,()=>A.current);var[E,_]=C.useState({containerWidth:r.width,containerHeight:r.height}),O=C.useCallback((k,D)=>{_(N=>{var M=Math.round(k),z=Math.round(D);return N.containerWidth===M&&N.containerHeight===z?N:{containerWidth:M,containerHeight:z}})},[]);C.useEffect(()=>{var k=z=>{var re,{width:W,height:ee}=z[0].contentRect;O(W,ee),(re=P.current)===null||re===void 0||re.call(P,W,ee)};p>0&&(k=Cz(k,p,{trailing:!0,leading:!1}));var D=new ResizeObserver(k),{width:N,height:M}=A.current.getBoundingClientRect();return O(N,M),D.observe(A.current),()=>{D.disconnect()}},[O,p]);var j=C.useMemo(()=>{var{containerWidth:k,containerHeight:D}=E;if(k<0||D<0)return null;Gc(Do(i)||Do(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),Gc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var N=Do(i)?k:i,M=Do(s)?D:s;return n&&n>0&&(N?M=N/n:M&&(N=M*n),d&&M>d&&(M=d)),Gc(N>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,M,i,s,c,u,n),C.Children.map(h,z=>C.cloneElement(z,{width:N,height:M,style:Ty({width:N,height:M},z.props.style)}))},[n,h,s,d,u,c,E,i]);return C.createElement("div",{id:m?"".concat(m):void 0,className:st("recharts-responsive-container",y),style:Ty(Ty({},S),{},{width:i,height:s,minWidth:c,minHeight:u,maxHeight:d}),ref:A},C.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))}),rl=e=>null;rl.displayName="Cell";function _z(e,t,n){return(t=Oz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oz(e){var t=Tz(e,"string");return typeof t=="symbol"?t:t+""}function Tz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Dz{constructor(t){_z(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function GE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(n),!0).forEach(function(r){jz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jz(e,t,n){return(t=Nz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nz(e){var t=Mz(e,"string");return typeof t=="symbol"?t:t+""}function Mz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rz={cacheSize:2e3,enableCache:!0},MD=kz({},Rz),HE=new Dz(MD.cacheSize),Iz={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qE="recharts_measurement_span";function Lz(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",c=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(c,"|").concat(u)}var YE=(e,t)=>{try{var n=document.getElementById(qE);n||(n=document.createElement("span"),n.setAttribute("id",qE),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Iz,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Hc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||sl.isSsr)return{width:0,height:0};if(!MD.enableCache)return YE(t,n);var r=Lz(t,n),i=HE.get(r);if(i)return i;var s=YE(t,n);return HE.set(r,s),s},FE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$z=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Bz=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Uz=Object.keys(RD),Us="NaN";function zz(e,t){return e*RD[t]}class Yn{static parse(t){var n,[,r,i]=(n=Bz.exec(t))!==null&&n!==void 0?n:[];return new Yn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,cr(t)&&(this.unit=""),n!==""&&!$z.test(n)&&(this.num=NaN,this.unit=""),Uz.includes(n)&&(this.num=zz(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Yn(NaN,""):new Yn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Yn(NaN,""):new Yn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Yn(NaN,""):new Yn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Yn(NaN,""):new Yn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return cr(this.num)}}function ID(e){if(e.includes(Us))return Us;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,s]=(n=FE.exec(t))!==null&&n!==void 0?n:[],c=Yn.parse(r??""),u=Yn.parse(s??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Us;t=t.replace(FE,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,m,y]=(h=KE.exec(t))!==null&&h!==void 0?h:[],x=Yn.parse(p??""),S=Yn.parse(y??""),A=m==="+"?x.add(S):x.subtract(S);if(A.isNaN())return Us;t=t.replace(KE,A.toString())}return t}var VE=/\(([^()]*)\)/;function Gz(e){for(var t=e,n;(n=VE.exec(t))!=null;){var[,r]=n;t=t.replace(VE,ID(r))}return t}function Hz(e){var t=e.replace(/\s+/g,"");return t=Gz(t),t=ID(t),t}function qz(e){try{return Hz(e)}catch{return Us}}function ky(e){var t=qz(e.slice(5,-1));return t===Us?"":t}var Yz=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Fz=["dx","dy","angle","className","breakAll"];function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uv.apply(null,arguments)}function XE(e,t){if(e==null)return{};var n,r,i=Kz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kz(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var LD=/[ \f\n\r\t\v\u2028\u2029]+/,$D=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];ln(t)||(n?i=t.toString().split(""):i=t.toString().split(LD));var s=i.map(u=>({word:u,width:Hc(u,r).width})),c=n?0:Hc("",r).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}},Vz=(e,t,n,r,i)=>{var{maxLines:s,children:c,style:u,breakAll:d}=e,h=ke(s),p=c,m=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce((ee,pe)=>{var{word:de,width:ie}=pe,U=ee[ee.length-1];if(U&&(r==null||i||U.width+ie+n<Number(r)))U.words.push(de),U.width+=ie+n;else{var ae={words:[de],width:ie};ee.push(ae)}return ee},[])},y=m(t),x=re=>re.reduce((W,ee)=>W.width>ee.width?W:ee);if(!h||i)return y;var S=y.length>s||x(y).width>Number(r);if(!S)return y;for(var A="",P=re=>{var W=p.slice(0,re),ee=$D({breakAll:d,style:u,children:W+A}).wordsWithComputedWidth,pe=m(ee),de=pe.length>s||x(pe).width>Number(r);return[de,pe]},E=0,_=p.length-1,O=0,j;E<=_&&O<=p.length-1;){var k=Math.floor((E+_)/2),D=k-1,[N,M]=P(D),[z]=P(k);if(!N&&!z&&(E=k+1),N&&z&&(_=k-1),!N&&z){j=M;break}O++}return j||y},WE=e=>{var t=ln(e)?[]:e.toString().split(LD);return[{words:t}]},Xz=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:c}=e;if((t||n)&&!sl.isSsr){var u,d,h=$D({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:m}=h;u=p,d=m}else return WE(r);return Vz({breakAll:s,children:r,maxLines:c,style:i},u,d,t,n)}return WE(r)},QE="#808080",Lh=C.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:c=!1,textAnchor:u="start",verticalAnchor:d="end",fill:h=QE}=e,p=XE(e,Yz),m=C.useMemo(()=>Xz({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:y,dy:x,angle:S,className:A,breakAll:P}=p,E=XE(p,Fz);if(!ca(n)||!ca(r)||m.length===0)return null;var _=n+(ke(y)?y:0),O=r+(ke(x)?x:0),j;switch(d){case"start":j=ky("calc(".concat(s,")"));break;case"middle":j=ky("calc(".concat((m.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:j=ky("calc(".concat(m.length-1," * -").concat(i,")"));break}var k=[];if(c){var D=m[0].width,{width:N}=p;k.push("scale(".concat(ke(N)?N/D:1,")"))}return S&&k.push("rotate(".concat(S,", ").concat(_,", ").concat(O,")")),k.length&&(E.transform=k.join(" ")),C.createElement("text",Uv({},Ht(E,!0),{ref:t,x:_,y:O,className:st("recharts-text",A),textAnchor:u,fill:h.includes("url")?QE:h}),m.map((M,z)=>{var re=M.words.join(P?"":" ");return C.createElement("tspan",{x:_,dy:z===0?j:i,key:"".concat(re,"-").concat(z)},re)}))});Lh.displayName="Text";var Wz=["labelRef"];function Qz(e,t){if(e==null)return{};var n,r,i=Zz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zz(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ZE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(n),!0).forEach(function(r){Jz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jz(e,t,n){return(t=e7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e7(e){var t=t7(e,"string");return typeof t=="symbol"?t:t+""}function t7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function za(){return za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},za.apply(null,arguments)}var BD=C.createContext(null),n7=e=>{var{x:t,y:n,width:r,height:i,children:s}=e,c=C.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return C.createElement(BD.Provider,{value:c},s)},UD=()=>{var e=C.useContext(BD),t=_0();return e||t},r7=C.createContext(null),a7=()=>{var e=C.useContext(r7),t=Te(OT);return e||t},i7=e=>{var{value:t,formatter:n}=e,r=ln(e.children)?t:e.children;return typeof n=="function"?n(r):r},Bb=e=>e!=null&&typeof e=="function",o7=(e,t)=>{var n=sn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},s7=(e,t,n,r,i)=>{var{offset:s,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:p,startAngle:m,endAngle:y,clockWise:x}=i,S=(h+p)/2,A=o7(m,y),P=A>=0?1:-1,E,_;switch(t){case"insideStart":E=m+P*s,_=x;break;case"insideEnd":E=y-P*s,_=!x;break;case"end":E=y+P*s,_=x;break;default:throw new Error("Unsupported position ".concat(t))}_=A<=0?_:!_;var O=qt(u,d,S,E),j=qt(u,d,S,E+(_?1:-1)*359),k="M".concat(O.x,",").concat(O.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(_?0:1,`,
    `).concat(j.x,",").concat(j.y),D=ln(e.id)?Kc("recharts-radial-line-"):e.id;return C.createElement("text",za({},r,{dominantBaseline:"central",className:st("recharts-radial-bar-label",c)}),C.createElement("defs",null,C.createElement("path",{id:D,d:k})),C.createElement("textPath",{xlinkHref:"#".concat(D)},n))},l7=(e,t,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:c,startAngle:u,endAngle:d}=e,h=(u+d)/2;if(n==="outside"){var{x:p,y:m}=qt(r,i,c+t,h);return{x:p,y:m,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(s+c)/2,{x,y:S}=qt(r,i,y,h);return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},zD=e=>"cx"in e&&ke(e.cx),c7=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,s;n!=null&&!zD(n)&&(s=n);var{x:c,y:u,width:d,height:h}=t,p=h>=0?1:-1,m=p*r,y=p>0?"end":"start",x=p>0?"start":"end",S=d>=0?1:-1,A=S*r,P=S>0?"end":"start",E=S>0?"start":"end";if(i==="top"){var _={x:c+d/2,y:u-p*r,textAnchor:"middle",verticalAnchor:y};return It(It({},_),s?{height:Math.max(u-s.y,0),width:d}:{})}if(i==="bottom"){var O={x:c+d/2,y:u+h+m,textAnchor:"middle",verticalAnchor:x};return It(It({},O),s?{height:Math.max(s.y+s.height-(u+h),0),width:d}:{})}if(i==="left"){var j={x:c-A,y:u+h/2,textAnchor:P,verticalAnchor:"middle"};return It(It({},j),s?{width:Math.max(j.x-s.x,0),height:h}:{})}if(i==="right"){var k={x:c+d+A,y:u+h/2,textAnchor:E,verticalAnchor:"middle"};return It(It({},k),s?{width:Math.max(s.x+s.width-k.x,0),height:h}:{})}var D=s?{width:d,height:h}:{};return i==="insideLeft"?It({x:c+A,y:u+h/2,textAnchor:E,verticalAnchor:"middle"},D):i==="insideRight"?It({x:c+d-A,y:u+h/2,textAnchor:P,verticalAnchor:"middle"},D):i==="insideTop"?It({x:c+d/2,y:u+m,textAnchor:"middle",verticalAnchor:x},D):i==="insideBottom"?It({x:c+d/2,y:u+h-m,textAnchor:"middle",verticalAnchor:y},D):i==="insideTopLeft"?It({x:c+A,y:u+m,textAnchor:E,verticalAnchor:x},D):i==="insideTopRight"?It({x:c+d-A,y:u+m,textAnchor:P,verticalAnchor:x},D):i==="insideBottomLeft"?It({x:c+A,y:u+h-m,textAnchor:E,verticalAnchor:y},D):i==="insideBottomRight"?It({x:c+d-A,y:u+h-m,textAnchor:P,verticalAnchor:y},D):i&&typeof i=="object"&&(ke(i.x)||Do(i.x))&&(ke(i.y)||Do(i.y))?It({x:c+On(i.x,d),y:u+On(i.y,h),textAnchor:"end",verticalAnchor:"end"},D):It({x:c+d/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},D)},u7={offset:5};function ki(e){var t=Mr(e,u7),{viewBox:n,position:r,value:i,children:s,content:c,className:u="",textBreakAll:d,labelRef:h}=t,p=a7(),m=UD(),y=r==="center"?m:p??m,x=n||y;if(!x||ln(i)&&ln(s)&&!C.isValidElement(c)&&typeof c!="function")return null;var S=It(It({},t),{},{viewBox:x});if(C.isValidElement(c)){var{labelRef:A}=S,P=Qz(S,Wz);return C.cloneElement(c,P)}var E;if(typeof c=="function"){if(E=C.createElement(c,S),C.isValidElement(E))return E}else E=i7(t);var _=zD(x),O=Ht(t,!0);if(_&&(r==="insideStart"||r==="insideEnd"||r==="end"))return s7(t,r,E,O,x);var j=_?l7(x,t.offset,t.position):c7(t,x);return C.createElement(Lh,za({ref:h,className:st("recharts-label",u)},O,j,{breakAll:d}),E)}ki.displayName="Label";var f7=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?C.createElement(ki,za({key:"label-implicit"},r)):ca(e)?C.createElement(ki,za({key:"label-implicit",value:e},r)):C.isValidElement(e)?e.type===ki?C.cloneElement(e,It({key:"label-implicit"},r)):C.createElement(ki,za({key:"label-implicit",content:e},r)):Bb(e)?C.createElement(ki,za({key:"label-implicit",content:e},r)):e&&typeof e=="object"?C.createElement(ki,za({},e,{key:"label-implicit"},r)):null};function d7(e){var{label:t}=e,n=UD();return f7(t,n)||null}var jy={},Ny={},JE;function h7(){return JE||(JE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Ny)),Ny}var My={},ew;function p7(){return ew||(ew=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(My)),My}var tw;function m7(){return tw||(tw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h7(),n=p7(),r=y0();function i(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=i})(jy)),jy}var Ry,nw;function g7(){return nw||(nw=1,Ry=m7().last),Ry}var y7=g7();const v7=qr(y7);var b7=["valueAccessor"],x7=["dataKey","clockWise","id","textBreakAll"];function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kd.apply(null,arguments)}function rw(e,t){if(e==null)return{};var n,r,i=S7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function S7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var A7=e=>Array.isArray(e.value)?v7(e.value):e.value,GD=C.createContext(void 0),C7=GD.Provider,HD=C.createContext(void 0),P7=HD.Provider;function E7(){return C.useContext(GD)}function w7(){return C.useContext(HD)}function dd(e){var{valueAccessor:t=A7}=e,n=rw(e,b7),{dataKey:r,clockWise:i,id:s,textBreakAll:c}=n,u=rw(n,x7),d=E7(),h=w7(),p=d||h;return!p||!p.length?null:C.createElement(Kn,{className:"recharts-label-list"},p.map((m,y)=>{var x,S=ln(r)?t(m,y):Et(m&&m.payload,r),A=ln(s)?{}:{id:"".concat(s,"-").concat(y)};return C.createElement(ki,Kd({},Ht(m,!0),u,A,{fill:(x=n.fill)!==null&&x!==void 0?x:m.fill,parentViewBox:m.parentViewBox,value:S,textBreakAll:c,viewBox:m.viewBox,key:"label-".concat(y),index:y}))}))}dd.displayName="LabelList";function qD(e){var{label:t}=e;return t?t===!0?C.createElement(dd,{key:"labelList-implicit"}):C.isValidElement(t)||Bb(t)?C.createElement(dd,{key:"labelList-implicit",content:t}):typeof t=="object"?C.createElement(dd,Kd({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var YD=e=>e.graphicalItems.polarItems,_7=J([_t,hu],hb),Ub=J([YD,Lt,_7],mb),O7=J([Ub],gb),zb=J([O7,tb],yb),T7=J([zb,Lt,Ub],bb),D7=J([zb,Lt,Ub],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var s,c=Et(r,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:Et(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),aw=()=>{},k7=J([Lt,VT,aw,D7,aw,Ze,_t],Sb),FD=J([Lt,Ze,zb,T7,du,_t,k7],Ab),j7=J([FD,Lt,hl],Eb);J([Lt,FD,j7,_t],_b);var N7={radiusAxis:{},angleAxis:{}},KD=dr({name:"polarAxis",initialState:N7,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:ZF,removeRadiusAxis:JF,addAngleAxis:eK,removeAngleAxis:tK}=KD.actions,M7=KD.reducer;function iw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ow(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iw(Object(n),!0).forEach(function(r){R7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R7(e,t,n){return(t=I7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I7(e){var t=L7(e,"string");return typeof t=="symbol"?t:t+""}function L7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $7=(e,t)=>t,Gb=J([YD,$7],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),B7=[],Hb=(e,t,n)=>n?.length===0?B7:n,VD=J([tb,Gb,Hb],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>ow(ow({},t.presentationProps),s.props))),i!=null)return i}}),U7=J([VD,Gb,Hb],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var s,c=Et(r,t.nameKey,t.name),u;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:ph(c,t.dataKey),color:u,payload:r,type:t.legendType}})}),z7=J([VD,Gb,Hb,Wt],(e,t,n,r)=>{if(!(t==null||e==null))return U9({offset:r,pieSettings:t,displayedData:e,cells:n})}),Iy={},sw;function G7(){return sw||(sw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Iy)),Iy}var Ly,lw;function H7(){return lw||(lw=1,Ly=G7().isPlainObject),Ly}var q7=H7();const Y7=qr(q7);function cw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cw(Object(n),!0).forEach(function(r){F7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F7(e,t,n){return(t=K7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K7(e){var t=V7(e,"string");return typeof t=="symbol"?t:t+""}function V7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vd.apply(null,arguments)}var fw=(e,t,n,r,i)=>{var s=n-r,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+n,",").concat(t),c+="L ".concat(e+n-s/2,",").concat(t+i),c+="L ".concat(e+n-s/2-r,",").concat(t+i),c+="L ".concat(e,",").concat(t," Z"),c},X7={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},W7=e=>{var t=Mr(e,X7),{x:n,y:r,upperWidth:i,lowerWidth:s,height:c,className:u}=t,{animationEasing:d,animationDuration:h,animationBegin:p,isUpdateAnimationActive:m}=t,y=C.useRef(),[x,S]=C.useState(-1),A=C.useRef(i),P=C.useRef(s),E=C.useRef(c),_=C.useRef(n),O=C.useRef(r),j=Sh(e,"trapezoid-");if(C.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var de=y.current.getTotalLength();de&&S(de)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||c!==+c||i===0&&s===0||c===0)return null;var k=st("recharts-trapezoid",u);if(!m)return C.createElement("g",null,C.createElement("path",Vd({},Ht(t,!0),{className:k,d:fw(n,r,i,s,c)})));var D=A.current,N=P.current,M=E.current,z=_.current,re=O.current,W="0px ".concat(x===-1?1:x,"px"),ee="".concat(x,"px 0px"),pe=vO(["strokeDasharray"],h,d);return C.createElement(xh,{animationId:j,key:j,canBegin:x>0,duration:h,easing:d,isActive:m,begin:p},de=>{var ie=yn(D,i,de),U=yn(N,s,de),ae=yn(M,c,de),ge=yn(z,n,de),me=yn(re,r,de);y.current&&(A.current=ie,P.current=U,E.current=ae,_.current=ge,O.current=me);var L=de>0?{transition:pe,strokeDasharray:ee}:{strokeDasharray:W};return C.createElement("path",Vd({},Ht(t,!0),{className:k,d:fw(ge,me,ie,U,ae),ref:y,style:uw(uw({},L),t.style)}))})},Q7=["option","shapeType","propTransformer","activeClassName","isActive"];function Z7(e,t){if(e==null)return{};var n,r,i=J7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function J7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(n),!0).forEach(function(r){e9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e9(e,t,n){return(t=t9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t9(e){var t=n9(e,"string");return typeof t=="symbol"?t:t+""}function n9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r9(e,t){return Xd(Xd({},t),e)}function a9(e,t){return e==="symbols"}function hw(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return C.createElement(AO,n);case"trapezoid":return C.createElement(W7,n);case"sector":return C.createElement(EO,n);case"symbols":if(a9(t))return C.createElement(p0,n);break;default:return null}}function i9(e){return C.isValidElement(e)?e.props:e}function XD(e){var{option:t,shapeType:n,propTransformer:r=r9,activeClassName:i="recharts-active-shape",isActive:s}=e,c=Z7(e,Q7),u;if(C.isValidElement(t))u=C.cloneElement(t,Xd(Xd({},c),i9(t)));else if(typeof t=="function")u=t(c);else if(Y7(t)&&typeof t!="boolean"){var d=r(t,c);u=C.createElement(hw,{shapeType:n,elementProps:d})}else{var h=c;u=C.createElement(hw,{shapeType:n,elementProps:h})}return s?C.createElement(Kn,{className:i},u):u}var qb=(e,t)=>{var n=Tt();return(r,i)=>s=>{e?.(r,i,s),n(uD({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},Yb=e=>{var t=Tt();return(n,r)=>i=>{e?.(n,r,i),t(z6())}},Fb=(e,t)=>{var n=Tt();return(r,i)=>s=>{e?.(r,i,s),n(G6({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function WD(e){var{fn:t,args:n}=e,r=Tt(),i=Nr();return C.useEffect(()=>{if(!i){var s=t(n);return r($6(s)),()=>{r(B6(s))}}},[t,n,r,i]),null}var QD=()=>{};function o9(e){var{legendPayload:t}=e,n=Tt(),r=Nr();return C.useEffect(()=>r?QD:(n(pO(t)),()=>{n(mO(t))}),[n,r,t]),null}function s9(e){var{legendPayload:t}=e,n=Tt(),r=Te(Ze);return C.useEffect(()=>r!=="centric"&&r!=="radial"?QD:(n(pO(t)),()=>{n(mO(t))}),[n,r,t]),null}var $y,l9=()=>{var[e]=C.useState(()=>Kc("uid-"));return e},c9=($y=Wj.useId)!==null&&$y!==void 0?$y:l9;function u9(e,t){var n=c9();return t||(e?"".concat(e,"-").concat(n):n)}var f9=C.createContext(void 0),ZD=e=>{var{id:t,type:n,children:r}=e,i=u9("recharts-".concat(n),t);return C.createElement(f9.Provider,{value:i},r(i))},d9={cartesianItems:[],polarItems:[]},JD=dr({name:"graphicalItems",initialState:d9,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=qa(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=qa(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=qa(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:h9,replaceCartesianGraphicalItem:p9,removeCartesianGraphicalItem:m9,addPolarGraphicalItem:g9,removePolarGraphicalItem:y9}=JD.actions,v9=JD.reducer;function b9(e){var t=Tt(),n=C.useRef(null);return C.useEffect(()=>{n.current===null?t(h9(e)):n.current!==e&&t(p9({prev:n.current,next:e})),n.current=e},[t,e]),C.useEffect(()=>()=>{n.current&&(t(m9(n.current)),n.current=null)},[t]),null}function x9(e){var t=Tt();return C.useEffect(()=>(t(g9(e)),()=>{t(y9(e))}),[t,e]),null}var S9=["onMouseEnter","onClick","onMouseLeave"],A9=["id"],C9=["id"];function Kb(e,t){if(e==null)return{};var n,r,i=P9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function P9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pw(Object(n),!0).forEach(function(r){E9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E9(e,t,n){return(t=w9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w9(e){var t=_9(e,"string");return typeof t=="symbol"?t:t+""}function _9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$i.apply(null,arguments)}function O9(e){var t=C.useMemo(()=>c0(e.children,rl),[e.children]),n=Te(r=>U7(r,e.id,t));return n==null?null:C.createElement(s9,{legendPayload:n})}function T9(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:c,name:u,hide:d,tooltipType:h}=e;return{dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:c,dataKey:t,nameKey:n,name:ph(u,t),hide:d,type:h,color:c,unit:""}}}var D9=(e,t)=>e>t?"start":e<t?"end":"middle",k9=(e,t,n)=>On(typeof t=="function"?t(e):t,n,n*.8),j9=(e,t,n)=>{var{top:r,left:i,width:s,height:c}=t,u=iO(s,c),d=i+On(e.cx,s,s/2),h=r+On(e.cy,c,c/2),p=On(e.innerRadius,u,0),m=k9(n,e.outerRadius,u),y=e.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:d,cy:h,innerRadius:p,outerRadius:m,maxRadius:y}},N9=(e,t)=>{var n=sn(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function M9(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var R9=(e,t)=>{if(C.isValidElement(e))return C.cloneElement(e,t);if(typeof e=="function")return e(t);var n=st("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return C.createElement(yO,$i({},t,{type:"linear",className:n}))},I9=(e,t,n)=>{if(C.isValidElement(e))return C.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),C.isValidElement(r)))return r;var i=st("recharts-pie-label-text",M9(e));return C.createElement(Lh,$i({},t,{alignmentBaseline:"middle",className:i}),r)};function L9(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:s,dataKey:c}=n;if(!r||!i||!t)return null;var u=Fo(n),d=Ht(i,!1),h=Ht(s,!1),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,m=t.map((y,x)=>{var S=(y.startAngle+y.endAngle)/2,A=qt(y.cx,y.cy,y.outerRadius+p,S),P=Pt(Pt(Pt(Pt({},u),y),{},{stroke:"none"},d),{},{index:x,textAnchor:D9(A.x,y.cx)},A),E=Pt(Pt(Pt(Pt({},u),y),{},{fill:"none",stroke:y.fill},h),{},{index:x,points:[qt(y.cx,y.cy,y.outerRadius,S),A],key:"line"});return C.createElement(Kn,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(x)},s&&R9(s,E),I9(i,P,Et(y,c)))});return C.createElement(Kn,{className:"recharts-pie-labels"},m)}function $9(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?C.createElement(qD,{label:n.label}):C.createElement(L9,{sectors:t,props:n,showLabels:r})}function B9(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i}=e,s=Te(Go),{onMouseEnter:c,onClick:u,onMouseLeave:d}=i,h=Kb(i,S9),p=qb(c,i.dataKey),m=Yb(d),y=Fb(u,i.dataKey);return t==null||t.length===0?null:C.createElement(C.Fragment,null,t.map((x,S)=>{if(x?.startAngle===0&&x?.endAngle===0&&t.length!==1)return null;var A=n&&String(S)===s,P=s?r:null,E=A?n:P,_=Pt(Pt({},x),{},{stroke:x.stroke,tabIndex:-1,[uO]:S,[fO]:i.dataKey});return C.createElement(Kn,$i({tabIndex:-1,className:"recharts-pie-sector"},au(h,x,S),{onMouseEnter:p(x,S),onMouseLeave:m(x,S),onClick:y(x,S),key:"sector-".concat(x?.startAngle,"-").concat(x?.endAngle,"-").concat(x.midAngle,"-").concat(S)}),C.createElement(XD,$i({option:E,isActive:A,shapeType:"sector"},_)))}))}function U9(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:s}=e,{cornerRadius:c,startAngle:u,endAngle:d,dataKey:h,nameKey:p,tooltipType:m}=n,y=Math.abs(n.minAngle),x=N9(u,d),S=Math.abs(x),A=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,P=r.filter(D=>Et(D,h,0)!==0).length,E=(S>=360?P:P-1)*A,_=S-P*y-E,O=r.reduce((D,N)=>{var M=Et(N,h,0);return D+(ke(M)?M:0)},0),j;if(O>0){var k;j=r.map((D,N)=>{var M=Et(D,h,0),z=Et(D,p,N),re=j9(n,s,D),W=(ke(M)?M:0)/O,ee,pe=Pt(Pt({},D),i&&i[N]&&i[N].props);N?ee=k.endAngle+sn(x)*A*(M!==0?1:0):ee=u;var de=ee+sn(x)*((M!==0?y:0)+W*_),ie=(ee+de)/2,U=(re.innerRadius+re.outerRadius)/2,ae=[{name:z,value:M,payload:pe,dataKey:h,type:m}],ge=qt(re.cx,re.cy,U,ie);return k=Pt(Pt(Pt(Pt({},n.presentationProps),{},{percent:W,cornerRadius:c,name:z,tooltipPayload:ae,midAngle:ie,middleRadius:U,tooltipPosition:ge},pe),re),{},{value:Et(D,h),startAngle:ee,endAngle:de,payload:pe,paddingAngle:sn(x)*A}),k})}return j}function z9(e){var{showLabels:t,sectors:n,children:r}=e,i=C.useMemo(()=>!t||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,t]);return C.createElement(P7,{value:t?i:void 0},r)}function G9(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:s,animationDuration:c,animationEasing:u,activeShape:d,inactiveShape:h,onAnimationStart:p,onAnimationEnd:m}=t,y=Sh(t,"recharts-pie-"),x=n.current,[S,A]=C.useState(!1),P=C.useCallback(()=>{typeof m=="function"&&m(),A(!1)},[m]),E=C.useCallback(()=>{typeof p=="function"&&p(),A(!0)},[p]);return C.createElement(z9,{showLabels:!S,sectors:r},C.createElement(xh,{animationId:y,begin:s,duration:c,isActive:i,easing:u,onAnimationStart:E,onAnimationEnd:P,key:y},_=>{var O=[],j=r&&r[0],k=j?.startAngle;return r?.forEach((D,N)=>{var M=x&&x[N],z=N>0?$o(D,"paddingAngle",0):0;if(M){var re=yn(M.endAngle-M.startAngle,D.endAngle-D.startAngle,_),W=Pt(Pt({},D),{},{startAngle:k+z,endAngle:k+re+z});O.push(W),k=W.endAngle}else{var{endAngle:ee,startAngle:pe}=D,de=yn(0,ee-pe,_),ie=Pt(Pt({},D),{},{startAngle:k+z,endAngle:k+de+z});O.push(ie),k=ie.endAngle}}),n.current=O,C.createElement(Kn,null,C.createElement(B9,{sectors:O,activeShape:d,inactiveShape:h,allOtherPieProps:t}))}),C.createElement($9,{showLabels:!S,sectors:r,props:t}),t.children)}var H9={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!sl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function q9(e){var{id:t}=e,n=Kb(e,A9),{hide:r,className:i,rootTabIndex:s}=e,c=C.useMemo(()=>c0(e.children,rl),[e.children]),u=Te(p=>z7(p,t,c)),d=C.useRef(null),h=st("recharts-pie",i);return r||u==null?(d.current=null,C.createElement(Kn,{tabIndex:s,className:h})):C.createElement(C.Fragment,null,C.createElement(WD,{fn:T9,args:Pt(Pt({},e),{},{sectors:u})}),C.createElement(Kn,{tabIndex:s,className:h},C.createElement(G9,{props:Pt(Pt({},n),{},{sectors:u}),previousSectorsRef:d})))}function zv(e){var t=Mr(e,H9),{id:n}=t,r=Kb(t,C9),i=Fo(r);return C.createElement(ZD,{id:n,type:"pie"},s=>C.createElement(C.Fragment,null,C.createElement(x9,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i}),C.createElement(O9,$i({},r,{id:s})),C.createElement(q9,$i({},r,{id:s}))))}zv.displayName="Pie";function mw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(n),!0).forEach(function(r){Y9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y9(e,t,n){return(t=F9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F9(e){var t=K9(e,"string");return typeof t=="symbol"?t:t+""}function K9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V9={xAxis:{},yAxis:{},zAxis:{}},ek=dr({name:"cartesianAxis",initialState:V9,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=gw(gw({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:X9,removeXAxis:W9,addYAxis:Q9,removeYAxis:Z9,addZAxis:nK,removeZAxis:rK,updateYAxisWidth:J9}=ek.actions,eG=ek.reducer,tG=J([Wt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),nG=J([tG,Qa,Za],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),tk=()=>Te(nG),rG="Invariant failed";function aG(e,t){throw new Error(rG)}var iG=["x","y"];function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gv.apply(null,arguments)}function yw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(n),!0).forEach(function(r){oG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oG(e,t,n){return(t=sG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sG(e){var t=lG(e,"string");return typeof t=="symbol"?t:t+""}function lG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cG(e,t){if(e==null)return{};var n,r,i=uG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fG(e,t){var{x:n,y:r}=e,i=cG(e,iG),s="".concat(n),c=parseInt(s,10),u="".concat(r),d=parseInt(u,10),h="".concat(t.height||i.height),p=parseInt(h,10),m="".concat(t.width||i.width),y=parseInt(m,10);return Mc(Mc(Mc(Mc(Mc({},t),i),c?{x:c}:{}),d?{y:d}:{}),{},{height:p,width:y,name:t.name,radius:t.radius})}function Vb(e){return C.createElement(XD,Gv({shapeType:"rectangle",propTransformer:fG,activeClassName:"recharts-active-bar"},e))}var dG=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ke(t))return t;var s=ke(r)||ln(r);return s?t(r,i):(s||aG(),n)}},hG={},nk=dr({name:"errorBars",initialState:hG,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:aK,replaceErrorBar:iK,removeErrorBar:oK}=nk.actions,pG=nk.reducer,mG=["children"];function gG(e,t){if(e==null)return{};var n,r,i=yG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vG={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},bG=C.createContext(vG);function xG(e){var{children:t}=e,n=gG(e,mG);return C.createElement(bG.Provider,{value:n},t)}function rk(e,t){var n,r,i=Te(h=>qi(h,e)),s=Te(h=>Yi(h,t)),c=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:ar.allowDataOverflow,u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:ir.allowDataOverflow,d=c||u;return{needClip:d,needClipX:c,needClipY:u}}function SG(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=tk(),{needClipX:s,needClipY:c,needClip:u}=rk(t,n);if(!u)return null;var{x:d,y:h,width:p,height:m}=i;return C.createElement("clipPath",{id:"clipPath-".concat(r)},C.createElement("rect",{x:s?d:d-p/2,y:c?h:h-m/2,width:s?p:p*2,height:c?m:m*2}))}var AG=["onMouseEnter","onMouseLeave","onClick"],CG=["value","background","tooltipPosition"],PG=["id"],EG=["onMouseEnter","onClick","onMouseLeave"];function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bi.apply(null,arguments)}function vw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(n),!0).forEach(function(r){wG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wG(e,t,n){return(t=_G(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _G(e){var t=OG(e,"string");return typeof t=="symbol"?t:t+""}function OG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wd(e,t){if(e==null)return{};var n,r,i=TG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var DG=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:ph(n,t),payload:e}]};function kG(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:s,hide:c,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:ph(s,t),hide:c,type:e.tooltipType,color:e.fill,unit:u}}}function jG(e){var t=Te(Go),{data:n,dataKey:r,background:i,allOtherBarProps:s}=e,{onMouseEnter:c,onMouseLeave:u,onClick:d}=s,h=Wd(s,AG),p=qb(c,r),m=Yb(u),y=Fb(d,r);if(!i||n==null)return null;var x=Ht(i,!1);return C.createElement(C.Fragment,null,n.map((S,A)=>{var{value:P,background:E,tooltipPosition:_}=S,O=Wd(S,CG);if(!E)return null;var j=p(S,A),k=m(S,A),D=y(S,A),N=Rn(Rn(Rn(Rn(Rn({option:i,isActive:String(A)===t},O),{},{fill:"#eee"},E),x),au(h,S,A)),{},{onMouseEnter:j,onMouseLeave:k,onClick:D,dataKey:r,index:A,className:"recharts-bar-background-rectangle"});return C.createElement(Vb,Bi({key:"background-bar-".concat(A)},N))}))}function NG(e){var{showLabels:t,children:n,rects:r}=e,i=r?.map(s=>{var c={x:s.x,y:s.y,width:s.width,height:s.height};return Rn(Rn({},c),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:c,fill:s.fill})});return C.createElement(C7,{value:t?i:void 0},n)}function MG(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:s,dataKey:c}=e,u=Te(Go),d=Te(CD),h=n&&String(s)===u&&(d==null||c===d),p=h?n:t;return C.createElement(Vb,Bi({},r,i,{isActive:h,option:p,index:s,dataKey:c}))}function RG(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:s}=e;return C.createElement(Vb,Bi({},n,r,{isActive:!1,option:t,index:i,dataKey:s}))}function IG(e){var{data:t,props:n}=e,r=Fo(n),{id:i}=r,s=Wd(r,PG),{shape:c,dataKey:u,activeBar:d}=n,{onMouseEnter:h,onClick:p,onMouseLeave:m}=n,y=Wd(n,EG),x=qb(h,u),S=Yb(m),A=Fb(p,u);return t?C.createElement(C.Fragment,null,t.map((P,E)=>C.createElement(Kn,Bi({className:"recharts-bar-rectangle"},au(y,P,E),{onMouseEnter:x(P,E),onMouseLeave:S(P,E),onClick:A(P,E),key:"rectangle-".concat(P?.x,"-").concat(P?.y,"-").concat(P?.value,"-").concat(E)}),d?C.createElement(MG,{shape:c,activeBar:d,baseProps:s,entry:P,index:E,dataKey:u}):C.createElement(RG,{shape:c,baseProps:s,entry:P,index:E,dataKey:u})))):null}function LG(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:s,animationBegin:c,animationDuration:u,animationEasing:d,onAnimationEnd:h,onAnimationStart:p}=t,m=n.current,y=Sh(t,"recharts-bar-"),[x,S]=C.useState(!1),A=!x,P=C.useCallback(()=>{typeof h=="function"&&h(),S(!1)},[h]),E=C.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return C.createElement(NG,{showLabels:A,rects:r},C.createElement(xh,{animationId:y,begin:c,duration:u,isActive:s,easing:d,onAnimationEnd:P,onAnimationStart:E,key:y},_=>{var O=_===1?r:r?.map((j,k)=>{var D=m&&m[k];if(D)return Rn(Rn({},j),{},{x:yn(D.x,j.x,_),y:yn(D.y,j.y,_),width:yn(D.width,j.width,_),height:yn(D.height,j.height,_)});if(i==="horizontal"){var N=yn(0,j.height,_);return Rn(Rn({},j),{},{y:j.y+j.height-N,height:N})}var M=yn(0,j.width,_);return Rn(Rn({},j),{},{width:M})});return _>0&&(n.current=O??null),O==null?null:C.createElement(Kn,null,C.createElement(IG,{props:t,data:O}))}),C.createElement(qD,{label:t.label}),t.children)}function $G(e){var t=C.useRef(null);return C.createElement(LG,{previousRectanglesRef:t,props:e})}var ak=0,BG=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Et(e,t)}};class UG extends C.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:c,needClip:u,background:d,id:h}=this.props;if(t||n==null)return null;var p=st("recharts-bar",i),m=h;return C.createElement(Kn,{className:p,id:h},u&&C.createElement("defs",null,C.createElement(SG,{clipPathId:m,xAxisId:s,yAxisId:c})),C.createElement(Kn,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(m,")"):void 0},C.createElement(jG,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),C.createElement($G,this.props)))}}var zG={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!sl.isSsr,legendType:"rect",minPointSize:ak,xAxisId:0,yAxisId:0};function GG(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:c,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:p}=e,{needClip:m}=rk(t,n),y=D0(),x=Nr(),S=c0(e.children,rl),A=Te(_=>mH(_,t,n,x,e.id,S));if(y!=="vertical"&&y!=="horizontal")return null;var P,E=A?.[0];return E==null||E.height==null||E.width==null?P=0:P=y==="vertical"?E.height/2:E.width/2,C.createElement(xG,{xAxisId:t,yAxisId:n,data:A,dataPointFormatter:BG,errorBarOffset:P},C.createElement(UG,Bi({},e,{layout:y,needClip:m,data:A,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:c,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:p})))}function HG(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:c,yAxis:u,xAxisTicks:d,yAxisTicks:h,stackedData:p,displayedData:m,offset:y,cells:x,parentViewBox:S}=e,A=t==="horizontal"?u:c,P=p?A.scale.domain():null,E=iL({numericAxis:A});return m.map((_,O)=>{var j,k,D,N,M,z;p?j=J3(p[O],P):(j=Et(_,n),Array.isArray(j)||(j=[E,j]));var re=dG(r,ak)(j[1],O);if(t==="horizontal"){var W,[ee,pe]=[u.scale(j[0]),u.scale(j[1])];k=iP({axis:c,ticks:d,bandSize:s,offset:i.offset,entry:_,index:O}),D=(W=pe??ee)!==null&&W!==void 0?W:void 0,N=i.size;var de=ee-pe;if(M=cr(de)?0:de,z={x:k,y:y.top,width:N,height:y.height},Math.abs(re)>0&&Math.abs(M)<Math.abs(re)){var ie=sn(M||re)*(Math.abs(re)-Math.abs(M));D-=ie,M+=ie}}else{var[U,ae]=[c.scale(j[0]),c.scale(j[1])];if(k=U,D=iP({axis:u,ticks:h,bandSize:s,offset:i.offset,entry:_,index:O}),N=ae-U,M=i.size,z={x:y.left,y:D,width:y.width,height:M},Math.abs(re)>0&&Math.abs(N)<Math.abs(re)){var ge=sn(N||re)*(Math.abs(re)-Math.abs(N));N+=ge}}if(k==null||D==null||N==null||M==null)return null;var me=Rn(Rn({},_),{},{x:k,y:D,width:N,height:M,value:p?j:j[1],payload:_,background:z,tooltipPosition:{x:k+N/2,y:D+M/2},parentViewBox:S},x&&x[O]&&x[O].props);return me}).filter(Boolean)}function ik(e){var t=Mr(e,zG),n=Nr();return C.createElement(ZD,{id:t.id,type:"bar"},r=>C.createElement(C.Fragment,null,C.createElement(o9,{legendPayload:DG(t)}),C.createElement(WD,{fn:kG,args:t}),C.createElement(b9,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:aL(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),C.createElement(GG,Bi({},t,{id:r}))))}ik.displayName="Bar";function bw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bw(Object(n),!0).forEach(function(r){qG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qG(e,t,n){return(t=YG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YG(e){var t=FG(e,"string");return typeof t=="symbol"?t:t+""}function FG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KG=(e,t)=>t,VG=(e,t,n)=>n,XG=(e,t,n,r)=>r,WG=(e,t,n,r,i)=>i,bu=J([pb,WG],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),QG=J([bu],e=>e?.maxBarSize),ZG=(e,t,n,r,i,s)=>s,xw=(e,t,n)=>{var r=n??e;if(!ln(r))return On(r,t,0)},JG=J([Ze,pb,KG,VG,XG],(e,t,n,r,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),eH=(e,t,n,r)=>{var i=Ze(e);return i==="horizontal"?Rv(e,"yAxis",n,r):Rv(e,"xAxis",t,r)},tH=(e,t,n)=>{var r=Ze(e);return r==="horizontal"?AE(e,"xAxis",t):AE(e,"yAxis",n)},nH=(e,t,n)=>{var r={},i=e.filter(kh),s=e.filter(h=>h.stackId==null),c=i.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),u=Object.entries(c).map(h=>{var[p,m]=h,y=m.map(S=>S.dataKey),x=xw(t,n,m[0].barSize);return{stackId:p,dataKeys:y,barSize:x}}),d=s.map(h=>{var p=[h.dataKey].filter(y=>y!=null),m=xw(t,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:m}});return[...u,...d]},rH=J([JG,B8,tH],nH),aH=(e,t,n,r,i)=>{var s,c,u=bu(e,t,n,r,i);if(u!=null){var d=Ze(e),h=ST(e),{maxBarSize:p}=u,m=ln(p)?h:p,y,x;return d==="horizontal"?(y=nl(e,"xAxis",t,r),x=tl(e,"xAxis",t,r)):(y=nl(e,"yAxis",n,r),x=tl(e,"yAxis",n,r)),(s=(c=E0(y,x,!0))!==null&&c!==void 0?c:m)!==null&&s!==void 0?s:0}},ok=(e,t,n,r)=>{var i=Ze(e),s,c;return i==="horizontal"?(s=nl(e,"xAxis",t,r),c=tl(e,"xAxis",t,r)):(s=nl(e,"yAxis",n,r),c=tl(e,"yAxis",n,r)),E0(s,c)};function iH(e,t,n,r,i){var s=r.length;if(!(s<1)){var c=On(e,n,0,!0),u,d=[];if(fr(r[0].barSize)){var h=!1,p=n/s,m=r.reduce((E,_)=>E+(_.barSize||0),0);m+=(s-1)*c,m>=n&&(m-=(s-1)*c,c=0),m>=n&&p>0&&(h=!0,p*=.9,m=s*p);var y=(n-m)/2>>0,x={offset:y-c,size:0};u=r.reduce((E,_)=>{var O,j={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:x.offset+x.size+c,size:h?p:(O=_.barSize)!==null&&O!==void 0?O:0}},k=[...E,j];return x=k[k.length-1].position,k},d)}else{var S=On(t,n,0,!0);n-2*S-(s-1)*c<=0&&(c=0);var A=(n-2*S-(s-1)*c)/s;A>1&&(A>>=0);var P=fr(i)?Math.min(A,i):A;u=r.reduce((E,_,O)=>[...E,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:S+(A+c)*O+(A-P)/2,size:P}}],d)}return u}}var oH=(e,t,n,r,i,s,c)=>{var u=ln(c)?t:c,d=iH(n,r,i!==s?i:s,e,u);return i!==s&&d!=null&&(d=d.map(h=>rd(rd({},h),{},{position:rd(rd({},h.position),{},{offset:h.position.offset-i/2})}))),d},sH=J([rH,ST,$8,AT,aH,ok,QG],oH),lH=(e,t,n,r)=>nl(e,"xAxis",t,r),cH=(e,t,n,r)=>nl(e,"yAxis",n,r),uH=(e,t,n,r)=>tl(e,"xAxis",t,r),fH=(e,t,n,r)=>tl(e,"yAxis",n,r),dH=J([sH,bu],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),hH=(e,t)=>{var n=fb(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:s}=i;if(s)return s.find(c=>c.key===n)}}}},pH=J([eH,bu],hH),mH=J([Wt,w0,lH,cH,uH,fH,dH,Ze,nb,ok,pH,bu,ZG],(e,t,n,r,i,s,c,u,d,h,p,m,y)=>{var{chartData:x,dataStartIndex:S,dataEndIndex:A}=d;if(!(m==null||c==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:P}=m,E;if(P!=null&&P.length>0?E=P:E=x?.slice(S,A+1),E!=null)return HG({layout:u,barSettings:m,pos:c,parentViewBox:t,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:E,offset:e,cells:y})}}),sk=e=>{var{chartData:t}=e,n=Tt(),r=Nr();return C.useEffect(()=>r?()=>{}:(n(jE(t)),()=>{n(jE(void 0))}),[t,n,r]),null},Sw={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},lk=dr({name:"brush",initialState:Sw,reducers:{setBrushSettings(e,t){return t.payload==null?Sw:t.payload}}}),{setBrushSettings:sK}=lk.actions,gH=lk.reducer;function yH(e,t,n){return(t=vH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vH(e){var t=bH(e,"string");return typeof t=="symbol"?t:t+""}function bH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Xb{static create(t){return new Xb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}yH(Xb,"EPS",1e-4);function xH(e){return(e%180+180)%180}var SH=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=xH(i),c=s*Math.PI/180,u=Math.atan(r/n),d=c>u&&c<Math.PI-u?r/Math.sin(c):n/Math.cos(c);return Math.abs(d)},AH={dots:[],areas:[],lines:[]},ck=dr({name:"referenceElements",initialState:AH,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=qa(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=qa(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=qa(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:lK,removeDot:cK,addArea:uK,removeArea:fK,addLine:dK,removeLine:hK}=ck.actions,CH=ck.reducer,PH=C.createContext(void 0),EH=e=>{var{children:t}=e,[n]=C.useState("".concat(Kc("recharts"),"-clip")),r=tk();if(r==null)return null;var{x:i,y:s,width:c,height:u}=r;return C.createElement(PH.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:i,y:s,height:u,width:c}))),t)};function By(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function uk(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function wH(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return SH(r,n)}function _H(e,t,n){var r=n==="width",{x:i,y:s,width:c,height:u}=e;return t===1?{start:r?i:s,end:r?i+c:s+u}:{start:r?i+c:s+u,end:r?i:s}}function Qd(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function OH(e,t){return uk(e,t+1)}function TH(e,t,n,r,i){for(var s=(r||[]).slice(),{start:c,end:u}=t,d=0,h=1,p=c,m=function(){var S=r?.[d];if(S===void 0)return{v:uk(r,h)};var A=d,P,E=()=>(P===void 0&&(P=n(S,A)),P),_=S.coordinate,O=d===0||Qd(e,_,E,p,u);O||(d=0,p=c,h+=1),O&&(p=_+e*(E()/2+i),d+=h)},y;h<=s.length;)if(y=m(),y)return y.v;return[]}function Aw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(n),!0).forEach(function(r){DH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DH(e,t,n){return(t=kH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kH(e){var t=jH(e,"string");return typeof t=="symbol"?t:t+""}function jH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NH(e,t,n,r,i){for(var s=(r||[]).slice(),c=s.length,{start:u}=t,{end:d}=t,h=function(y){var x=s[y],S,A=()=>(S===void 0&&(S=n(x,y)),S);if(y===c-1){var P=e*(x.coordinate+e*A()/2-d);s[y]=x=En(En({},x),{},{tickCoord:P>0?x.coordinate-P*e:x.coordinate})}else s[y]=x=En(En({},x),{},{tickCoord:x.coordinate});var E=Qd(e,x.tickCoord,A,u,d);E&&(d=x.tickCoord-e*(A()/2+i),s[y]=En(En({},x),{},{isShow:!0}))},p=c-1;p>=0;p--)h(p);return s}function MH(e,t,n,r,i,s){var c=(r||[]).slice(),u=c.length,{start:d,end:h}=t;if(s){var p=r[u-1],m=n(p,u-1),y=e*(p.coordinate+e*m/2-h);c[u-1]=p=En(En({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate});var x=Qd(e,p.tickCoord,()=>m,d,h);x&&(h=p.tickCoord-e*(m/2+i),c[u-1]=En(En({},p),{},{isShow:!0}))}for(var S=s?u-1:u,A=function(_){var O=c[_],j,k=()=>(j===void 0&&(j=n(O,_)),j);if(_===0){var D=e*(O.coordinate-e*k()/2-d);c[_]=O=En(En({},O),{},{tickCoord:D<0?O.coordinate-D*e:O.coordinate})}else c[_]=O=En(En({},O),{},{tickCoord:O.coordinate});var N=Qd(e,O.tickCoord,k,d,h);N&&(d=O.tickCoord+e*(k()/2+i),c[_]=En(En({},O),{},{isShow:!0}))},P=0;P<S;P++)A(P);return c}function Wb(e,t,n){var{tick:r,ticks:i,viewBox:s,minTickGap:c,orientation:u,interval:d,tickFormatter:h,unit:p,angle:m}=e;if(!i||!i.length||!r)return[];if(ke(d)||sl.isSsr){var y;return(y=OH(i,ke(d)?d:0))!==null&&y!==void 0?y:[]}var x=[],S=u==="top"||u==="bottom"?"width":"height",A=p&&S==="width"?Hc(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},P=(O,j)=>{var k=typeof h=="function"?h(O.value,j):O.value;return S==="width"?wH(Hc(k,{fontSize:t,letterSpacing:n}),A,m):Hc(k,{fontSize:t,letterSpacing:n})[S]},E=i.length>=2?sn(i[1].coordinate-i[0].coordinate):1,_=_H(s,E,S);return d==="equidistantPreserveStart"?TH(E,_,P,i,c):(d==="preserveStart"||d==="preserveStartEnd"?x=MH(E,_,P,i,c,d==="preserveStartEnd"):x=NH(E,_,P,i,c),x.filter(O=>O.isShow))}var RH=["viewBox"],IH=["viewBox"];function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zs.apply(null,arguments)}function Cw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(n),!0).forEach(function(r){Qb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pw(e,t){if(e==null)return{};var n,r,i=LH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Qb(e,t,n){return(t=$H(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $H(e){var t=BH(e,"string");return typeof t=="symbol"?t:t+""}function BH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Fi extends C.Component{constructor(t){super(t),this.tickRefs=C.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,n){var{viewBox:r}=t,i=Pw(t,RH),s=this.props,{viewBox:c}=s,u=Pw(s,IH);return!By(r,c)||!By(i,u)||!By(n,this.state)}getTickLineCoord(t){var{x:n,y:r,width:i,height:s,orientation:c,tickSize:u,mirror:d,tickMargin:h}=this.props,p,m,y,x,S,A,P=d?-1:1,E=t.tickSize||u,_=ke(t.tickCoord)?t.tickCoord:t.coordinate;switch(c){case"top":p=m=t.coordinate,x=r+ +!d*s,y=x-P*E,A=y-P*h,S=_;break;case"left":y=x=t.coordinate,m=n+ +!d*i,p=m-P*E,S=p-P*h,A=_;break;case"right":y=x=t.coordinate,m=n+ +d*i,p=m+P*E,S=p+P*h,A=_;break;default:p=m=t.coordinate,x=r+ +d*s,y=x+P*E,A=y+P*h,S=_;break}return{line:{x1:p,y1:y,x2:m,y2:x},tick:{x:S,y:A}}}getTickTextAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":return n?"start":"end";case"right":return n?"end":"start";default:return"middle"}}getTickVerticalAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:t,y:n,width:r,height:i,orientation:s,mirror:c,axisLine:u}=this.props,d=Xt(Xt(Xt({},Ht(this.props,!1)),Ht(u,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var h=+(s==="top"&&!c||s==="bottom"&&c);d=Xt(Xt({},d),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var p=+(s==="left"&&!c||s==="right"&&c);d=Xt(Xt({},d),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return C.createElement("line",zs({},d,{className:st("recharts-cartesian-axis-line",$o(u,"className"))}))}static renderTickItem(t,n,r){var i,s=st(n.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(t))i=C.cloneElement(t,Xt(Xt({},n),{},{className:s}));else if(typeof t=="function")i=t(Xt(Xt({},n),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=st(c,t.className)),i=C.createElement(Lh,zs({},n,{className:c}),r)}return i}renderTicks(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:c,tickFormatter:u,unit:d,padding:h,tickTextProps:p}=this.props,m=Wb(Xt(Xt({},this.props),{},{ticks:r}),t,n),y=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),S=Fo(this.props),A=Ht(c,!1),P=Xt(Xt({},S),{},{fill:"none"},Ht(i,!1)),E=m.map((_,O)=>{var{line:j,tick:k}=this.getTickLineCoord(_),D=Xt(Xt(Xt(Xt({textAnchor:y,verticalAnchor:x},S),{},{stroke:"none",fill:s},A),k),{},{index:O,payload:_,visibleTicksCount:m.length,tickFormatter:u,padding:h},p);return C.createElement(Kn,zs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},au(this.props,_,O)),i&&C.createElement("line",zs({},P,j,{className:st("recharts-cartesian-axis-tick-line",$o(i,"className"))})),c&&Fi.renderTickItem(c,D,"".concat(typeof u=="function"?u(_.value,O):_.value).concat(d||"")))});return E.length>0?C.createElement("g",{className:"recharts-cartesian-axis-ticks"},E):null}render(){var{axisLine:t,width:n,height:r,className:i,hide:s}=this.props;if(s)return null;var{ticks:c}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:C.createElement(Kn,{className:st("recharts-cartesian-axis",i),ref:u=>{if(u){var d=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(d);var h=d[0];if(h){var p=window.getComputedStyle(h).fontSize,m=window.getComputedStyle(h).letterSpacing;(p!==this.state.fontSize||m!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(h).fontSize,letterSpacing:window.getComputedStyle(h).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,c),C.createElement(n7,{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height},C.createElement(d7,{label:this.props.label}),this.props.children))}}Qb(Fi,"displayName","CartesianAxis");Qb(Fi,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var UH=["x1","y1","x2","y2","key"],zH=["offset"],GH=["xAxisId","yAxisId"],HH=["xAxisId","yAxisId"];function Ew(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(n),!0).forEach(function(r){qH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ew(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qH(e,t,n){return(t=YH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YH(e){var t=FH(e,"string");return typeof t=="symbol"?t:t+""}function FH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},No.apply(null,arguments)}function Zd(e,t){if(e==null)return{};var n,r,i=KH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var VH=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:c,ry:u}=e;return C.createElement("rect",{x:r,y:i,ry:u,width:s,height:c,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function fk(e,t){var n;if(C.isValidElement(e))n=C.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:s,y2:c,key:u}=t,d=Zd(t,UH),h=Fo(d),{offset:p}=h,m=Zd(h,zH);n=C.createElement("line",No({},m,{x1:r,y1:i,x2:s,y2:c,fill:"none",key:u}))}return n}function XH(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=e,u=Zd(e,GH),d=i.map((h,p)=>{var m=_n(_n({},u),{},{x1:t,y1:h,x2:t+n,y2:h,key:"line-".concat(p),index:p});return fk(r,m)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function WH(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=e,u=Zd(e,HH),d=i.map((h,p)=>{var m=_n(_n({},u),{},{x1:h,y1:t,x2:h,y2:t+n,key:"line-".concat(p),index:p});return fk(r,m)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function QH(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:s,height:c,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var h=u.map(m=>Math.round(m+i-i)).sort((m,y)=>m-y);i!==h[0]&&h.unshift(0);var p=h.map((m,y)=>{var x=!h[y+1],S=x?i+c-m:h[y+1]-m;if(S<=0)return null;var A=y%t.length;return C.createElement("rect",{key:"react-".concat(y),y:m,x:r,height:S,width:s,stroke:"none",fill:t[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function ZH(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:c,height:u,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var h=d.map(m=>Math.round(m+i-i)).sort((m,y)=>m-y);i!==h[0]&&h.unshift(0);var p=h.map((m,y)=>{var x=!h[y+1],S=x?i+c-m:h[y+1]-m;if(S<=0)return null;var A=y%n.length;return C.createElement("rect",{key:"react-".concat(y),x:m,y:s,width:S,height:u,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var JH=(e,t)=>{var{xAxis:n,width:r,height:i,offset:s}=e;return sO(Wb(_n(_n(_n({},Fi.defaultProps),n),{},{ticks:lO(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,t)},eq=(e,t)=>{var{yAxis:n,width:r,height:i,offset:s}=e;return sO(Wb(_n(_n(_n({},Fi.defaultProps),n),{},{ticks:lO(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,t)},tq={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function dk(e){var t=O0(),n=T0(),r=dO(),i=_n(_n({},Mr(e,tq)),{},{x:ke(e.x)?e.x:r.left,y:ke(e.y)?e.y:r.top,width:ke(e.width)?e.width:r.width,height:ke(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:c,x:u,y:d,width:h,height:p,syncWithTicks:m,horizontalValues:y,verticalValues:x}=i,S=Nr(),A=Te(z=>CE(z,"xAxis",s,S)),P=Te(z=>CE(z,"yAxis",c,S));if(!ke(h)||h<=0||!ke(p)||p<=0||!ke(u)||u!==+u||!ke(d)||d!==+d)return null;var E=i.verticalCoordinatesGenerator||JH,_=i.horizontalCoordinatesGenerator||eq,{horizontalPoints:O,verticalPoints:j}=i;if((!O||!O.length)&&typeof _=="function"){var k=y&&y.length,D=_({yAxis:P?_n(_n({},P),{},{ticks:k?y:P.ticks}):void 0,width:t,height:n,offset:r},k?!0:m);Gc(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(O=D)}if((!j||!j.length)&&typeof E=="function"){var N=x&&x.length,M=E({xAxis:A?_n(_n({},A),{},{ticks:N?x:A.ticks}):void 0,width:t,height:n,offset:r},N?!0:m);Gc(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(j=M)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(VH,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),C.createElement(QH,No({},i,{horizontalPoints:O})),C.createElement(ZH,No({},i,{verticalPoints:j})),C.createElement(XH,No({},i,{offset:r,horizontalPoints:O,xAxis:A,yAxis:P})),C.createElement(WH,No({},i,{offset:r,verticalPoints:j,xAxis:A,yAxis:P})))}dk.displayName="CartesianGrid";var nq=["children"],rq=["dangerouslySetInnerHTML","ticks"],aq=["id"];function hk(e,t,n){return(t=iq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iq(e){var t=oq(e,"string");return typeof t=="symbol"?t:t+""}function oq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hv.apply(null,arguments)}function qv(e,t){if(e==null)return{};var n,r,i=sq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function lq(e){var t=Tt(),n=C.useMemo(()=>{var{children:r}=e,i=qv(e,nq);return i},[e]);return C.useEffect(()=>(t(X9(n)),()=>{t(W9(n))}),[n,t]),e.children}var cq=e=>{var{xAxisId:t,className:n}=e,r=Te(w0),i=Nr(),s="xAxis",c=Te(P=>pl(P,s,t,i)),u=Te(P=>aD(P,s,t,i)),d=Te(P=>eD(P,t)),h=Te(P=>T6(P,t)),p=Te(P=>kT(P,t));if(d==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:m,ticks:y}=e,x=qv(e,rq),{id:S}=p,A=qv(p,aq);return C.createElement(Fi,Hv({},x,A,{scale:c,x:h.x,y:h.y,width:d.width,height:d.height,className:st("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:u}))},uq=e=>{var t,n,r,i,s;return C.createElement(lq,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter},C.createElement(cq,e))};class Zb extends C.Component{render(){return C.createElement(uq,this.props)}}hk(Zb,"displayName","XAxis");hk(Zb,"defaultProps",{allowDataOverflow:ar.allowDataOverflow,allowDecimals:ar.allowDecimals,allowDuplicatedCategory:ar.allowDuplicatedCategory,height:ar.height,hide:!1,mirror:ar.mirror,orientation:ar.orientation,padding:ar.padding,reversed:ar.reversed,scale:ar.scale,tickCount:ar.tickCount,type:ar.type,xAxisId:0});var fq=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=e,c=0;if(t){t.forEach(p=>{if(p){var m=p.getBoundingClientRect();m.width>c&&(c=m.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+s,h=c+d+u+(n?r:0);return Math.round(h)}return 0},dq=["dangerouslySetInnerHTML","ticks"],hq=["id"];function pk(e,t,n){return(t=pq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pq(e){var t=mq(e,"string");return typeof t=="symbol"?t:t+""}function mq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yv.apply(null,arguments)}function ww(e,t){if(e==null)return{};var n,r,i=gq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yq(e){var t=Tt();return C.useEffect(()=>(t(Q9(e)),()=>{t(Z9(e))}),[e,t]),null}var vq=e=>{var t,{yAxisId:n,className:r,width:i,label:s}=e,c=C.useRef(null),u=C.useRef(null),d=Te(w0),h=Nr(),p=Tt(),m="yAxis",y=Te(D=>pl(D,m,n,h)),x=Te(D=>tD(D,n)),S=Te(D=>D6(D,n)),A=Te(D=>aD(D,m,n,h)),P=Te(D=>jT(D,n));if(C.useLayoutEffect(()=>{var D;if(!(i!=="auto"||!x||Bb(s)||C.isValidElement(s)||P==null)){var N=c.current,M=N==null||(D=N.tickRefs)===null||D===void 0?void 0:D.current,{tickSize:z,tickMargin:re}=N.props,W=fq({ticks:M,label:u.current,labelGapWithTick:5,tickSize:z,tickMargin:re});Math.round(x.width)!==Math.round(W)&&p(J9({id:n,width:W}))}},[c,c==null||(t=c.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,x?.width,x,p,s,n,i]),x==null||S==null||P==null)return null;var{dangerouslySetInnerHTML:E,ticks:_}=e,O=ww(e,dq),{id:j}=P,k=ww(P,hq);return C.createElement(Fi,Yv({},O,k,{ref:c,labelRef:u,scale:y,x:S.x,y:S.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:x.width,height:x.height,className:st("recharts-".concat(m," ").concat(m),r),viewBox:d,ticks:A}))},bq=e=>{var t,n,r,i,s;return C.createElement(C.Fragment,null,C.createElement(yq,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter}),C.createElement(vq,e))},xq={allowDataOverflow:ir.allowDataOverflow,allowDecimals:ir.allowDecimals,allowDuplicatedCategory:ir.allowDuplicatedCategory,hide:!1,mirror:ir.mirror,orientation:ir.orientation,padding:ir.padding,reversed:ir.reversed,scale:ir.scale,tickCount:ir.tickCount,type:ir.type,width:ir.width,yAxisId:0};class Jb extends C.Component{render(){return C.createElement(bq,this.props)}}pk(Jb,"displayName","YAxis");pk(Jb,"defaultProps",xq);var Uy={exports:{}},zy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function Sq(){if(_w)return zy;_w=1;var e=al();function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,c=e.useMemo,u=e.useDebugValue;return zy.useSyncExternalStoreWithSelector=function(d,h,p,m,y){var x=i(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=c(function(){function P(k){if(!E){if(E=!0,_=k,k=m(k),y!==void 0&&S.hasValue){var D=S.value;if(y(D,k))return O=D}return O=k}if(D=O,n(_,k))return D;var N=m(k);return y!==void 0&&y(D,N)?(_=k,D):(_=k,O=N)}var E=!1,_,O,j=p===void 0?null:p;return[function(){return P(h())},j===null?void 0:function(){return P(j())}]},[h,p,m,y]);var A=r(d,x[0],x[1]);return s(function(){S.hasValue=!0,S.value=A},[A]),u(A),A},zy}var Ow;function Aq(){return Ow||(Ow=1,Uy.exports=Sq()),Uy.exports}Aq();function Cq(e){e()}function Pq(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Cq(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Tw={notify(){},get:()=>[]};function Eq(e,t){let n,r=Tw,i=0,s=!1;function c(A){p();const P=r.subscribe(A);let E=!1;return()=>{E||(E=!0,P(),m())}}function u(){r.notify()}function d(){S.onStateChange&&S.onStateChange()}function h(){return s}function p(){i++,n||(n=e.subscribe(d),r=Pq())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Tw)}function y(){s||(s=!0,p())}function x(){s&&(s=!1,m())}const S={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:h,trySubscribe:y,tryUnsubscribe:x,getListeners:()=>r};return S}var wq=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_q=wq(),Oq=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Tq=Oq(),Dq=()=>_q||Tq?C.useLayoutEffect:C.useEffect,kq=Dq(),jq=Symbol.for("react-redux-context"),Nq=typeof globalThis<"u"?globalThis:{};function Mq(){if(!C.createContext)return{};const e=Nq[jq]??=new Map;let t=e.get(C.createContext);return t||(t=C.createContext(null),e.set(C.createContext,t)),t}var Rq=Mq();function Iq(e){const{children:t,context:n,serverState:r,store:i}=e,s=C.useMemo(()=>{const d=Eq(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),c=C.useMemo(()=>i.getState(),[i]);kq(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),c!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,c]);const u=n||Rq;return C.createElement(u.Provider,{value:s},t)}var Lq=Iq,$q=(e,t)=>t,ex=J([$q,Ze,OT,Zt,bD,ei,MU,Wt],BU),tx=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},mk=kr("mouseClick"),gk=ou();gk.startListening({actionCreator:mk,effect:(e,t)=>{var n=e.payload,r=ex(t.getState(),tx(n));r?.activeIndex!=null&&t.dispatch(H6({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Fv=kr("mouseMove"),yk=ou();yk.startListening({actionCreator:Fv,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Db(r,r.tooltip.settings.shared),s=ex(r,tx(n));i==="axis"&&(s?.activeIndex!=null?t.dispatch(dD({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(fD()))}});function Bq(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var Dw={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},vk=dr({name:"rootProps",initialState:Dw,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:Dw.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Uq=vk.reducer,{updateOptions:zq}=vk.actions,bk=dr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Gq}=bk.actions,Hq=bk.reducer,xk=kr("keyDown"),Sk=kr("focus"),nx=ou();nx.startListening({actionCreator:xk,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=Number(kb(i,gl(n))),u=ei(n);if(s==="Enter"){var d=Fd(n,"axis","hover",String(i.index));t.dispatch(Lv({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=M6(n),p=h==="left-to-right"?1:-1,m=s==="ArrowRight"?1:-1,y=c+m*p;if(!(u==null||y>=u.length||y<0)){var x=Fd(n,"axis","hover",String(y));t.dispatch(Lv({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});nx.startListening({actionCreator:Sk,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",c=Fd(n,"axis","hover",String(s));t.dispatch(Lv({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:c}))}}}});var _r=kr("externalEvent"),Ak=ou();Ak.startListening({actionCreator:_r,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:EU(n),activeDataKey:CD(n),activeIndex:Go(n),activeLabel:AD(n),activeTooltipIndex:Go(n),isTooltipActive:wU(n)};e.payload.handler(r,e.payload.reactEvent)}}});var qq=J([ml],e=>e.tooltipItemPayloads),Yq=J([qq,yu,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var c=t(s,n);return c}}}),Ck=kr("touchMove"),Pk=ou();Pk.startListening({actionCreator:Ck,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Db(r,r.tooltip.settings.shared);if(i==="axis"){var s=ex(r,tx({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&t.dispatch(dD({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var c,u=n.touches[0],d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(uO),p=(c=d.getAttribute(fO))!==null&&c!==void 0?c:void 0,m=Yq(t.getState(),h,p);t.dispatch(uD({activeDataKey:p,activeIndex:h,activeCoordinate:m}))}}});var Fq=I_({brush:gH,cartesianAxis:eG,chartData:tz,errorBars:pG,graphicalItems:v9,layout:L3,legend:_L,options:WU,polarAxis:M7,polarOptions:Hq,referenceElements:CH,rootProps:Uq,tooltip:q6}),Kq=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return l3({reducer:Fq,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([gk.middleware,yk.middleware,nx.middleware,Ak.middleware,Pk.middleware]),devTools:!!window.RECHARTS_DEV_TOOLS_ENABLED&&{serialize:{replacer:Bq},name:"recharts-".concat(n)}})};function Ek(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Nr(),s=C.useRef(null);if(i)return n;s.current==null&&(s.current=Kq(t,r));var c=b0;return C.createElement(Lq,{context:c,store:s.current},n)}function wk(e){var{layout:t,width:n,height:r,margin:i}=e,s=Tt(),c=Nr();return C.useEffect(()=>{c||(s(M3(t)),s(R3({width:n,height:r})),s(N3(i)))},[s,c,t,n,r,i]),null}function _k(e){var t=Tt();return C.useEffect(()=>{t(zq(e))},[t,e]),null}var Vq=["children"];function Xq(e,t){if(e==null)return{};var n,r,i=Wq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jd.apply(null,arguments)}var Qq={width:"100%",height:"100%"},Zq=C.forwardRef((e,t)=>{var n=O0(),r=T0(),i=gO();if(!Ws(n)||!Ws(r))return null;var{children:s,otherAttributes:c,title:u,desc:d}=e,h,p;return typeof c.tabIndex=="number"?h=c.tabIndex:h=i?0:void 0,typeof c.role=="string"?p=c.role:p=i?"application":void 0,C.createElement(u0,Jd({},c,{title:u,desc:d,role:p,tabIndex:h,width:n,height:r,style:Qq,ref:t}),s)}),Jq=e=>{var{children:t}=e,n=Te(vh);if(!n)return null;var{width:r,height:i,y:s,x:c}=n;return C.createElement(u0,{width:r,height:i,x:c,y:s},t)},kw=C.forwardRef((e,t)=>{var{children:n}=e,r=Xq(e,Vq),i=Nr();return i?C.createElement(Jq,null,n):C.createElement(Zq,Jd({ref:t},r),n)});function eY(){var e=Tt(),[t,n]=C.useState(null),r=Te(dL);return C.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;fr(s)&&s!==r&&e(I3(s))}},[t,e,r]),n}function jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(n),!0).forEach(function(r){nY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nY(e,t,n){return(t=rY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rY(e){var t=aY(e,"string");return typeof t=="symbol"?t:t+""}function aY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iY=C.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:c,onDoubleClick:u,onMouseDown:d,onMouseEnter:h,onMouseLeave:p,onMouseMove:m,onMouseUp:y,onTouchEnd:x,onTouchMove:S,onTouchStart:A,style:P,width:E}=e,_=Tt(),[O,j]=C.useState(null),[k,D]=C.useState(null);uz();var N=eY(),M=C.useCallback(V=>{N(V),typeof t=="function"&&t(V),j(V),D(V)},[N,t,j,D]),z=C.useCallback(V=>{_(mk(V)),_(_r({handler:s,reactEvent:V}))},[_,s]),re=C.useCallback(V=>{_(Fv(V)),_(_r({handler:h,reactEvent:V}))},[_,h]),W=C.useCallback(V=>{_(fD()),_(_r({handler:p,reactEvent:V}))},[_,p]),ee=C.useCallback(V=>{_(Fv(V)),_(_r({handler:m,reactEvent:V}))},[_,m]),pe=C.useCallback(()=>{_(Sk())},[_]),de=C.useCallback(V=>{_(xk(V.key))},[_]),ie=C.useCallback(V=>{_(_r({handler:c,reactEvent:V}))},[_,c]),U=C.useCallback(V=>{_(_r({handler:u,reactEvent:V}))},[_,u]),ae=C.useCallback(V=>{_(_r({handler:d,reactEvent:V}))},[_,d]),ge=C.useCallback(V=>{_(_r({handler:y,reactEvent:V}))},[_,y]),me=C.useCallback(V=>{_(_r({handler:A,reactEvent:V}))},[_,A]),L=C.useCallback(V=>{_(Ck(V)),_(_r({handler:S,reactEvent:V}))},[_,S]),Q=C.useCallback(V=>{_(_r({handler:x,reactEvent:V}))},[_,x]);return C.createElement(TD.Provider,{value:O},C.createElement(r_.Provider,{value:k},C.createElement("div",{className:st("recharts-wrapper",r),style:tY({position:"relative",cursor:"default",width:E,height:i},P),onClick:z,onContextMenu:ie,onDoubleClick:U,onFocus:pe,onKeyDown:de,onMouseDown:ae,onMouseEnter:re,onMouseLeave:W,onMouseMove:ee,onMouseUp:ge,onTouchEnd:Q,onTouchMove:L,onTouchStart:me,ref:M},n)))}),oY=["children","className","width","height","style","compact","title","desc"];function sY(e,t){if(e==null)return{};var n,r,i=lY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ok=C.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:s,style:c,compact:u,title:d,desc:h}=e,p=sY(e,oY),m=Fo(p);return u?C.createElement(kw,{otherAttributes:m,title:d,desc:h},n):C.createElement(iY,{className:r,style:c,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},C.createElement(kw,{otherAttributes:m,title:d,desc:h,ref:t},C.createElement(EH,null,n)))}),cY=["width","height"];function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kv.apply(null,arguments)}function uY(e,t){if(e==null)return{};var n,r,i=fY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var dY={top:5,right:5,bottom:5,left:5},hY={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:dY,reverseStackOrder:!1,syncMethod:"index"},pY=C.forwardRef(function(t,n){var r,i=Mr(t.categoricalChartProps,hY),{width:s,height:c}=i,u=uY(i,cY);if(!Ws(s)||!Ws(c))return null;var{chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:m,categoricalChartProps:y}=t,x={chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:m,eventEmitter:void 0};return C.createElement(Ek,{preloadedState:{options:x},reduxStoreName:(r=y.id)!==null&&r!==void 0?r:d},C.createElement(sk,{chartData:y.data}),C.createElement(wk,{width:s,height:c,layout:i.layout,margin:i.margin}),C.createElement(_k,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),C.createElement(Ok,Kv({},u,{width:s,height:c,ref:n})))}),mY=["axis","item"],gY=C.forwardRef((e,t)=>C.createElement(pY,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mY,tooltipPayloadSearcher:DD,categoricalChartProps:e,ref:t}));function yY(e){var t=Tt();return C.useEffect(()=>{t(Gq(e))},[t,e]),null}var vY=["width","height","layout"];function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vv.apply(null,arguments)}function bY(e,t){if(e==null)return{};var n,r,i=xY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var SY={top:5,right:5,bottom:5,left:5},AY={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:SY,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},CY=C.forwardRef(function(t,n){var r,i=Mr(t.categoricalChartProps,AY),{width:s,height:c,layout:u}=i,d=bY(i,vY);if(!Ws(s)||!Ws(c))return null;var{chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:m,tooltipPayloadSearcher:y}=t,x={chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:m,tooltipPayloadSearcher:y,eventEmitter:void 0};return C.createElement(Ek,{preloadedState:{options:x},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:h},C.createElement(sk,{chartData:i.data}),C.createElement(wk,{width:s,height:c,layout:u,margin:i.margin}),C.createElement(_k,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),C.createElement(yY,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),C.createElement(Ok,Vv({width:s,height:c},d,{ref:n})))}),PY=["item"],EY={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Nw=C.forwardRef((e,t)=>{var n=Mr(e,EY);return C.createElement(CY,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:PY,tooltipPayloadSearcher:DD,categoricalChartProps:n,ref:t})});const wY=({card:e,onClose:t})=>e?v.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:t,children:v.jsx("div",{className:"w-52 h-72 rounded-lg p-1 bg-purple-800/80 transform scale-150",onClick:n=>n.stopPropagation(),children:v.jsxs("div",{className:"w-full h-full bg-slate-900 flex flex-col font-orbitron text-purple-300 overflow-hidden rounded-md",children:[v.jsxs("div",{className:"text-center py-1 px-2 bg-purple-900/50 flex justify-between items-center",children:[v.jsx("span",{className:"font-bold text-sm uppercase tracking-wider truncate",children:e.name}),v.jsxs("div",{className:"flex items-center bg-slate-800/70 px-2 py-0.5 rounded-full",children:[v.jsx(qc,{size:12,className:"text-yellow-300"}),v.jsx("span",{className:"text-white font-bold text-sm ml-1",children:e.cost})]})]}),v.jsx("div",{className:"p-1",children:v.jsxs("div",{className:"relative h-24",children:[v.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover rounded"}),v.jsx("div",{className:"absolute inset-0 border border-purple-400/50 rounded"})]})}),v.jsx("div",{className:"flex-grow mx-2 my-1 bg-black/50 border border-purple-800/70 p-2 flex flex-col min-h-0",children:v.jsx("div",{className:"flex-grow relative font-exo font-normal text-purple-200",children:v.jsx("p",{className:"text-sm leading-tight text-center",children:e.description})})}),v.jsxs("div",{className:"text-center text-xs py-1 bg-purple-900/50 uppercase font-semibold tracking-widest",children:[e.type," Card"]})]})})}):null,_Y=({selectedDrones:e,fullCardCollection:t,deck:n,onDeckChange:r,onConfirmDeck:i,onImportDeck:s})=>{const[c,u]=C.useState(null),[d,h]=C.useState(!1),[p,m]=C.useState(!1),[y,x]=C.useState({cost:{min:0,max:99},target:"all",type:"all",abilities:[],hideEnhanced:!1}),[S,A]=C.useState(!1),P=C.useRef(null),[E,_]=C.useState({key:"name",direction:"ascending"}),[O,j]=C.useState("cost"),[k,D]=C.useState(!0),N=C.useMemo(()=>{const q=se=>se?se.replace(/_/g," ").toLowerCase().split(" ").map(ye=>ye.charAt(0).toUpperCase()+ye.slice(1)).join(" "):"";return t.map(se=>{const Se=[],ye=se.effect;if(ye.type==="REPEATING_EFFECT")Se.push(q(ye.type)),ye.effects&&Array.isArray(ye.effects)&&ye.effects.forEach(te=>{te.type&&Se.push(q(te.type))});else if(ye.type==="MODIFY_DRONE_BASE"&&ye.mod){const te=ye.mod.stat,be=ye.mod.value;te==="attack"?Se.push(be>0?"Attack Buff":"Attack Debuff"):te==="speed"?Se.push(be>0?"Speed Buff":"Speed Debuff"):te==="shields"?Se.push(be>0?"Shield Buff":"Shield Debuff"):te==="cost"?Se.push(be<0?"Cost Reduction":"Cost Increase"):te==="limit"?Se.push(be>0?"Limit Buff":"Limit Debuff"):te==="ability"?(Se.push("Ability Grant"),ye.mod.abilityToAdd&&ye.mod.abilityToAdd.name&&Se.push(ye.mod.abilityToAdd.name)):Se.push(q(`${te} Modification`))}else if(ye.type==="MODIFY_STAT"&&ye.mod){const te=ye.mod.stat,be=ye.mod.value;ye.mod.type,te==="attack"?Se.push(be>0?"Attack Buff":"Attack Debuff"):te==="speed"?Se.push(be>0?"Speed Buff":"Speed Debuff"):te==="shields"?Se.push(be>0?"Shield Buff":"Shield Debuff"):Se.push(be>0?`${te} Buff`:`${te} Debuff`)}else ye.type==="SEARCH_AND_DRAW"?(Se.push(q(ye.type)),Se.push("Draw")):ye.type&&Se.push(q(ye.type));ye.goAgain&&Se.push("Go Again"),ye.damageType==="PIERCING"&&Se.push("Piercing"),ye.mod?.type&&Se.push(q(ye.mod.type));const le=(()=>{if(se.targeting){const te=q(se.targeting.type);if(se.targeting.affinity){const be=se.targeting.affinity.charAt(0)+se.targeting.affinity.slice(1).toLowerCase();return`${te} (${be})`}return te}else if(ye.type==="MULTI_MOVE"&&ye.source){const te=ye.source.location||"Any",be=ye.source.affinity||"Any",he=be.charAt(0).toUpperCase()+be.slice(1).toLowerCase();return`${q(te)} (${he})`}else if(ye.type==="SINGLE_MOVE")return"Drone (Friendly)";return"N/A"})();return{...se,keywords:Se,targetingText:le}})},[t]),M=C.useMemo(()=>{const q=new Set,se=new Set,Se=new Set;N.forEach(le=>{q.add(le.cost),se.add(le.targetingText),le.keywords.forEach(te=>Se.add(te))});const ye=Array.from(q);return{minCost:Math.min(...ye),maxCost:Math.max(...ye),targets:["all",...Array.from(se).sort()],abilities:Array.from(Se).sort()}},[N]);C.useEffect(()=>{M.minCost!==1/0&&M.maxCost!==-1/0&&x(q=>({...q,cost:{min:M.minCost,max:M.maxCost}}))},[M.minCost,M.maxCost]);const{cardCount:z,deckListForDisplay:re,baseCardCounts:W}=C.useMemo(()=>{const q={};let se=0;Object.entries(n).forEach(([ye,le])=>{if(le>0){se+=le;const te=N.find(be=>be.id===ye);if(te){const be=te.baseCardId;q[be]=(q[be]||0)+le}}});const Se=Object.entries(n).filter(([,ye])=>ye>0).map(([ye,le])=>({...N.find(be=>be.id===ye),quantity:le})).sort((ye,le)=>ye.name.localeCompare(le.name));return{cardCount:se,deckListForDisplay:Se,baseCardCounts:q}},[n,N]),ee=z>=40,pe=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943","#A45D5D","#8C5DA4"],de=C.useMemo(()=>{const q={};re.forEach(le=>{const te=le.cost||0;q[te]=(q[te]||0)+le.quantity});const se=Object.entries(q).map(([le,te])=>({name:`${le}`,count:te})).sort((le,te)=>parseInt(le.name)-parseInt(te.name)),Se={};re.forEach(le=>{le.keywords&&le.keywords.forEach(te=>{Se[te]=(Se[te]||0)+le.quantity})});const ye=Object.entries(Se).map(([le,te])=>({name:le,value:te})).sort((le,te)=>te.value-le.value);return{barChartData:se,pieChartData:ye}},[re]),ie=C.useMemo(()=>{let q=[...N].filter(se=>se.cost<y.cost.min||se.cost>y.cost.max||y.target!=="all"&&se.targetingText!==y.target||y.type!=="all"&&se.type!==y.type?!1:y.abilities.length>0?y.abilities.every(Se=>se.keywords.includes(Se)):!(y.hideEnhanced&&se.id.endsWith("_ENHANCED")));return E.key!==null&&q.sort((se,Se)=>{const ye=se[E.key],le=Se[E.key];if(ye==null&&le==null)return 0;if(ye==null)return 1;if(le==null)return-1;const te=String(ye).toLowerCase(),be=String(le).toLowerCase();return te<be?E.direction==="ascending"?-1:1:te>be?E.direction==="ascending"?1:-1:se.id.localeCompare(Se.id)}),q},[N,y,E]),U=q=>{let se="ascending";E.key===q&&E.direction==="ascending"&&(se="descending"),_({key:q,direction:se})},ae=(q,se)=>{x(Se=>({...Se,[q]:se}))},ge=q=>{x(se=>{const Se=se.abilities.includes(q)?se.abilities.filter(ye=>ye!==q):[...se.abilities,q];return{...se,abilities:Se}})},me=()=>{x({cost:{min:M.minCost,max:M.maxCost},target:"all",type:"all",abilities:[],hideEnhanced:!1}),A(!1)},L=()=>{Object.keys(n).forEach(q=>{n[q]>0&&r(q,0)})};C.useEffect(()=>{const q=se=>{P.current&&!P.current.contains(se.target)&&A(!1)};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[]);const Q=Math.PI/180,V=({cx:q,cy:se,midAngle:Se,outerRadius:ye,fill:le,name:te,value:be})=>{const he=Math.sin(-Q*Se),Xe=Math.cos(-Q*Se),qe=q+(ye+5)*Xe,Jt=se+(ye+5)*he,Fe=q+(ye+15)*Xe,Be=se+(ye+15)*he,da=Fe+(Xe>=0?1:-1)*12,ti=Be,ni=Xe>=0?"start":"end";return v.jsxs("g",{children:[v.jsx("path",{d:`M${qe},${Jt}L${Fe},${Be}L${da},${ti}`,stroke:le,fill:"none"}),v.jsx("circle",{cx:da,cy:ti,r:2,fill:le,stroke:"none"}),v.jsx("text",{x:da+(Xe>=0?1:-1)*8,y:ti,dy:4,textAnchor:ni,fill:"#9CA3AF",fontSize:"11px",children:`${te} (${be})`})]})},ue=()=>{const[q,se]=C.useState(""),Se=C.useRef(null),ye=C.useMemo(()=>Object.entries(n).map(([te,be])=>`${te}:${be}`).join(","),[n]),le=()=>{Se.current.select(),document.execCommand("copy"),se("Copied!"),setTimeout(()=>se(""),2e3)};return v.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:()=>h(!1),children:v.jsxs("div",{className:"bg-gray-900 rounded-2xl border-2 border-purple-500 p-8 w-full max-w-2xl",onClick:te=>te.stopPropagation(),children:[v.jsx("h2",{className:"text-xl font-orbitron mb-4",children:"Export Deck Code"})," ",v.jsx("p",{className:"text-gray-400 mb-4",children:"Copy the code below to save or share your deck."}),v.jsx("textarea",{ref:Se,readOnly:!0,value:ye,className:"w-full h-32 p-2 bg-gray-800 border border-gray-600 rounded text-gray-300 font-mono"}),v.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[v.jsx("span",{className:"text-green-400 self-center",children:q}),v.jsxs("button",{onClick:le,className:"flex items-center gap-2 bg-cyan-600 text-white font-bold py-2 px-4 rounded hover:bg-cyan-700",children:[v.jsx(Gw,{size:16})," Copy to Clipboard"]}),v.jsxs("button",{onClick:()=>h(!1),className:"flex items-center gap-2 bg-pink-600 text-white font-bold py-2 px-4 rounded hover:bg-pink-700",children:[v.jsx(il,{size:16})," Close"]})]})]})})},xe=()=>{const[q,se]=C.useState(""),[Se,ye]=C.useState(""),le=()=>{ye("");const te=s(q);te.success?m(!1):ye(te.message||"Invalid deck code format.")};return v.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:()=>m(!1),children:v.jsxs("div",{className:"bg-gray-900 rounded-2xl border-2 border-purple-500 p-8 w-full max-w-2xl",onClick:te=>te.stopPropagation(),children:[v.jsx("h2",{className:"text-xl font-orbitron mb-4",children:"Import Deck Code"}),v.jsx("p",{className:"text-gray-400 mb-4",children:"Paste a deck code below to load it into the builder."}),v.jsx("textarea",{value:q,onChange:te=>se(te.target.value),className:"w-full h-32 p-2 bg-gray-800 border border-gray-600 rounded text-gray-300 font-mono",placeholder:"CARD001:4,CARD002:2,..."}),Se&&v.jsx("p",{className:"text-red-500 mt-2",children:Se}),v.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[v.jsx("button",{onClick:()=>m(!1),className:"bg-gray-600 text-white font-bold py-2 px-4 rounded hover:bg-gray-700",children:"Cancel"}),v.jsx("button",{onClick:le,className:"bg-purple-600 text-white font-bold py-2 px-4 rounded hover:bg-purple-700",children:"Load Deck"})]})]})})};return v.jsxs("div",{className:"w-full h-full flex flex-col text-white font-exo mt-8 text-sm",children:[c&&v.jsx(wY,{card:c,onClose:()=>u(null)}),d&&v.jsx(ue,{}),p&&v.jsx(xe,{}),v.jsxs("div",{className:"flex justify-center items-center mb-4",children:[v.jsx("h1",{className:"text-3xl font-orbitron font-bold text-center text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500",children:"Deck Builder"}),v.jsxs("div",{className:"flex gap-4 ml-8",children:[v.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 bg-slate-700 text-white font-bold py-2 px-4 rounded hover:bg-slate-600",children:[v.jsx(zN,{size:16})," Import"]}),v.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-slate-700 text-white font-bold py-2 px-4 rounded hover:bg-slate-600",children:[v.jsx(SN,{size:16})," Export"]})]})]}),v.jsxs("div",{className:"flex-grow flex gap-6 min-h-0",children:[v.jsxs("div",{className:"w-2/3 flex flex-col bg-slate-900/50 rounded-lg p-4 border border-gray-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h2",{className:"text-xl font-orbitron",children:"Available Cards"}),v.jsx("button",{onClick:me,className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg transition-colors text-sm",children:"Reset Filters"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[v.jsxs("div",{className:"filter-select flex flex-col justify-center",children:[v.jsxs("label",{className:"text-center text-gray-400 mb-1",children:["Cost Range: ",y.cost.min," - ",y.cost.max]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"range",min:M.minCost,max:M.maxCost,value:y.cost.min,onChange:q=>ae("cost",{...y.cost,min:Math.min(parseInt(q.target.value),y.cost.max)}),className:"w-1/2"}),v.jsx("input",{type:"range",min:M.minCost,max:M.maxCost,value:y.cost.max,onChange:q=>ae("cost",{...y.cost,max:Math.max(parseInt(q.target.value),y.cost.min)}),className:"w-1/2"})]})]}),v.jsxs("div",{className:"relative",ref:P,children:[v.jsx("button",{onClick:()=>A(!S),className:"filter-select w-full text-left h-full",children:y.abilities.length===0?"Select Abilities":`${y.abilities.length} Abilities Selected`}),S&&v.jsx("div",{className:"absolute top-full left-0 right-0 bg-slate-800 border border-gray-600 mt-1 rounded-md z-10 max-h-60 overflow-y-auto",children:M.abilities.map(q=>v.jsxs("label",{className:"flex items-center p-2 hover:bg-slate-700 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:y.abilities.includes(q),onChange:()=>ge(q),className:"mr-2"}),q]},q))})]}),v.jsxs("select",{onChange:q=>ae("type",q.target.value),value:y.type,className:"filter-select h-full",children:[v.jsx("option",{value:"all",children:"All Types"}),v.jsx("option",{value:"Action",children:"Action Cards"}),v.jsx("option",{value:"Upgrade",children:"Upgrade Cards"})]}),v.jsx("div",{className:"filter-select flex items-center justify-center h-full",children:v.jsxs("label",{className:"flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:y.hideEnhanced,onChange:q=>ae("hideEnhanced",q.target.checked),className:"mr-2"}),v.jsx("span",{className:"text-gray-300",children:"Hide Enhanced Cards"})]})})]}),v.jsx("div",{className:"flex-grow overflow-y-auto pr-2",children:v.jsxs("table",{className:"w-full text-left deck-builder-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Info"}),v.jsx("th",{children:v.jsxs("button",{onClick:()=>U("name"),className:`w-full text-left transition-colors underline cursor-pointer ${E.key==="name"?"text-cyan-400":"hover:text-cyan-400"}`,children:["Name",E.key==="name"&&(E.direction==="ascending"?" ":" ")]})}),v.jsx("th",{children:v.jsxs("button",{onClick:()=>U("type"),className:`w-full text-left transition-colors underline cursor-pointer ${E.key==="type"?"text-cyan-400":"hover:text-cyan-400"}`,children:["Type",E.key==="type"&&(E.direction==="ascending"?" ":" ")]})}),v.jsx("th",{children:v.jsxs("button",{onClick:()=>U("cost"),className:`w-full text-left transition-colors underline cursor-pointer ${E.key==="cost"?"text-cyan-400":"hover:text-cyan-400"}`,children:["Cost",E.key==="cost"&&(E.direction==="ascending"?" ":" ")]})}),v.jsx("th",{children:v.jsxs("button",{onClick:()=>U("description"),className:`w-full text-left transition-colors underline cursor-pointer ${E.key==="description"?"text-cyan-400":"hover:text-cyan-400"}`,children:["Description",E.key==="description"&&(E.direction==="ascending"?" ":" ")]})}),v.jsx("th",{children:"Abilities"}),v.jsx("th",{children:"Targeting"}),v.jsx("th",{children:"Quantity"})]})}),v.jsx("tbody",{children:ie.map((q,se)=>{const Se=n[q.id]||0,ye=W[q.baseCardId]||0,le=q.maxInDeck;return v.jsxs("tr",{className:q.type==="Upgrade"?"bg-purple-900/10":"",children:[v.jsx("td",{children:v.jsx("button",{onClick:()=>u(q),className:"p-1 text-gray-400 hover:text-white",children:v.jsx(yA,{size:18})})}),v.jsx("td",{className:"font-bold",children:q.name}),v.jsx("td",{className:`font-semibold ${q.type==="Upgrade"?"text-purple-400":"text-cyan-400"}`,children:q.type}),v.jsx("td",{children:q.cost}),v.jsx("td",{className:"text-xs text-gray-400",children:q.description}),v.jsx("td",{children:v.jsx("div",{className:"flex flex-wrap gap-2",children:q.keywords.map(te=>v.jsx("span",{className:"ability-chip",children:te},te))})}),v.jsx("td",{className:"text-xs",children:q.targetingText==="N/A"?v.jsx("span",{className:"text-gray-500",children:"N/A"}):q.targetingText}),v.jsx("td",{children:v.jsx("div",{className:"quantity-buttons",children:Array.from({length:le+1}).map((te,be)=>{const he=be===Se,Xe=le-(ye-Se),qe=be>Xe;return v.jsx("button",{onClick:()=>r(q.id,be),className:`quantity-btn ${he?"selected":""}`,disabled:qe,children:be},be)})})})]},`${q.id}-${se}`)})})]})})]}),v.jsxs("div",{className:"w-1/3 flex flex-col bg-slate-900/50 rounded-lg p-4 border border-gray-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("h2",{className:`text-xl font-orbitron transition-colors ${ee?"text-green-400":"text-white"}`,children:["Your Deck (",z,"/40)"]}),v.jsx("button",{onClick:L,className:"bg-red-600 hover:bg-red-500 text-white font-bold py-2 px-4 rounded-lg transition-colors text-sm",children:"Reset Deck"})]}),v.jsx("div",{className:"flex-grow overflow-y-auto pr-2 deck-list",children:re.length>0?re.map(q=>{const se=W[q.baseCardId]>=q.maxInDeck;return v.jsxs("div",{className:"deck-list-item",children:[v.jsx("button",{onClick:()=>u(q),className:"p-1 text-gray-400 hover:text-white flex-shrink-0 mr-3",title:"View Card Details",children:v.jsx(yA,{size:18})}),v.jsx("span",{className:"flex-grow truncate",title:q.name,children:q.name}),v.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[v.jsx("button",{onClick:()=>r(q.id,q.quantity-1),className:"deck-edit-btn",children:"-"}),v.jsxs("span",{className:"font-bold w-8 text-center",children:["x ",q.quantity]}),v.jsx("button",{onClick:()=>r(q.id,q.quantity+1),disabled:se,className:"deck-edit-btn",children:"+"})]})]},q.id)}):v.jsx("p",{className:"text-gray-500 italic",children:"Your deck is empty. Add cards from the left."})}),z>0&&v.jsxs("div",{className:"mt-4 pt-4 border-t-2 border-slate-700",children:[v.jsxs("button",{onClick:()=>D(!k),className:"w-full flex justify-center items-center gap-2 text-lg font-orbitron mb-2 text-center text-cyan-300 hover:text-cyan-200 transition-colors",children:["Deck Statistics",v.jsx($c,{size:20,className:`transition-transform duration-300 ${k?"rotate-0":"rotate-180"}`})]}),v.jsxs("div",{className:`transition-all ease-in-out duration-500 overflow-hidden ${k?"max-h-[320px] opacity-100":"max-h-0 opacity-0"}`,children:[v.jsxs("div",{className:"flex justify-center gap-2 mb-2",children:[v.jsx("button",{onClick:()=>j("cost"),className:`px-3 py-1 text-xs font-bold rounded-full transition-colors ${O==="cost"?"bg-cyan-500 text-white":"bg-slate-700 text-gray-300 hover:bg-slate-600"}`,children:"Cost"}),v.jsx("button",{onClick:()=>j("type"),className:`px-3 py-1 text-xs font-bold rounded-full transition-colors ${O==="type"?"bg-cyan-500 text-white":"bg-slate-700 text-gray-300 hover:bg-slate-600"}`,children:"Type"}),v.jsx("button",{onClick:()=>j("ability"),className:`px-3 py-1 text-xs font-bold rounded-full transition-colors ${O==="ability"?"bg-cyan-500 text-white":"bg-slate-700 text-gray-300 hover:bg-slate-600"}`,children:"Abilities"})]}),v.jsxs("div",{className:"text-xs",style:{height:"280px"},children:[O==="cost"&&v.jsxs("div",{className:"w-full h-full flex flex-col items-center",children:[v.jsx("h4",{className:"font-semibold mb-1",children:"Card Cost Distribution"}),v.jsx(Dy,{width:"100%",height:"100%",children:v.jsxs(gY,{data:de.barChartData,margin:{top:5,right:20,left:-15,bottom:0},children:[v.jsx(dk,{strokeDasharray:"3 3",stroke:"#4A5568"}),v.jsx(Zb,{dataKey:"name",tick:{fill:"#A0AEC0"},interval:0}),v.jsx(Jb,{allowDecimals:!1,tick:{fill:"#A0AEC0"}}),v.jsx(Py,{cursor:{fill:"rgba(128, 90, 213, 0.2)"},contentStyle:{backgroundColor:"#1A202C",border:"1px solid #4A5568"}}),v.jsx(ik,{dataKey:"count",fill:"#8884d8",name:"Card Count"})]})})]}),O==="type"&&v.jsxs("div",{className:"w-full h-full flex flex-col items-center",children:[v.jsx("h4",{className:"font-semibold mb-1",children:"Card Type Distribution"}),v.jsx(Dy,{width:"100%",height:"100%",children:v.jsxs(Nw,{margin:{top:20,right:30,bottom:20,left:30},children:[v.jsx(zv,{data:[{name:"Action Cards",value:re.filter(q=>q.type==="Action").reduce((q,se)=>q+se.quantity,0),color:"#22d3ee"},{name:"Upgrade Cards",value:re.filter(q=>q.type==="Upgrade").reduce((q,se)=>q+se.quantity,0),color:"#c084fc"}].filter(q=>q.value>0),cx:"50%",cy:"50%",labelLine:!1,label:({name:q,value:se,percent:Se})=>`${q}: ${se} (${(Se*100).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[{name:"Action Cards",value:re.filter(q=>q.type==="Action").reduce((q,se)=>q+se.quantity,0),color:"#22d3ee"},{name:"Upgrade Cards",value:re.filter(q=>q.type==="Upgrade").reduce((q,se)=>q+se.quantity,0),color:"#c084fc"}].filter(q=>q.value>0).map((q,se)=>v.jsx(rl,{fill:q.color},`cell-${se}`))}),v.jsx(Py,{}),v.jsx(bh,{})]})})]}),O==="ability"&&v.jsxs("div",{className:"w-full h-full flex flex-col items-center",children:[v.jsx("h4",{className:"font-semibold mb-1",children:"Ability Breakdown"}),v.jsx(Dy,{width:"100%",height:"100%",children:v.jsxs(Nw,{margin:{top:20,right:30,bottom:20,left:30},children:[v.jsx(zv,{data:de.pieChartData,cx:"50%",cy:"50%",labelLine:!1,label:V,outerRadius:60,dataKey:"value",children:de.pieChartData.map((q,se)=>v.jsx(rl,{fill:pe[se%pe.length]},`cell-${se}`))}),v.jsx(Py,{contentStyle:{backgroundColor:"#1A202C",border:"1px solid #4A5568"}})]})})]})]})]})]}),v.jsx("button",{onClick:i,disabled:!ee,className:"w-full p-4 mt-4 text-lg font-bold font-orbitron rounded-lg bg-purple-600 text-white transition-all duration-300 disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed enabled:hover:bg-purple-500",children:"Confirm Deck"})]})]})]})},OY=({card:e})=>v.jsx("div",{className:"w-52 h-72 rounded-lg p-1 bg-purple-800/80",children:v.jsxs("div",{className:"w-full h-full bg-slate-900 flex flex-col font-orbitron text-purple-300 overflow-hidden rounded-md",children:[v.jsxs("div",{className:"text-center py-1 px-2 bg-purple-900/50 flex justify-between items-center",children:[v.jsx("span",{className:"font-bold text-sm uppercase tracking-wider truncate",children:e.name}),v.jsxs("div",{className:"flex items-center bg-slate-800/70 px-2 py-0.5 rounded-full",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-yellow-300",children:v.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),v.jsx("span",{className:"text-white font-bold text-sm ml-1",children:e.cost})]})]}),v.jsx("div",{className:"p-1",children:v.jsxs("div",{className:"relative h-24",children:[v.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover rounded"}),v.jsx("div",{className:"absolute inset-0 border border-purple-400/50 rounded"})]})}),v.jsx("div",{className:"flex-grow mx-2 my-1 bg-black/50 border border-purple-800/70 p-2 flex flex-col min-h-0",children:v.jsx("div",{className:"flex-grow relative font-exo font-normal text-purple-200",children:v.jsx("p",{className:"text-sm leading-tight text-center",children:e.description})})}),v.jsxs("div",{className:"text-center text-xs py-1 bg-purple-900/50 uppercase font-semibold tracking-widest",children:[e.type," Card"]})]})}),Mw=({isOpen:e,onClose:t,cards:n,title:r,shouldSort:i})=>{if(!e)return null;const s=i?[...n].sort((c,u)=>c.name.localeCompare(u.name)):n;return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",onClick:t,children:v.jsxs("div",{className:"bg-gray-900 rounded-2xl border-2 border-purple-500 p-8 shadow-2xl shadow-purple-500/20 w-full max-w-7xl relative flex flex-col h-[90vh]",onClick:c=>c.stopPropagation(),children:[v.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors z-10",children:v.jsx(il,{size:24})}),v.jsxs("h2",{className:"text-3xl font-orbitron font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-cyan-400 text-center mb-4 flex-shrink-0",children:[r," (",s.length,")"]}),s.length>0?v.jsx("div",{className:"flex-grow overflow-y-auto pr-4",children:v.jsx("div",{className:"grid grid-cols-5 gap-6",children:s.map((c,u)=>v.jsx("div",{className:"flex justify-center",children:v.jsx(OY,{card:c})},`${c.instanceId}-${u}`))})}):v.jsx("div",{className:"flex-grow flex items-center justify-center",children:v.jsx("p",{className:"text-gray-500 text-2xl italic",children:"There are no cards here!"})})]})})},TY=({card:e,isSelected:t,onClick:n})=>v.jsx("div",{className:`w-52 h-72 rounded-lg p-1 cursor-pointer transition-all duration-200 ${t?"bg-green-500/60 shadow-lg shadow-green-500/30":"bg-purple-800/80 hover:bg-purple-700/80"}`,onClick:()=>n(e),children:v.jsxs("div",{className:"w-full h-full bg-slate-900 flex flex-col font-orbitron text-purple-300 overflow-hidden rounded-md",children:[v.jsxs("div",{className:"text-center py-1 px-2 bg-purple-900/50 flex justify-between items-center",children:[v.jsx("span",{className:"font-bold text-sm uppercase tracking-wider truncate",children:e.name}),v.jsxs("div",{className:"flex items-center bg-slate-800/70 px-2 py-0.5 rounded-full",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-yellow-300",children:v.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),v.jsx("span",{className:"text-white font-bold text-sm ml-1",children:e.cost})]})]}),v.jsx("div",{className:"p-1",children:v.jsxs("div",{className:"relative h-24",children:[v.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover rounded"}),v.jsx("div",{className:"absolute inset-0 border border-purple-400/50 rounded"}),t&&v.jsx("div",{className:"absolute inset-0 bg-green-500/20 border-2 border-green-400 rounded flex items-center justify-center",children:v.jsx("div",{className:"bg-green-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold",children:""})})]})}),v.jsx("div",{className:"flex-grow mx-2 my-1 bg-black/50 border border-purple-800/70 p-2 flex flex-col min-h-0",children:v.jsx("div",{className:"flex-grow relative font-exo font-normal text-purple-200",children:v.jsx("p",{className:"text-sm leading-tight text-center",children:e.description})})}),v.jsxs("div",{className:"text-center text-xs py-1 bg-purple-900/50 uppercase font-semibold tracking-widest",children:[e.type," Card"]})]})}),DY=({isOpen:e,onClose:t,onConfirm:n,selectionData:r})=>{const[i,s]=C.useState([]);if(!e||!r)return null;const{searchedCards:c,drawCount:u,type:d,filter:h}=r,p=S=>{s(A=>{const P=S.instanceId||`${S.id}-${S.name}`;return A.some(_=>(_.instanceId||`${_.id}-${_.name}`)===P)?A.filter(_=>(_.instanceId||`${_.id}-${_.name}`)!==P):A.length<u?[...A,S]:[...A.slice(0,-1),S]})},m=()=>{i.length===u&&(n(i),s([]))},y=()=>{s([]),t()},x=i.length===u;return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",onClick:y,children:v.jsxs("div",{className:"bg-gray-900 rounded-2xl border-2 border-purple-500 p-8 shadow-2xl shadow-purple-500/20 w-full max-w-7xl relative flex flex-col h-[90vh]",onClick:S=>S.stopPropagation(),children:[v.jsx("button",{onClick:y,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors z-10",children:v.jsx(il,{size:24})}),v.jsxs("div",{className:"text-center mb-6",children:[v.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:d==="search_and_draw"?"Choose Cards to Draw":"Select Cards"}),v.jsx("p",{className:"text-gray-300 text-lg",children:h?`Select ${u} ${h.type} card${u>1?"s":""} from ${c.length} found ${h.type} cards`:`Select ${u} card${u>1?"s":""} from the top ${c.length} cards of your deck`}),v.jsx("div",{className:"mt-2",children:v.jsxs("span",{className:`text-lg font-bold ${x?"text-green-400":"text-yellow-400"}`,children:[i.length," of ",u," selected"]})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto",children:v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 justify-items-center",children:c.map((S,A)=>v.jsx(TY,{card:S,isSelected:i.some(P=>{const E=S.instanceId||`${S.id}-${S.name}`;return(P.instanceId||`${P.id}-${P.name}`)===E}),onClick:p},S.instanceId||`${S.id}-${A}`))})}),v.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[v.jsx("button",{onClick:y,className:"bg-gray-600 text-white font-bold py-3 px-8 rounded-full hover:bg-gray-700 transition-colors",children:"Cancel"}),v.jsx("button",{onClick:m,disabled:!x,className:`font-bold py-3 px-8 rounded-full transition-colors ${x?"bg-green-600 text-white hover:bg-green-700":"bg-gray-500 text-gray-300 cursor-not-allowed"}`,children:"Confirm Selection"})]})]})})},kY=({onGameStart:e,onBack:t})=>{const[n,r]=C.useState("menu"),[i,s]=C.useState(""),[c,u]=C.useState(""),[d,h]=C.useState("disconnected"),[p,m]=C.useState(""),[y,x]=C.useState(!1),[S,A]=C.useState(!1);C.useEffect(()=>Ba.subscribe(M=>{switch(console.log("P2P Event:",M),M.type){case"room_created":s(M.data.roomCode),r("waiting"),h("waiting"),x(!1);break;case"joined_room":s(M.data.roomCode),r("connected"),h("connected"),x(!1);break;case"connected":r("connected"),h("connected"),x(!1),m("");break;case"disconnected":h("disconnected"),r("menu"),s(""),m("");break;case"connection_error":m(M.data.error),x(!1),r("menu");break}}),[]);const P=async()=>{x(!0),m(""),r("host");try{const N=await Ba.hostGame();console.log("Room created with code:",N)}catch(N){console.error("Failed to host game:",N),m(N.message),x(!1),r("menu")}},E=async()=>{if(c.length!==6){m("Please enter a 6-digit room code");return}x(!0),m(""),r("join");try{await Ba.joinGame(c)}catch(N){console.error("Failed to join game:",N),m(N.message),x(!1),r("menu")}},_=async()=>{try{await navigator.clipboard.writeText(i),A(!0),setTimeout(()=>A(!1),2e3)}catch(N){console.error("Failed to copy room code:",N)}},O=()=>{d==="connected"&&e()},j=()=>{Ba.disconnect(),r("menu"),s(""),u(""),m("")},k=()=>{d!=="disconnected"&&j(),t()},D=()=>{switch(d){case"waiting":return v.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[v.jsx(To,{className:"w-4 h-4 animate-spin"}),v.jsx("span",{children:"Waiting for opponent..."})]});case"connected":return v.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[v.jsx(vA,{className:"w-4 h-4"}),v.jsx("span",{children:"Connected to opponent"})]});case"disconnected":default:return v.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[v.jsx(KN,{className:"w-4 h-4"}),v.jsx("span",{children:"Not connected"})]})}};return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-slate-900 rounded-2xl border-2 border-purple-500 p-8 shadow-2xl shadow-purple-500/20 w-full max-w-md",children:[v.jsxs("div",{className:"text-center mb-6",children:[v.jsxs("h2",{className:"text-3xl font-bold text-white mb-2 flex items-center justify-center gap-2",children:[v.jsx(YN,{className:"w-8 h-8 text-purple-400"}),"Multiplayer"]}),v.jsx("div",{className:"mb-4",children:D()})]}),p&&v.jsx("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-3 mb-4",children:v.jsx("p",{className:"text-red-300 text-sm",children:p})}),n==="menu"&&v.jsxs("div",{className:"space-y-4",children:[v.jsxs("button",{onClick:P,disabled:y,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[y?v.jsx(To,{className:"w-5 h-5 animate-spin"}):v.jsx(PN,{className:"w-5 h-5"}),"Host Game"]}),v.jsx("div",{className:"text-center text-gray-400 text-sm",children:"or"}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("input",{type:"text",placeholder:"Enter 6-digit room code",value:c,onChange:N=>u(N.target.value.replace(/[^0-9]/g,"").slice(0,6)),className:"w-full bg-slate-800 border border-gray-600 rounded-lg px-4 py-3 text-white text-center text-lg tracking-widest",maxLength:6}),v.jsxs("button",{onClick:E,disabled:y||c.length!==6,className:"w-full bg-cyan-600 hover:bg-cyan-700 disabled:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[y?v.jsx(To,{className:"w-5 h-5 animate-spin"}):v.jsx(vA,{className:"w-5 h-5"}),"Join Game"]})]})]}),n==="waiting"&&v.jsxs("div",{className:"text-center space-y-4",children:[v.jsxs("div",{className:"bg-slate-800 rounded-lg p-4",children:[v.jsx("p",{className:"text-gray-300 mb-2",children:"Share this room code:"}),v.jsxs("div",{className:"flex items-center justify-center gap-2",children:[v.jsx("code",{className:"text-2xl font-mono text-white bg-slate-700 px-4 py-2 rounded",children:i}),v.jsx("button",{onClick:_,className:"bg-purple-600 hover:bg-purple-700 text-white p-2 rounded transition-colors",children:S?v.jsx(hN,{className:"w-5 h-5"}):v.jsx(Gw,{className:"w-5 h-5"})})]})]}),v.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-400",children:[v.jsx(To,{className:"w-5 h-5 animate-spin"}),v.jsx("span",{children:"Waiting for opponent to join..."})]})]}),n==="connected"&&v.jsxs("div",{className:"text-center space-y-4",children:[v.jsxs("div",{className:"bg-green-900/50 border border-green-500 rounded-lg p-4",children:[v.jsx("p",{className:"text-green-300",children:" Connected to opponent!"}),i&&v.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Room: ",i]})]}),v.jsx("button",{onClick:O,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg transition-colors",children:"Start Game"})]}),(n==="host"||n==="join")&&y&&v.jsxs("div",{className:"text-center",children:[v.jsx(To,{className:"w-8 h-8 animate-spin text-purple-400 mx-auto mb-4"}),v.jsx("p",{className:"text-gray-300",children:n==="host"?"Creating room...":"Joining room..."})]}),v.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700",children:v.jsx("button",{onClick:k,className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:d!=="disconnected"?"Disconnect & Back":"Back"})})]})})},jY=({isVisible:e,currentPlayer:t,gameMode:n,roomCode:r,lastAction:i,localPlayerState:s,opponentPlayerState:c,getLocalPlayerId:u})=>{if(!e)return null;const d=n!=="local",h=t===u()?s?.name||"You":c?.name||"Opponent";return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-40 pointer-events-none",children:v.jsxs("div",{className:"bg-slate-900 rounded-2xl border-2 border-purple-500 p-6 shadow-2xl shadow-purple-500/20 max-w-md w-full mx-4",children:[v.jsxs("div",{className:"text-center mb-4",children:[v.jsxs("div",{className:"flex items-center justify-center gap-2 text-purple-400 mb-2",children:[v.jsx(To,{className:"w-6 h-6 animate-spin"}),v.jsx(yN,{className:"w-6 h-6"})]}),v.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:d?"Opponent's Turn":"AI Thinking..."}),v.jsx("p",{className:"text-gray-300 text-sm",children:d?`Waiting for ${h}`:"Processing AI actions..."})]}),d&&r&&v.jsx("div",{className:"bg-slate-800 rounded-lg p-3 mb-4",children:v.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400 text-sm",children:[v.jsx(HN,{className:"w-4 h-4"}),v.jsxs("span",{children:["Room: ",r]})]})}),i&&v.jsxs("div",{className:"bg-slate-800 rounded-lg p-3",children:[v.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Recent action:"}),v.jsx("p",{className:"text-white text-sm",children:i})]}),v.jsx("div",{className:"flex justify-center mt-4",children:v.jsxs("div",{className:"flex space-x-1",children:[v.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce"}),v.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),v.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})})},$h=()=>{const{gameStateManager:e}=Ui(),t=C.useMemo(()=>e?new rh(e):null,[e]),[n,r]=C.useState(null);return C.useEffect(()=>{if(!t)return;const p=()=>{r(t.getCacheStats())};p();const m=setInterval(p,5e3);return()=>clearInterval(m)},[t]),{gameDataService:t,getEffectiveStats:(p,m)=>t?t.getEffectiveStats(p,m):{attack:0,speed:0,hull:0,maxShields:0,cost:0,baseAttack:0,baseSpeed:0,baseCost:0,keywords:new Set},getEffectiveShipStats:(p,m=[])=>t?t.getEffectiveShipStats(p,m):{totals:{handLimit:0,discardLimit:0,energyPerTurn:0,maxEnergy:0,shieldsPerTurn:0,initialDeployment:0,deploymentBudget:0,cpuLimit:0},bySection:{}},getLaneData:p=>t?t.getLaneData(p):{lane:p,localDrones:[],opponentDrones:[],hasGuardian:!1},hasGuardianInLane:(p,m=null)=>t?t.hasGuardianInLane(p,m):!1,getPlacedSections:()=>t?t.getPlacedSectionsForEngine():{},clearCache:()=>{t&&t.clearCache()},cacheStats:n,isReady:!!t}},eh=({card:e,onClick:t,isPlayable:n,isSelected:r,isMandatoryTarget:i})=>{const{name:s,cost:c,image:u,description:d}=e;return v.jsx("div",{onClick:h=>{h.stopPropagation(),(n||i)&&t(e)},className:`
        w-52 h-72 rounded-lg p-1 relative group transition-all duration-200 flex-shrink-0
        ${n?"cursor-pointer":"cursor-not-allowed"}
        ${r?"bg-purple-400":"bg-purple-800/80"}
        ${!n&&!i?"grayscale":""}
        ${i?"cursor-pointer ring-2 ring-red-500 animate-pulse":""}
      `,children:v.jsxs("div",{className:`
          w-full h-full bg-slate-900 flex flex-col font-orbitron text-purple-300 overflow-hidden rounded-md
          transition-all duration-200
          ${n&&!r?"group-hover:bg-slate-800":""}
        `,children:[v.jsxs("div",{className:"text-center py-1 px-2 bg-purple-900/50 flex justify-between items-center",children:[v.jsx("span",{className:"font-bold text-sm uppercase tracking-wider truncate",children:s}),v.jsxs("div",{className:"flex items-center bg-slate-800/70 px-2 py-0.5 rounded-full",children:[v.jsx(qc,{size:12,className:"text-yellow-300"}),v.jsx("span",{className:"text-white font-bold text-sm ml-1",children:c})]})]}),v.jsx("div",{className:"p-1",children:v.jsxs("div",{className:"relative h-24",children:[v.jsx("img",{src:u,alt:s,className:"w-full h-full object-cover rounded"}),v.jsx("div",{className:"absolute inset-0 border border-purple-400/50 rounded"})]})}),v.jsx("div",{className:"flex-grow mx-2 my-1 bg-black/50 border border-purple-800/70 p-2 flex flex-col min-h-0",children:v.jsx("div",{className:"flex-grow relative font-exo font-normal text-purple-200",children:v.jsx("p",{className:"text-sm leading-tight text-center",children:d})})}),v.jsxs("div",{className:"text-center text-xs py-1 bg-purple-900/50 uppercase font-semibold tracking-widest",children:[e.type," Card"]})]})})},yl=({title:e,text:t,onClose:n,children:r,maxWidthClass:i="max-w-lg"})=>v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:v.jsxs("div",{className:`bg-gray-900 rounded-2xl border-2 border-purple-500 p-8 shadow-2xl shadow-purple-500/20 w-full ${i} relative`,children:[n&&v.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:v.jsx(il,{size:24})}),v.jsx("h2",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-cyan-400 text-center mb-4",children:e}),v.jsx("p",{className:"text-center text-gray-400",children:t}),r]})}),Rw=({player:e,isPlayer:t,placedSections:n,onSectionClick:r,onAbilityClick:i,onTargetClick:s,isInteractive:c,validCardTargets:u,reallocationPhase:d,gameEngine:h,turnPhase:p,isMyTurn:m,passInfo:y,getLocalPlayerId:x,localPlayerState:S,shipAbilityMode:A,hoveredTarget:P,setHoveredTarget:E})=>{const{getEffectiveShipStats:_}=$h(),O=_(e,n);return v.jsx("div",{className:"flex w-full justify-between gap-8",children:[0,1,2].map(j=>{const k=n[j];if(!k)return console.log(` [DEBUG] Lane ${j} rendering EMPTY div - no hover possible:`,{sectionName:k,sectionNameType:typeof k,sectionNameValue:JSON.stringify(k),isPlayer:t,entirePlacedSections:n,playerShipSections:e?.shipSections?Object.keys(e.shipSections):"NO_SHIP_SECTIONS"}),v.jsx("div",{className:"flex-1 min-w-0 h-full bg-black/20 rounded-lg border-2 border-dashed border-gray-700"},j);const D=e.shipSections[k],N=u.some(z=>z.id===k);let M=null;if(d&&t){if(d==="removing")D.allocatedShields>0?M="can-remove":M="cannot-remove";else if(d==="adding"){const z=h.getEffectiveSectionMaxShields(k,e,n);D.allocatedShields<z?M="can-add":M="cannot-add"}}return v.jsx("div",{className:"flex-1 min-w-0",children:v.jsx(yd,{section:k,stats:D,effectiveStatsForDisplay:O.bySection[k],isPlayer:t,isOpponent:!t,onClick:()=>{c&&r?r(k):s&&s({id:k,name:k,...D},"section",t)},onAbilityClick:i,isInteractive:c||p==="action"&&t&&D.ability&&S.energy>=D.ability.cost.energy,isCardTarget:N,isInMiddleLane:j===1,isHovered:P?.type==="section"&&P?.target.name===k,onMouseEnter:()=>!t&&E({target:{name:k,...D},type:"section"}),onMouseLeave:()=>!t&&E(null),reallocationState:M,gameEngine:h,turnPhase:p,isMyTurn:m,passInfo:y,getLocalPlayerId:x,localPlayerState:S,shipAbilityMode:A})},j)})})},Iw=({value:e,isFlat:t,bgColor:n,textColor:r})=>v.jsx("div",{className:`${t?"hexagon-flat":"hexagon"} w-full h-full bg-black flex items-center justify-center`,children:v.jsx("div",{className:`${t?"hexagon-flat":"hexagon"} w-[calc(100%-2px)] h-[calc(100%-2px)] ${n} flex items-center justify-center text-xs font-bold font-orbitron ${r}`,children:e})}),NY=({onClick:e})=>v.jsx("button",{onClick:e,className:"absolute top-5 -right-3.5 w-7 h-7 bg-purple-600 rounded-full flex items-center justify-center border-2 border-black/50 z-20 hover:bg-purple-500 transition-colors",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-yellow-300",children:[v.jsx("circle",{cx:"12",cy:"12",r:"10"}),v.jsx("circle",{cx:"12",cy:"12",r:"6"}),v.jsx("circle",{cx:"12",cy:"12",r:"2"})]})}),hd=({drone:e,onClick:t,isPlayer:n,isSelected:r,isSelectedForMove:i,isHit:s,isPotentialInterceptor:c,onMouseEnter:u,onMouseLeave:d,lane:h,onAbilityClick:p,isActionTarget:m,droneRefs:y,mandatoryAction:x,localPlayerState:S})=>{const{getEffectiveStats:A}=$h(),P=C.useMemo(()=>Tn.find(ue=>ue.name===e.name),[e.name]),E=A(e,h),{maxShields:_}=E,O=e.currentShields??_,j=P.abilities.filter(ue=>ue.type==="ACTIVE"),k=n?"border-cyan-400":"border-pink-500",D=n?"bg-cyan-900":"bg-pink-950",N=n?"text-cyan-100":"text-pink-100",M=n?"bg-cyan-900":"bg-pink-950",z=n?"text-cyan-400":"text-pink-500",re=n?"text-cyan-300 opacity-50":"text-pink-400 opacity-60",W=E.attack>E.baseAttack,ee=E.attack<E.baseAttack,pe=W?"text-green-400":ee?"text-red-400":"text-white",de=E.speed>E.baseSpeed,ie=E.speed<E.baseSpeed,U=de?"text-green-400":ie?"text-red-400":"text-white",ae=e.isExhausted?"grayscale opacity-60":"",ge=s?"animate-shake":"",me=r||i?"scale-105 ring-2 ring-cyan-400 shadow-xl shadow-cyan-400/50":"",L=m?"scale-105 ring-2 ring-purple-400 shadow-xl shadow-purple-500/50 animate-pulse":"",Q=x?.type==="destroy"&&n?"ring-2 ring-red-500 animate-pulse":"",V=ue=>!(e.isExhausted&&ue.cost.exhausts!==!1||ue.cost.energy&&S.energy<ue.cost.energy);return v.jsxs("div",{ref:ue=>y.current[e.id]=ue,onClick:ue=>t&&t(ue,e,n),onMouseEnter:u,onMouseLeave:d,className:`relative w-[90px] h-[135px] transition-all duration-200 ${ae} ${ge} ${me} ${L} ${Q}`,children:[v.jsxs("div",{className:`relative w-full h-full rounded-lg shadow-lg border ${k} cursor-pointer shadow-black overflow-hidden`,children:[v.jsx("img",{src:e.image,alt:e.name,className:"absolute inset-0 w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-black/10"}),v.jsxs("div",{className:"relative z-10 h-full",children:[v.jsxs("div",{className:"absolute bottom-6 left-0 right-0 w-full flex flex-col gap-1 px-2",children:[v.jsx("div",{className:"flex w-full justify-center gap-1 min-h-[12px]",children:Array.from({length:_}).map((ue,xe)=>xe<O?v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",className:z,children:v.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",stroke:"black",strokeWidth:"1.5"})},xe):v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:re,children:v.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",stroke:"black",strokeWidth:"1.5"})},xe))}),v.jsx("div",{className:"flex w-full justify-center gap-0.5",children:Array.from({length:P.hull}).map((ue,xe)=>{const q=xe<e.hull,se=e.isExhausted?"bg-green-800":"bg-green-500";return v.jsx("div",{className:`h-2 w-2 rounded-sm ${q?se:"bg-gray-400"} border border-black/50`},xe)})})]}),v.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-5 ${D} flex items-center justify-center border-t ${k}`,children:v.jsx("span",{className:`font-orbitron text-[8px] uppercase ${N} tracking-wider w-full text-center`,children:e.name})})]})]}),v.jsx("div",{className:"absolute -top-3 left-[-14px] w-6 h-7 z-20",children:v.jsx(Iw,{value:E.attack,isFlat:!1,bgColor:M,textColor:pe})}),v.jsx("div",{className:`absolute -top-3 right-[-14px] w-7 h-7 z-20 ${c?"interceptor-glow":""}`,children:v.jsx(Iw,{value:E.speed,isFlat:!0,bgColor:M,textColor:U})}),n&&j.length>0&&V(j[0])&&v.jsx(NY,{onClick:ue=>p&&p(ue,e,j[0])})]})},MY=(e,t,n,r,i,s,c,u,d,h,p,m,y,x,S,A,P,E,_,O)=>v.jsx("div",{className:"flex flex-wrap gap-8 pt-2 min-h-[100px] justify-center items-center",children:e.map(j=>v.jsx(hd,{drone:j,lane:n,isPlayer:t,onClick:h,onAbilityClick:p,isSelected:m&&m.id===j.id,isSelectedForMove:y?.phase==="select_drones"&&y.selectedDrones.some(k=>k.id===j.id),isHit:x.includes(j.id),isPotentialInterceptor:S.includes(j.id),droneRefs:A,mandatoryAction:P,localPlayerState:r,isActionTarget:E.some(k=>k.id===j.id)||_.some(k=>k.id===j.id),onMouseEnter:()=>!t&&O({target:j,type:"drone",lane:n}),onMouseLeave:()=>!t&&O(null)},j.id))}),Lw=({player:e,isPlayer:t,onLaneClick:n,getLocalPlayerId:r,getOpponentPlayerId:i,abilityMode:s,validAbilityTargets:c,selectedCard:u,validCardTargets:d,multiSelectState:h,turnPhase:p,localPlayerState:m,opponentPlayerState:y,localPlacedSections:x,opponentPlacedSections:S,gameEngine:A,getPlacedSectionsForEngine:P,handleTokenClick:E,handleAbilityIconClick:_,selectedDrone:O,recentlyHitDrones:j,potentialInterceptors:k,droneRefs:D,mandatoryAction:N,setHoveredTarget:M})=>($h(),v.jsx("div",{className:"flex w-full justify-between gap-8 min-h-[160px]",children:["lane1","lane2","lane3"].map(z=>{const re=t?r():i(),W=s&&c.some(pe=>pe.id===z&&pe.owner===re)||u&&d.some(pe=>pe.id===z&&pe.owner===re)||h&&d.some(pe=>pe.id===z&&pe.owner===re),ee=t&&(p==="deployment"||p==="action");return v.jsx("div",{onClick:pe=>n(pe,z,t),className:`flex-1 rounded-lg border-2 transition-all duration-200 p-2 lane-background
              ${W?"border-purple-500 bg-purple-900/40 ring-2 ring-purple-400 animate-pulse":"border-gray-700/50 bg-black/20"}
              ${ee?"cursor-pointer hover:bg-cyan-900/50":""}
            `,children:MY(e.dronesOnBoard[z],t,z,m,y,x,S,A,P,E,_,O,h,j,k,D,N,c,d,M)},z)})})),RY=({selectionData:e,onConfirm:t,onCancel:n})=>{const{card:r,targets:i}=e,[s,c]=C.useState(null);return v.jsxs(yl,{title:`Apply Upgrade: ${r.name}`,text:"Select a drone type from your active pool to apply this permanent upgrade to.",onClose:n,maxWidthClass:"max-w-4xl",children:[v.jsx("div",{className:"flex justify-center my-4",children:v.jsx(eh,{card:r,isPlayable:!1})}),v.jsx("div",{className:"my-4 p-4 bg-black/20 rounded-lg max-h-64 overflow-y-auto",children:v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(u=>v.jsxs("div",{onClick:()=>c(u),className:`p-3 rounded-lg border-2 transition-all cursor-pointer flex items-center gap-4
                              ${s?.id===u.id?"bg-purple-700 border-purple-400":"bg-slate-800 border-slate-600 hover:bg-slate-700"}
                          `,children:[v.jsx("img",{src:u.image,alt:u.name,className:"w-12 h-12 rounded-md object-cover"}),v.jsx("span",{className:"font-semibold text-white",children:u.name})]},u.id))})}),v.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[v.jsx("button",{onClick:n,className:"bg-pink-600 text-white font-bold py-2 px-6 rounded-full hover:bg-pink-700 transition-colors",children:"Cancel"}),v.jsx("button",{onClick:()=>t(r,s),disabled:!s,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-full transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed enabled:hover:bg-green-700",children:"Confirm Upgrade"})]})]})},IY=({modalData:e,onClose:t})=>{const{droneName:n,upgrades:r}=e;return v.jsxs(yl,{title:`Applied Upgrades: ${n}`,text:"The following permanent upgrades have been applied to this drone type.",onClose:t,children:[v.jsx("div",{className:"my-4 p-2 bg-black/20 rounded-lg max-h-80 overflow-y-auto space-y-3",children:r.length>0?r.map(i=>v.jsxs("div",{className:"bg-slate-800/70 p-3 rounded-lg border border-purple-500/50",children:[v.jsx("h4",{className:"font-bold text-purple-300",children:i.name}),v.jsx("p",{className:"text-sm text-gray-400 mt-1",children:i.description})]},i.instanceId)):v.jsx("p",{className:"text-center text-gray-500 italic",children:"No upgrades applied."})}),v.jsx("div",{className:"flex justify-center mt-6",children:v.jsx("button",{onClick:t,className:"btn-continue",children:"Close"})})]})},LY=({selectionData:e,onConfirm:t,onCancel:n})=>{const{card:r,targets:i,opponentState:s}=e,[c,u]=C.useState(null);return v.jsxs(yl,{title:"System Sabotage",text:"Select an enemy upgrade to destroy. The upgrade will be permanently removed.",onClose:n,maxWidthClass:"max-w-4xl",children:[v.jsx("div",{className:"my-4 p-2 bg-black/20 rounded-lg max-h-[60vh] overflow-y-auto space-y-4",children:i.length>0?i.map(d=>{const h=s.appliedUpgrades[d.name]||[];return v.jsxs("div",{className:"bg-slate-800/70 p-3 rounded-lg border border-pink-500/50",children:[v.jsxs("h4",{className:"font-bold text-pink-300 mb-2",children:["Enemy: ",d.name]}),v.jsx("div",{className:"space-y-2",children:h.map(p=>v.jsx("div",{onClick:()=>u({droneName:d.name,instanceId:p.instanceId}),className:`p-2 rounded-md border-2 transition-all cursor-pointer
                                              ${c?.instanceId===p.instanceId?"bg-red-700 border-red-400":"bg-slate-900/50 border-slate-600 hover:bg-slate-700"}`,children:v.jsx("p",{className:"font-semibold text-white",children:p.name})},p.instanceId))})]},d.id)}):v.jsx("p",{className:"text-center text-gray-500 italic",children:"The opponent has no active upgrades to destroy."})}),v.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[v.jsx("button",{onClick:n,className:"bg-gray-600 text-white font-bold py-2 px-6 rounded-full hover:bg-gray-700 transition-colors",children:"Cancel"}),v.jsx("button",{onClick:()=>t(r,c),disabled:!c,className:"bg-red-600 text-white font-bold py-2 px-6 rounded-full transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed enabled:hover:bg-red-700",children:"Destroy Upgrade"})]})]})},$Y=({isOpen:e,drone:t,onClose:n})=>!e||!t?null:v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:v.jsxs("div",{className:"bg-gray-900 rounded-2xl border-2 border-purple-500 p-8 shadow-2xl shadow-purple-500/20 w-full max-w-lg relative",children:[v.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:v.jsx(il,{size:24})}),v.jsx("h2",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-cyan-400 text-center mb-4",children:t.name}),v.jsx("div",{className:"flex justify-center",children:v.jsx(gd,{drone:t,isSelectable:!1,deployedCount:0})})]})}),BY=({show:e,firstPlayerOfRound:t,localPlayerId:n,localPlayerName:r,opponentPlayerName:i,reasonText:s,onContinue:c})=>{if(!e)return null;const d=`${t===n?r:i} will go first this round. ${s}`;return v.jsx(yl,{title:"First Player Determined",text:d,onClose:c,children:v.jsx("div",{className:"flex justify-center mt-6",children:v.jsx("button",{onClick:c,className:"btn-continue",children:"Continue"})})})},UY=({show:e,onContinue:t})=>e?v.jsx(yl,{title:"Action Phase",text:"Deployment has ended. Prepare for action!",onClose:t,children:v.jsx("div",{className:"flex justify-center mt-6",children:v.jsx("button",{onClick:t,className:"btn-continue",children:"Continue"})})}):null,zY=({show:e,onContinue:t})=>e?v.jsx(yl,{title:"Round Over",text:"Both players have passed. The action phase has ended.",onClose:t,children:v.jsx("div",{className:"flex justify-center mt-6",children:v.jsx("button",{onClick:t,className:"btn-continue",children:"Begin Next Round"})})}):null;function GY({localPlayerState:e,opponentPlayerState:t,localPlayerEffectiveStats:n,opponentPlayerEffectiveStats:r,turnPhase:i,turn:s,passInfo:c,firstPlayerOfRound:u,shieldsToAllocate:d,shieldsToRemove:h,shieldsToAdd:p,reallocationPhase:m,totalLocalPlayerDrones:y,totalOpponentPlayerDrones:x,getLocalPlayerId:S,getOpponentPlayerId:A,isMyTurn:P,handlePlayerPass:E,handleReset:_,mandatoryAction:O,multiSelectState:j,AI_HAND_DEBUG_MODE:k,setShowAiHandModal:D}){return v.jsxs("header",{className:"w-full flex justify-between items-center mb-2 flex-shrink-0 px-5 pt-8",children:[v.jsxs("div",{className:"flex flex-col items-start gap-2",children:[v.jsxs("h2",{className:"text-lg font-bold text-pink-300 flex items-center",children:["Opponent Resources",(i==="deployment"||i==="action")&&u===A()&&v.jsx("span",{className:"text-base font-semibold text-yellow-300 ml-2",children:"(First Player)"}),(i==="deployment"||i==="action")&&c[`${A()}Passed`]&&v.jsx("span",{className:"text-base font-semibold text-red-400 ml-2",children:"(Passed)"})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:`flex items-center bg-gray-900/80 rounded-full px-4 py-2 shadow-lg border border-pink-500/50 ${t.energy>r.totals.maxEnergy?"text-red-400":""}`,children:[v.jsx(qc,{className:"text-yellow-300 mr-2"}),v.jsxs("span",{className:"font-bold text-lg",children:[t.energy," / ",r.totals.maxEnergy]})]}),v.jsxs("div",{onClick:()=>k&&setTimeout(()=>D(!0),100),className:`flex items-center bg-gray-900/80 rounded-full px-4 py-2 shadow-lg border border-pink-500/50 ${k?"cursor-pointer hover:bg-gray-800":""} ${t.hand.length>r.totals.handLimit?"text-red-400":""}`,children:[v.jsx(wN,{className:"text-gray-400 mr-2"}),v.jsxs("span",{className:"font-bold text-lg",children:[t.hand.length," / ",r.totals.handLimit]})]}),i==="deployment"&&v.jsxs("div",{className:"flex items-center bg-gray-900/80 rounded-full px-4 py-2 shadow-lg border border-pink-500/50",children:[v.jsx(Gy,{className:"text-purple-400 mr-2"}),v.jsx("span",{className:"font-bold text-lg",children:s===1?t.initialDeploymentBudget:t.deploymentBudget})]}),v.jsxs("div",{className:`flex items-center bg-gray-900/80 rounded-full px-4 py-2 shadow-lg border border-pink-500/50 ${x>r.totals.cpuLimit?"text-red-400":""}`,children:[v.jsx(gA,{className:"text-cyan-400 mr-2"}),v.jsxs("span",{className:"font-bold text-lg",children:[x," / ",r.totals.cpuLimit]})]})]})]}),v.jsxs("div",{className:"text-center flex flex-col items-center",children:[v.jsx("h1",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-purple-500 to-cyan-400 drop-shadow-xl font-orbitron",style:{textShadow:"0 0 15px rgba(236, 72, 153, 0.5), 0 0 5px rgba(255, 255, 255, 0.5)"},children:"Drone Wars"}),v.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-300 tracking-widest font-exo",children:CR(i)}),(i==="deployment"||i==="action")&&P()&&!O&&!j&&v.jsx("button",{onClick:E,disabled:c[`${S()}Passed`],className:`btn-clipped text-white font-bold py-1 px-6 transition-colors duration-200 ${c[`${S()}Passed`]?"bg-gray-700 cursor-not-allowed":"bg-red-600 hover:bg-red-500"}`,children:"Pass"})]})]}),v.jsxs("div",{className:"flex flex-col items-end gap-2",children:[v.jsxs("h2",{className:"text-lg font-bold text-cyan-300 flex items-center",children:["Your Resources",(i==="deployment"||i==="action")&&u===S()&&v.jsx("span",{className:"text-base font-semibold text-yellow-300 ml-2",children:"(First Player)"}),(i==="deployment"||i==="action")&&c[`${S()}Passed`]&&v.jsx("span",{className:"text-base font-semibold text-red-400 ml-2",children:"(Passed)"})]}),v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsxs("div",{className:`flex items-center bg-gray-900/80 rounded-full px-4 py-2 shadow-lg border border-cyan-500/50 ${e.energy>n.totals.maxEnergy?"text-red-400":""}`,children:[v.jsx(qc,{className:"text-yellow-300 mr-2"}),v.jsxs("span",{className:"font-bold text-lg",children:[e.energy," / ",n.totals.maxEnergy]})]}),i==="deployment"&&v.jsxs("div",{className:"flex items-center bg-gray-900/80 rounded-full px-4 py-2 shadow-lg border border-cyan-500/50",children:[v.jsx(Gy,{className:"text-purple-400 mr-2"}),v.jsx("span",{className:"font-bold text-lg",children:s===1?e.initialDeploymentBudget:e.deploymentBudget})]}),v.jsxs("div",{className:`flex items-center bg-gray-900/80 rounded-full px-4 py-2 shadow-lg border border-cyan-500/50 ${y>n.totals.cpuLimit?"text-red-400":""}`,children:[v.jsx(gA,{className:"text-cyan-400 mr-2"}),v.jsxs("span",{className:"font-bold text-lg",children:[y," / ",n.totals.cpuLimit]})]}),i==="allocateShields"&&v.jsxs("div",{className:"flex items-center bg-gray-900/80 rounded-full px-4 py-2 shadow-lg border border-cyan-500/50",children:[v.jsx(ad,{className:"text-cyan-300 mr-2"}),v.jsx("span",{className:"font-bold text-lg",children:d})]}),m==="removing"&&v.jsxs("div",{className:"flex items-center bg-gray-900/80 rounded-full px-4 py-2 shadow-lg border border-orange-500/50",children:[v.jsx(ad,{className:"text-orange-300 mr-2"}),v.jsx("span",{className:"font-bold text-lg",children:h})]}),m==="adding"&&v.jsxs("div",{className:"flex items-center bg-gray-900/80 rounded-full px-4 py-2 shadow-lg border border-green-500/50",children:[v.jsx(ad,{className:"text-green-300 mr-2"}),v.jsx("span",{className:"font-bold text-lg",children:p})]}),v.jsx("button",{onClick:_,className:"bg-pink-700 text-white p-3 rounded-full shadow-lg hover:bg-pink-600 transition-colors duration-200","aria-label":"Reset Game",children:v.jsx(DN,{})}),v.jsx("button",{className:"bg-slate-700 text-white p-3 rounded-full shadow-lg hover:bg-slate-600 transition-colors duration-200",children:v.jsx(jN,{})})]})]})]})}function HY({localPlayerState:e,opponentPlayerState:t,localPlacedSections:n,opponentPlacedSections:r,selectedCard:i,validCardTargets:s,abilityMode:c,validAbilityTargets:u,multiSelectState:d,turnPhase:h,reallocationPhase:p,shipAbilityMode:m,hoveredTarget:y,selectedDrone:x,recentlyHitDrones:S,potentialInterceptors:A,droneRefs:P,mandatoryAction:E,gameEngine:_,getLocalPlayerId:O,getOpponentPlayerId:j,isMyTurn:k,getPlacedSectionsForEngine:D,passInfo:N,handleTargetClick:M,handleLaneClick:z,handleShipSectionClick:re,handleShipAbilityClick:W,handleTokenClick:ee,handleAbilityIconClick:pe,setHoveredTarget:de}){return v.jsx("main",{className:"flex-grow min-h-0 w-full flex flex-col items-center overflow-y-auto px-5 pb-4",children:v.jsxs("div",{className:"flex flex-col items-center w-full space-y-2",children:[v.jsx(Rw,{player:t,isPlayer:!1,placedSections:r,onTargetClick:M,isInteractive:!1,selectedCard:i,validCardTargets:s,gameEngine:_,turnPhase:h,isMyTurn:k,passInfo:N,getLocalPlayerId:O,localPlayerState:e,shipAbilityMode:m,hoveredTarget:y,setHoveredTarget:de}),v.jsx(Lw,{player:t,isPlayer:!1,onLaneClick:z,getLocalPlayerId:O,getOpponentPlayerId:j,abilityMode:c,validAbilityTargets:u,selectedCard:i,validCardTargets:s,multiSelectState:d,turnPhase:h,localPlayerState:e,opponentPlayerState:t,localPlacedSections:n,opponentPlacedSections:r,gameEngine:_,getPlacedSectionsForEngine:D,handleTokenClick:ee,handleAbilityIconClick:pe,selectedDrone:x,recentlyHitDrones:S,potentialInterceptors:A,droneRefs:P,mandatoryAction:E,setHoveredTarget:de}),v.jsx(Lw,{player:e,isPlayer:!0,onLaneClick:z,getLocalPlayerId:O,getOpponentPlayerId:j,abilityMode:c,validAbilityTargets:u,selectedCard:i,validCardTargets:s,multiSelectState:d,turnPhase:h,localPlayerState:e,opponentPlayerState:t,localPlacedSections:n,opponentPlacedSections:r,gameEngine:_,getPlacedSectionsForEngine:D,handleTokenClick:ee,handleAbilityIconClick:pe,selectedDrone:x,recentlyHitDrones:S,potentialInterceptors:A,droneRefs:P,mandatoryAction:E,setHoveredTarget:de}),v.jsx(Rw,{player:e,isPlayer:!0,placedSections:n,onSectionClick:re,onAbilityClick:W,onTargetClick:M,isInteractive:h==="allocateShields"||p,selectedCard:i,validCardTargets:s,reallocationPhase:p,gameEngine:_,turnPhase:h,isMyTurn:k,passInfo:N,getLocalPlayerId:O,localPlayerState:e,shipAbilityMode:m,hoveredTarget:y,setHoveredTarget:de})]})})}const qY="_footer_js8yx_10",YY="_tabContainer_js8yx_14",FY="_contentContainer_js8yx_18",KY="_contentOpen_js8yx_22",VY="_contentClosed_js8yx_26",XY="_tabButton_js8yx_32",WY="_tabButtonActive_js8yx_36",QY="_tabButtonInactive_js8yx_40",ZY="_tabIcon_js8yx_44",JY="_multiSelectOverlay_js8yx_50",eF="_multiSelectText_js8yx_54",tF="_handContainer_js8yx_60",nF="_cardPile_js8yx_64",rF="_deckCard_js8yx_68",aF="_deckCardText_js8yx_74",iF="_discardCard_js8yx_78",oF="_discardCardText_js8yx_84",sF="_pileLabel_js8yx_88",lF="_handSection_js8yx_92",cF="_handHeader_js8yx_96",uF="_handTitle_js8yx_100",fF="_handTitleOverLimit_js8yx_104",dF="_handTitleNormal_js8yx_108",hF="_mandatoryDiscardWarning_js8yx_112",pF="_handCardsContainer_js8yx_116",mF="_handCardsWrapper_js8yx_120",gF="_handCardsWrapperGap_js8yx_124",yF="_cardWrapper_js8yx_128",vF="_optionalDiscardControls_js8yx_133",bF="_optionalDiscardCounter_js8yx_137",xF="_finishDiscardButton_js8yx_141",SF="_droneContainer_js8yx_148",AF="_droneGrid_js8yx_152",CF="_logContainer_js8yx_158",PF="_logHeader_js8yx_162",EF="_logTitle_js8yx_166",wF="_downloadButton_js8yx_170",_F="_logTableWrapper_js8yx_175",OF="_logTable_js8yx_175",TF="_logTableHeader_js8yx_183",DF="_logTableHeaderCell_js8yx_187",kF="_logTableDebugHeader_js8yx_191",jF="_logTableRow_js8yx_195",NF="_logTableCell_js8yx_199",MF="_logTableCellBold_js8yx_203",RF="_logTableCellGray_js8yx_207",IF="_logTableCellCyan_js8yx_211",LF="_logTableCellYellow_js8yx_215",$F="_logTableCellGrayText_js8yx_219",BF="_logTableCellDebug_js8yx_223",UF="_logTableCellCenter_js8yx_227",zF="_aiDecisionButton_js8yx_231",GF="_buttonDanger_js8yx_242",HF="_buttonSuccess_js8yx_247",qF="_buttonDisabled_js8yx_252",Ae={footer:qY,tabContainer:YY,contentContainer:FY,contentOpen:KY,contentClosed:VY,tabButton:XY,tabButtonActive:WY,tabButtonInactive:QY,tabIcon:ZY,multiSelectOverlay:JY,multiSelectText:eF,handContainer:tF,cardPile:nF,deckCard:rF,deckCardText:aF,discardCard:iF,discardCardText:oF,pileLabel:sF,handSection:lF,handHeader:cF,handTitle:uF,handTitleOverLimit:fF,handTitleNormal:dF,mandatoryDiscardWarning:hF,handCardsContainer:pF,handCardsWrapper:mF,handCardsWrapperGap:gF,cardWrapper:yF,optionalDiscardControls:vF,optionalDiscardCounter:bF,finishDiscardButton:xF,droneContainer:SF,droneGrid:AF,logContainer:CF,logHeader:PF,logTitle:EF,downloadButton:wF,logTableWrapper:_F,logTable:OF,logTableHeader:TF,logTableHeaderCell:DF,logTableDebugHeader:kF,logTableRow:jF,logTableCell:NF,logTableCellBold:MF,logTableCellGray:RF,logTableCellCyan:IF,logTableCellYellow:LF,logTableCellGrayText:$F,logTableCellDebug:BF,logTableCellCenter:UF,aiDecisionButton:zF,buttonDanger:GF,buttonSuccess:HF,buttonDisabled:qF};function YF({localPlayerState:e,localPlayerEffectiveStats:t,selectedCard:n,turnPhase:r,mandatoryAction:i,handleCardClick:s,getLocalPlayerId:c,isMyTurn:u,hoveredCardId:d,setHoveredCardId:h,setIsViewDiscardModalOpen:p,setIsViewDeckModalOpen:m,optionalDiscardCount:y,handleRoundStartDraw:x,checkBothPlayersHandLimitComplete:S,handleConfirmMandatoryDiscard:A,handleRoundStartDiscard:P,setConfirmationModal:E,passInfo:_,validCardTargets:O,gameEngine:j,opponentPlayerState:k}){const z=e.hand.length>7,re=1552,W=e.hand.length;let ee=0;return W>1&&(ee=(re-208)/(W-1)-208),v.jsxs("div",{className:Ae.handContainer,children:[v.jsxs("div",{className:Ae.cardPile,children:[v.jsx("div",{onClick:()=>p(!0),className:Ae.discardCard,children:v.jsx("p",{className:Ae.discardCardText,children:e.discardPile.length})}),v.jsx("p",{className:Ae.pileLabel,children:"Discard Pile"})]}),v.jsxs("div",{className:Ae.handSection,children:[v.jsx("div",{className:Ae.handHeader,children:v.jsxs("h3",{className:`${Ae.handTitle} ${e.hand.length>t.totals.handLimit?Ae.handTitleOverLimit:Ae.handTitleNormal}`,children:["Your Hand (",e.hand.length,"/",t.totals.handLimit,")"]})}),i?.type==="discard"&&i.fromAbility&&v.jsxs("p",{className:Ae.mandatoryDiscardWarning,children:["You must discard ",i.count," card(s)."]}),v.jsx("div",{className:Ae.handCardsContainer,style:z?{width:`${re}px`}:{},children:v.jsx("div",{className:`${Ae.handCardsWrapper} ${z?"":Ae.handCardsWrapperGap}`,children:e.hand.map((pe,de)=>{const ie=d?e.hand.findIndex(ge=>ge.instanceId===d):-1;let U="",ae={zIndex:de};return z&&ie!==-1&&(de<ie?U="transform -translate-x-12":de>ie?U="transform translate-x-12":(U="transform -translate-y-8 scale-105",ae.zIndex=50)),z&&de>0&&(ae.marginLeft=`${ee}px`),v.jsx("div",{className:`${Ae.cardWrapper} ${U}`,style:ae,onMouseEnter:()=>h(pe.instanceId),onMouseLeave:()=>h(null),children:v.jsx(eh,{card:pe,isPlayable:r==="action"&&u()&&!_[`${c()}Passed`]&&e.energy>=pe.cost&&(!pe.targeting||j.getValidTargets(c(),null,pe,e,k).length>0)||r==="optionalDiscard"&&y<t.totals.discardLimit,isMandatoryTarget:i?.type==="discard",onClick:i?.type==="discard"?ge=>E({type:"discard",target:ge,onConfirm:()=>A(ge),onCancel:()=>E(null),text:`Are you sure you want to discard ${ge.name}?`}):r==="optionalDiscard"?ge=>E({type:"discard",target:ge,onConfirm:()=>P(ge),onCancel:()=>E(null),text:`Are you sure you want to discard ${ge.name}?`}):s})},pe.instanceId)})})})]}),v.jsxs("div",{className:Ae.cardPile,children:[v.jsx("div",{onClick:()=>m(!0),className:Ae.deckCard,children:v.jsx("p",{className:Ae.deckCardText,children:e.deck.length})}),v.jsx("p",{className:Ae.pileLabel,children:"Deck"}),r==="optionalDiscard"&&v.jsxs("div",{className:Ae.optionalDiscardControls,children:[v.jsxs("p",{className:Ae.optionalDiscardCounter,children:["Discarded: ",y," / ",t.discardLimit]}),v.jsx("button",{onClick:()=>{x(),S()},className:Ae.finishDiscardButton,children:"Finish Discarding"})]})]})]})}function FF({localPlayerState:e,sortedLocalActivePool:t,selectedCard:n,turnPhase:r,mandatoryAction:i,handleToggleDroneSelection:s,selectedDrone:c,setViewUpgradesModal:u,getLocalPlayerId:d,isMyTurn:h,turn:p,passInfo:m,validCardTargets:y}){return v.jsx("div",{className:Ae.droneContainer,children:v.jsx("div",{className:Ae.droneGrid,children:t.map((x,S)=>{const P=(p===1?e.initialDeploymentBudget+e.energy:e.energy)>=x.class,E=n?.type==="Upgrade"&&y.some(_=>_.id===x.name);return v.jsx(gd,{drone:x,onClick:s,isSelected:c&&c.name===x.name,isSelectable:r==="deployment"&&h()&&!m[`${d()}Passed`]&&P&&!i||E,deployedCount:e.deployedDroneCounts[x.name]||0,appliedUpgrades:e.appliedUpgrades[x.name]||[],isUpgradeTarget:E,onViewUpgrades:(_,O)=>u({droneName:_.name,upgrades:O})},S)})})})}function KF({gameLog:e,downloadLogAsCSV:t,setAiDecisionLogToShow:n}){return v.jsxs("div",{className:Ae.logContainer,children:[v.jsxs("div",{className:Ae.logHeader,children:[v.jsx("h3",{className:Ae.logTitle,children:"Game Log"}),v.jsx("button",{onClick:t,className:Ae.downloadButton,children:"Download CSV"})]}),v.jsx("div",{className:Ae.logTableWrapper,children:v.jsxs("table",{className:Ae.logTable,children:[v.jsx("thead",{className:Ae.logTableHeader,children:v.jsxs("tr",{children:[v.jsx("th",{className:Ae.logTableHeaderCell,children:"Rnd"}),v.jsx("th",{className:Ae.logTableHeaderCell,children:"Timestamp (UTC)"}),v.jsx("th",{className:Ae.logTableHeaderCell,children:"Player"}),v.jsx("th",{className:Ae.logTableHeaderCell,children:"Action"}),v.jsx("th",{className:Ae.logTableHeaderCell,children:"Source"}),v.jsx("th",{className:Ae.logTableHeaderCell,children:"Target"}),v.jsx("th",{className:Ae.logTableHeaderCell,children:"Outcome"}),v.jsx("th",{className:Ae.logTableDebugHeader,children:"Debug Source"}),v.jsx("th",{className:Ae.logTableHeaderCell})]})}),v.jsx("tbody",{children:e.map((r,i)=>v.jsxs("tr",{className:Ae.logTableRow,children:[v.jsx("td",{className:Ae.logTableCellBold,children:r.round}),v.jsx("td",{className:Ae.logTableCellGray,children:new Date(r.timestamp).toLocaleTimeString("en-GB",{timeZone:"UTC"})}),v.jsx("td",{className:Ae.logTableCellCyan,children:r.player}),v.jsx("td",{className:Ae.logTableCellYellow,children:r.actionType}),v.jsx("td",{className:Ae.logTableCell,children:r.source}),v.jsx("td",{className:Ae.logTableCell,children:r.target}),v.jsx("td",{className:Ae.logTableCellGrayText,children:r.outcome}),v.jsx("td",{className:Ae.logTableCellDebug,children:r.debugSource}),v.jsx("td",{className:Ae.logTableCellCenter,children:r.aiDecisionContext&&v.jsx("button",{onClick:()=>n(r.aiDecisionContext),className:Ae.aiDecisionButton,title:"Show AI Decision Logic",children:""})})]},i)).reverse()})]})})]})}function VF({localPlayerState:e,localPlayerEffectiveStats:t,sortedLocalActivePool:n,gameLog:r,footerView:i,isFooterOpen:s,multiSelectState:c,selectedCard:u,turnPhase:d,mandatoryAction:h,handleFooterButtonClick:p,handleCardClick:m,cancelCardSelection:y,downloadLogAsCSV:x,getLocalPlayerId:S,isMyTurn:A,hoveredCardId:P,setHoveredCardId:E,setIsViewDiscardModalOpen:_,setIsViewDeckModalOpen:O,optionalDiscardCount:j,handleRoundStartDraw:k,checkBothPlayersHandLimitComplete:D,handleToggleDroneSelection:N,selectedDrone:M,setViewUpgradesModal:z,handleConfirmMandatoryDiscard:re,handleRoundStartDiscard:W,setConfirmationModal:ee,turn:pe,passInfo:de,validCardTargets:ie,gameEngine:U,opponentPlayerState:ae,setAiDecisionLogToShow:ge}){return v.jsxs("footer",{className:Ae.footer,children:[v.jsxs("div",{className:Ae.tabContainer,children:[v.jsx("button",{onClick:()=>p("hand"),className:`${Ae.tabButton} ${s&&i==="hand"?Ae.tabButtonActive:Ae.tabButtonInactive}`,children:v.jsxs("span",{className:Ae.tabIcon,children:[s&&i==="hand"&&v.jsx($c,{size:20}),"Hand (",e.hand.length,"/",t.totals.handLimit,")"]})}),v.jsx("button",{onClick:()=>p("drones"),className:`${Ae.tabButton} ${s&&i==="drones"?Ae.tabButtonActive:Ae.tabButtonInactive}`,children:v.jsxs("span",{className:Ae.tabIcon,children:[s&&i==="drones"&&v.jsx($c,{size:20}),"Drones"]})}),v.jsx("button",{onClick:()=>p("log"),className:`${Ae.tabButton} ${s&&i==="log"?Ae.tabButtonActive:Ae.tabButtonInactive}`,children:v.jsxs("span",{className:Ae.tabIcon,children:[s&&i==="log"&&v.jsx($c,{size:20}),"Log (",r.length,")"]})})]}),v.jsxs("div",{className:`${Ae.contentContainer} ${s?Ae.contentOpen:Ae.contentClosed}`,children:[c&&v.jsxs("div",{className:Ae.multiSelectOverlay,children:[v.jsxs("span",{className:Ae.multiSelectText,children:[c.phase==="select_source_lane"&&"Reposition: Select a source lane",c.phase==="select_drones"&&`Select Drones (${c.selectedDrones.length} / ${c.maxSelection})`,c.phase==="select_destination_lane"&&"Reposition: Select a destination lane"]}),v.jsx("button",{onClick:me=>{me.stopPropagation(),y()},className:Ae.buttonDanger,children:"Cancel"}),c.phase==="select_drones"&&v.jsx("button",{onClick:me=>{me.stopPropagation(),c.selectedDrones.length>0&&console.log("Confirm drones clicked")},disabled:c.selectedDrones.length===0,className:`${Ae.buttonSuccess} ${c.selectedDrones.length===0?Ae.buttonDisabled:""}`,children:"Confirm Drones"})]}),i==="hand"&&v.jsx(YF,{localPlayerState:e,localPlayerEffectiveStats:t,selectedCard:u,turnPhase:d,mandatoryAction:h,handleCardClick:m,getLocalPlayerId:S,isMyTurn:A,hoveredCardId:P,setHoveredCardId:E,setIsViewDiscardModalOpen:_,setIsViewDeckModalOpen:O,optionalDiscardCount:j,handleRoundStartDraw:k,checkBothPlayersHandLimitComplete:D,handleConfirmMandatoryDiscard:re,handleRoundStartDiscard:W,setConfirmationModal:ee,passInfo:de,validCardTargets:ie,gameEngine:U,opponentPlayerState:ae}),i==="drones"&&v.jsx(FF,{localPlayerState:e,sortedLocalActivePool:n,selectedCard:u,turnPhase:d,mandatoryAction:h,handleToggleDroneSelection:N,selectedDrone:M,setViewUpgradesModal:z,getLocalPlayerId:S,isMyTurn:A,turn:pe,passInfo:de,validCardTargets:ie}),i==="log"&&v.jsx(KF,{gameLog:r,downloadLogAsCSV:x,setAiDecisionLogToShow:ge})]})]})}const XF=()=>{const{gameState:e,isMyTurn:t,getLocalPlayerId:n,getOpponentPlayerId:r,isMultiplayer:i,getLocalPlayerState:s,getOpponentPlayerState:c,getLocalPlacedSections:u,getOpponentPlacedSections:d,updatePlayerState:h,setFirstPasserOfPreviousRound:p,addLogEntry:m,resetGame:y,setWinner:x,processAction:S,isActionInProgress:A,getActionQueueLength:P,gameStateManager:E,p2pManager:_}=Ui(),{getEffectiveStats:O,getEffectiveShipStats:j}=$h(),k=!0;C.useEffect(()=>{{const $=setInterval(()=>{const Y=A(),G=P();(Y||G>0)&&console.log("[RACE DEBUG] Action processing state:",{actionInProgress:Y,queueLength:G,currentPlayer:e.currentPlayer,turnPhase:e.turnPhase,timestamp:Date.now()})},1e3);return()=>clearInterval($)}},[A,P,e.currentPlayer,e.turnPhase]),C.useEffect(()=>{qs.initialize(E,Li,E.actionProcessor,()=>e.gameMode!=="local",Gs),console.log(" GameFlowManager initialized")},[]),C.useEffect(()=>{const I=ev.subscribe($=>{switch(console.log(" SequentialPhaseManager event:",$),$.type){case"phase_started":console.log(` Sequential phase started: ${$.phase}, first player: ${$.firstPlayer}`);break;case"turn_changed":console.log(` Turn changed to ${$.player} in ${$.phase} phase`);break;case"player_passed":console.log(` ${$.player} passed in ${$.phase} phase`);break;case"phase_completed":console.log(` ${$.phase} phase completed, first passer: ${$.firstPasser}`);break;default:console.log(` Unknown sequential phase event: ${$.type}`)}});return()=>{I()}},[]);const[D,N]=C.useState(!1),[M,z]=C.useState(null);C.useEffect(()=>{const I=G=>{const{type:ne,phase:ve,playerId:Ce,data:Re}=G;if(console.log(` App.jsx received PhaseManager event: ${ne}`,{phase:ve,playerId:Ce}),ne==="phaseTransition"){const{newPhase:Ve,previousPhase:lt,firstPlayerResult:St}=G;console.log(` App.jsx handling phase transition: ${lt}  ${Ve}`),Ve==="determineFirstPlayer"&&St&&(console.log(" First player determined, showing modal"),ae(!0))}},$=qs.subscribe(I),Y=Li.subscribe(I);return()=>{$(),Y()}},[i,n,z]);const[re,W]=C.useState(null),[ee,pe]=C.useState(null),[de,ie]=C.useState(null),[U,ae]=C.useState(!1),[ge,me]=C.useState(!1),[L,Q]=C.useState(!1),[V,ue]=C.useState(!1),[xe,q]=C.useState(!1),[se,Se]=C.useState(!1),[ye,le]=C.useState(!1),{turnPhase:te,turn:be,currentPlayer:he,firstPlayerOfRound:Xe,firstPasserOfPreviousRound:qe,firstPlayerOverride:Jt,passInfo:Fe,winner:Be,unplacedSections:da,shieldsToAllocate:ti,gameLog:ni,placedSections:vl}=e,Pe=s(),Ie=c(),Vn=u(),Ir=d();if(!Pe||!Ie)return v.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#1a1a1a",color:"#ffffff",fontFamily:"Arial, sans-serif"},children:v.jsx("div",{children:"Initializing game board..."})});const[ze,Ye]=C.useState(null),[Fr,vn]=C.useState(null),[Bh,Uh]=C.useState(null),[Ki,Vi]=C.useState(null),[Kr,hr]=C.useState(null),[ha,pa]=C.useState(null),[zh,bl]=C.useState([]),[xl,ri]=C.useState(null),[Xn,xu]=C.useState(null),[Gh,Su]=C.useState(0),[Qo,Zo]=C.useState(null),[Sl,Al]=C.useState("drones"),[Lr,$t]=C.useState(!0),[bn,ma]=C.useState([]),[Cl,Au]=C.useState([]),[Xi,Pl]=C.useState({visible:!1,start:{x:0,y:0},end:{x:0,y:0}}),[Jo,Cu]=C.useState({}),$r=C.useRef(null),Wn=C.useRef({}),pr=C.useRef(null),Qn=C.useRef(!1),Nt=C.useRef(Fe),El=C.useRef(te),wl=C.useRef(Be),mr=C.useCallback(()=>({player1:e.player1,player2:e.player2}),[e.player1,e.player2]),en=C.useCallback(()=>({player1:e.placedSections,player2:e.opponentPlacedSections}),[e.placedSections,e.opponentPlacedSections]),_l=C.useCallback(I=>{E.setPlayerStates(I.player1,I.player2)},[]);C.useEffect(()=>{Nt.current=Fe},[Fe]),C.useEffect(()=>{El.current=te},[te]),C.useEffect(()=>{wl.current=Be},[Be]),C.useEffect(()=>{if(!i())return;const I=Y=>{if(console.log(" P2P Event received in App:",Y),Y.type==="PHASE_COMPLETED"){const{phase:G}=Y.data||Y;console.log(` Opponent completed phase: ${G}`),setOpponentPhaseCompletion(ne=>{const ve={...ne,[G]:!0};return console.log(" Opponent phase completion updated:",ve),ve})}};return _.subscribe(I)},[i,_]);const Wi=C.useCallback(I=>{const $=_e.createExplosionEffect(I),Y=jA(Wn.current[I],pr.current);if(Y){const G=`${$.timestamp}-${Math.random()}`;Au(ne=>[...ne,{id:G,top:Y.y,left:Y.x}]),setTimeout(()=>{Au(ne=>ne.filter(ve=>ve.id!==G))},$.duration)}},[]),[Bt,$n]=C.useState(null),[Vr,Qi]=C.useState([]),[tn,Xr]=C.useState(null),[Ol,Bn]=C.useState(null),[kn,jn]=C.useState(null),[ga,Tl]=C.useState([]),[pt,gr]=C.useState(null),[Pu,Wr]=C.useState(null),[mt,xn]=C.useState(null),[Eu,Sn]=C.useState(null),[es,ts]=C.useState(null),[ns,ya]=C.useState(null),[An,Qr]=C.useState(null),[ai,rs]=C.useState(!1),[va,ba]=C.useState(null),[Dl,wu]=C.useState(0),[as,xa]=C.useState(null),[Sa,kl]=C.useState(null),[Aa,Ca]=C.useState(0),[jl,Zi]=C.useState(0),[Hh,Ji]=C.useState(null),[Zr,Nl]=C.useState(null),[is,Jr]=C.useState(null),Un=Pe?j(Pe,Vn):null,ea=Ie?j(Ie,Ir):null,eo=C.useMemo(()=>Pe?Object.values(Pe.dronesOnBoard).flat().length:0,[Pe?.dronesOnBoard]),ii=C.useMemo(()=>Ie?Object.values(Ie.dronesOnBoard).flat().length:0,[Ie?.dronesOnBoard]);C.useCallback(I=>{if(console.log(` sendPhaseCompletion called for phase: ${I}`),setLocalPhaseCompletion($=>{const Y={...$,[I]:!0};return console.log(" Local phase completion updated:",Y),Y}),i()){const $={type:"PHASE_COMPLETED",data:{phase:I}};console.log(" Sending phase completion message:",$),_.sendData($),console.log(` Sent phase completion: ${I}`)}else console.log(" Not multiplayer, skipping network send")},[i,_]);const to=C.useCallback(()=>{Q(!0)},[]),_u=()=>{me(!0)},Je=C.useCallback(async I=>{const{transition:$,uiEffects:Y}=_e.createTurnEndEffects(I,Nt.current,El.current,wl.current);switch($.type){case"END_PHASE":$.phase==="deployment"&&_u(),$.phase==="action"&&to();break;case"CONTINUE_TURN":await S("turnTransition",{newPlayer:$.nextPlayer,reason:"continueTurn"});break;case"CHANGE_PLAYER":await S("turnTransition",{newPlayer:$.nextPlayer,reason:"changePlayer"});break}Y.forEach(G=>{switch(G.type){case"CLOSE_MODAL":z(null);break;case"SHOW_MODAL":z(G.modal);break;case"TRIGGER_AI":Su(ne=>ne+1);break}})},[to]);C.useEffect(()=>{const{validAbilityTargets:I,validCardTargets:$}=_e.calculateAllValidTargets(Bt,tn,mt,kn,Pe,Ie,Tn);Qi(I),Tl($),Bt&&(jn(null),Xr(null))},[Bt,tn,kn,Pe,Ie,mt]);const Nn=()=>{Bt&&($n(null),Ye(null))},Dt=()=>{jn(null),xn(null)},Ft=C.useCallback(async I=>{if(Qn.current){console.warn("Attack already in progress. Aborting duplicate call.");return}Qn.current=!0;try{const $=G=>{ma(ne=>[...ne,G]),setTimeout(()=>ma(ne=>ne.filter(ve=>ve!==G)),500)},Y=await S("attack",{attackDetails:I});I.targetId&&$(I.targetId),I.attackingPlayer===r()&&ri({...Y.attackResult,isBlocking:!0}),Y.afterAttackEffects&&Y.afterAttackEffects.forEach(G=>{G.type==="EXPLOSION"&&Wi(G.payload.targetId)}),Y.attackResult.shouldEndTurn&&Je(n()),Vi(null)}catch($){console.error("Error in resolveAttack:",$),Vi(null),ri(null)}finally{Qn.current=!1}},[Je,Wi,S,n,r]),Ou=C.useCallback(async(I,$,Y)=>{try{const G=await S("ability",{droneId:$.id,abilityIndex:$.abilities.indexOf(I),targetId:Y?.id||null});Nn(),G.shouldEndTurn&&Je(n())}catch(G){console.error("Error in resolveAbility:",G),Nn()}},[S,Je,n]),Ml=C.useCallback((I,$,Y)=>{const G=_e.resolveShipAbility(I,$,Y,mr(),en(),ne=>m(ne,"resolveShipAbility"),Ft);if(_l(G.newPlayerStates),G.mandatoryAction){Qr(G.mandatoryAction),Al("hand"),$t(!0),Xr(null),Bn(null);return}if(G.requiresShieldReallocation){Xr(null),Bn(null);return}Xr(null),Bn(null),G.shouldEndTurn&&Je(n())},[m,Je,Vn,Ir,Ft]),no=C.useCallback((I,$,Y,G=null)=>{if(Y===r()){let ve="",Ce="";if($)if($.name){if(ve=$.name,$.id&&$.owner){const Re=$.owner===n()?Pe:Ie;for(const[Ve,lt]of Object.entries(Re.dronesOnBoard))if(lt.some(St=>St.id===$.id)){Ce=Ve.replace("lane","Lane ");break}}}else $.id.startsWith("lane")?(ve=`Lane ${$.id.slice(-1)}`,Ce=`Lane ${$.id.slice(-1)}`):ve=$.id.replace(/([A-Z])/g," $1").replace(/^./,Re=>Re.toUpperCase());xu({card:I,targetName:ve,targetLane:Ce})}if($&&$.id&&$.owner){const ve=$.owner===n()?s():c();let Ce=null;for(const[Re,Ve]of Object.entries(ve.dronesOnBoard))if(Ce=Ve.find(lt=>lt.id===$.id),Ce){console.log("[CARD PLAY DEBUG] Target drone before gameEngine:",{droneName:Ce.name,hull:Ce.hull,currentShields:Ce.currentShields,cardDamage:I.effect?.value,cardType:I.effect?.type,cardDamageType:I.effect?.damageType});break}}const ne=_e.resolveCardPlay(I,$,Y,mr(),en(),{logCallback:ve=>m(ve,"resolveCardPlay",Y===r()?G:null),explosionCallback:Wi,hitAnimationCallback:null,resolveAttackCallback:Ft});if(console.log("[CARD PLAY DEBUG] Updating player states after card resolution:",{card:I.name,actingPlayer:Y,oldPlayer1Hull:Pe.dronesOnBoard,oldPlayer2Hull:Ie.dronesOnBoard,newPlayer1Hull:ne.newPlayerStates.player1?.dronesOnBoard,newPlayer2Hull:ne.newPlayerStates.player2?.dronesOnBoard}),console.log("[CARD PLAY DEBUG] Using gameEngine integrated state (includes callback results)"),_l(ne.newPlayerStates),ne.needsCardSelection){xa({...ne.needsCardSelection,onConfirm:ve=>{ro(ve,ne.needsCardSelection,I,$,Y,G,ne.newPlayerStates),xa(null)},onCancel:()=>{xa(null),Y===n()&&(Dt(),gr(null))}});return}ne.additionalEffects&&ne.additionalEffects.length>0&&(console.log(`[DEBUG] Processing ${ne.additionalEffects.length} additional effects`),ne.additionalEffects.forEach(ve=>{ve.type==="ATTACK"&&(console.warn("[WARNING] ATTACK effect in additionalEffects - this should be handled in gameLogic now"),Ft(ve.attackDetails,!0))})),Y===n()&&(Dt(),gr(null)),ne.shouldEndTurn&&Je(Y)},[Pe,Ie,Ft,Je,Wi,m,_e,Vn,Ir]),ro=C.useCallback((I,$,Y,G,ne,ve,Ce=null)=>{const{searchedCards:Re,remainingDeck:Ve,discardPile:lt,shuffleAfter:St}=$,vt=Re.filter(so=>{const li=so.instanceId||`${so.id}-${so.name}`;return!I.some(lo=>(lo.instanceId||`${lo.id}-${lo.name}`)===li)}),nt=Ce||{player1:Pe,player2:Ie},rt=ne===n()?nt[n()]:nt[r()],si=[...rt.hand,...I];let ta=[...Ve,...vt];St&&(ta=ta.sort(()=>.5-Math.random()));const Pa={...rt,deck:ta,hand:si,discardPile:lt};m({player:rt.name,actionType:"CARD_SELECTION",source:Y.name,target:`Selected ${I.length} cards`,outcome:`Drew: ${I.map(so=>so.name).join(", ")}`},"handleCardSelection",ne===r()?ve:null);const Uu={[n()]:ne===n()?{...rt,deck:Pa.deck,hand:Pa.hand,discardPile:Pa.discardPile}:nt[n()],[r()]:ne===r()?{...rt,deck:Pa.deck,hand:Pa.hand,discardPile:Pa.discardPile}:nt[r()]},cs=_e.finishCardPlay(Y,ne,Uu);_l(cs.newPlayerStates),ne===n()&&(Dt(),gr(null)),cs.shouldEndTurn&&Je(ne)},[Pe,Ie,m,Je]),os=C.useCallback((I,$,Y,G)=>{const ne=_e.resolveMultiMove(I,$,Y,G,Pe,c(),en(),{logCallback:m,applyOnMoveEffectsCallback:_e.applyOnMoveEffects,updateAurasCallback:_e.updateAuras});h(n(),ne.newPlayerState),ne.shouldClearMultiSelectState&&xn(null),ne.shouldCancelCardSelection&&Dt(),ne.shouldEndTurn&&Je(n())},[Pe,Je,m,_e,Vn,Ir]),Tu=C.useCallback((I,$,Y,G)=>{const ne=_e.resolveSingleMove(I,$,Y,G,Pe,c(),en(),{logCallback:m,applyOnMoveEffectsCallback:_e.applyOnMoveEffects,updateAurasCallback:_e.updateAuras});h(n(),ne.newPlayerState),ne.shouldClearMultiSelectState&&xn(null),ne.shouldCancelCardSelection&&Dt(),ne.shouldEndTurn&&Je(n())},[Pe,m,_e,Vn,Ir]),Du=async()=>{const I=Un;wu(0),await S("phaseTransition",{newPhase:"optionalDiscard",trigger:"startOptionalDiscardPhase"}),z({title:"Optional Discard Phase",text:`You may discard up to ${I.totals.discardLimit} cards from your hand. Click a card to discard it, then press "Finish Discarding" when you are done.`,isBlocking:!0})},qh=I=>{Lr?Sl===I?$t(!1):Al(I):($t(!0),Al(I))};C.useEffect(()=>{Be||_e.checkGameStateForWinner(mr(),{logCallback:m,setWinnerCallback:x,showWinnerModalCallback:ue})},[Pe?.shipSections,Ie?.shipSections,Be,m]),C.useEffect(()=>{if(te==="action"){const I=_e.calculatePotentialInterceptors(ze,Pe,Ie,en());bl(I)}else bl([])},[ze,te,Pe,Ie,_e,Vn,Ir]),C.useEffect(()=>{vn(null)},[ze]),C.useEffect(()=>{if(ze&&!Bt&&te==="action"){const I=jA(Wn.current[ze.id],pr.current);I&&Pl({visible:!0,start:I,end:{x:I.x,y:I.y}})}else Pl(I=>({...I,visible:!1}))},[ze,te,Bt]),C.useEffect(()=>{const I=Y=>{if(Xi.visible&&$r.current&&pr.current){const G=pr.current.getBoundingClientRect(),ne=Y.clientX-G.left,ve=Y.clientY-G.top;$r.current.setAttribute("x2",ne),$r.current.setAttribute("y2",ve)}},$=pr.current;return $?.addEventListener("mousemove",I),()=>{$?.removeEventListener("mousemove",I)}},[Xi.visible]);const Yh=({visible:I,start:$,end:Y,lineRef:G})=>I?v.jsxs("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none z-40",children:[v.jsx("defs",{children:v.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"0",refY:"3.5",orient:"auto",children:v.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#ff0055"})})}),v.jsx("line",{ref:G,x1:$.x,y1:$.y,x2:Y.x,y2:Y.y,stroke:"#ff0055",strokeWidth:"4",markerEnd:"url(#arrowhead)",strokeDasharray:"10, 5"})]}):null,Rl=({top:I,left:$})=>v.jsx("div",{className:"explosion",style:{top:`${I}px`,left:`${$}px`}}),fn=({title:I,text:$,onClose:Y,children:G,maxWidthClass:ne="max-w-lg"})=>v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:v.jsxs("div",{className:`bg-gray-900 rounded-2xl border-2 border-purple-500 p-8 shadow-2xl shadow-purple-500/20 w-full ${ne} relative`,children:[Y&&v.jsx("button",{onClick:Y,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:v.jsx(il,{size:24})}),v.jsx("h2",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-cyan-400 text-center mb-4",children:I}),v.jsx("p",{className:"text-center text-gray-400",children:$}),G]})}),Fh=({report:I,onClose:$})=>{if(!I)return null;const{attackerName:Y,lane:G,targetName:ne,targetType:ve,interceptorName:Ce,shieldDamage:Re,hullDamage:Ve,wasDestroyed:lt,remainingShields:St,remainingHull:vt}=I,nt=ve==="section"?ne.replace(/([A-Z])/g," $1").replace(/^./,rt=>rt.toUpperCase()):ne;return v.jsxs(fn,{title:"AI Action Report",text:"",onClose:$,children:[v.jsxs("div",{className:"text-left text-gray-300 space-y-3 mt-4 text-center",children:[v.jsxs("p",{children:[v.jsx("strong",{className:"text-pink-400",children:Y})," attacked in ",v.jsx("strong",{children:G?.replace("lane","Lane ")||"Unknown Lane"}),"."]}),Ce?v.jsxs("p",{children:["Your ",v.jsx("strong",{className:"text-yellow-400",children:Ce})," intercepted the attack, which was targeting your ",v.jsx("strong",{className:"text-cyan-400",children:nt}),"!"]}):v.jsxs("p",{children:["It targeted your ",v.jsx("strong",{className:"text-cyan-400",children:nt}),"."]}),v.jsxs("p",{children:["The attack dealt ",v.jsx("strong",{className:"text-cyan-300",children:Re})," damage to shields and ",v.jsx("strong",{className:"text-red-400",children:Ve})," damage to the hull."]}),lt?v.jsx("p",{className:"font-bold text-red-500 text-lg",children:"The target was destroyed!"}):v.jsxs("p",{children:["The target has ",v.jsx("strong",{className:"text-cyan-300",children:St})," shields and ",v.jsx("strong",{className:"text-green-400",children:vt})," hull remaining."]})]}),v.jsx("div",{className:"flex justify-center mt-6",children:v.jsx("button",{onClick:$,className:"btn-continue",children:"Continue"})})]})},Kh=({report:I,onClose:$})=>{if(!I)return null;const{card:Y,targetName:G,targetLane:ne}=I;return v.jsxs(fn,{title:"AI Action: Card Played",text:"",onClose:$,children:[v.jsxs("div",{className:"flex flex-col items-center gap-4 mt-4",children:[v.jsxs("p",{className:"text-center text-lg text-gray-300",children:["The opponent played ",v.jsx("strong",{className:"text-purple-400",children:Y.name}),G&&v.jsxs(v.Fragment,{children:[" on ",v.jsx("strong",{className:"text-cyan-400",children:G}),ne&&v.jsxs(v.Fragment,{children:[" in ",v.jsx("strong",{className:"text-yellow-400",children:ne})]})]}),"!"]}),v.jsx("div",{className:"transform scale-75",children:v.jsx(eh,{card:Y,isPlayable:!1})})]}),v.jsx("div",{className:"flex justify-center mt-6",children:v.jsx("button",{onClick:$,className:"btn-continue",children:"Continue"})})]})},Vh=({choiceData:I,onIntercept:$,onDecline:Y})=>{const{attackDetails:G,interceptors:ne}=I,{attacker:ve,target:Ce,targetType:Re,lane:Ve}=G;return v.jsxs(fn,{title:"Interception Opportunity!",text:`Combat in ${Ve?.replace("lane","Lane ")||"Unknown Lane"}`,onClose:Y,maxWidthClass:"max-w-3xl",children:[v.jsxs("div",{className:"flex justify-around items-center my-4 p-4 bg-black/20 rounded-lg",children:[v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("h4",{className:"text-lg font-bold text-pink-400 mb-2",children:"Attacker"}),v.jsx(hd,{drone:ve,isPlayer:!1,lane:Ve,droneRefs:Wn,mandatoryAction:An,localPlayerState:Pe})]}),v.jsx("div",{className:"text-4xl font-bold text-gray-500",children:"VS"}),v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("h4",{className:"text-lg font-bold text-cyan-400 mb-2",children:"Target"}),Re==="drone"?v.jsx(hd,{drone:Ce,isPlayer:!0,lane:Ve,droneRefs:Wn,mandatoryAction:An,localPlayerState:Pe}):v.jsx("div",{className:"transform scale-75",children:v.jsx(yd,{section:Ce.name,stats:Pe.shipSections[Ce.name],isPlayer:!0,isInteractive:!1,gameEngine:_e,turnPhase:te,isMyTurn:t,passInfo:Fe,getLocalPlayerId:n,localPlayerState:Pe,shipAbilityMode:tn})})]})]}),v.jsx("h3",{className:"text-center text-white text-xl font-semibold mt-6 mb-2",children:"Choose an Interceptor"}),v.jsx("p",{className:"text-center text-gray-400 mb-4",children:"Drones with higher speed or special abilities can intercept the attack."}),v.jsx("div",{className:"flex flex-wrap justify-center gap-8 my-4",children:ne.map(lt=>v.jsx(hd,{drone:lt,isPlayer:!0,onClick:()=>$(lt),lane:Ve,droneRefs:Wn,mandatoryAction:An,localPlayerState:Pe},lt.id))}),v.jsx("div",{className:"flex justify-center mt-6",children:v.jsx("button",{onClick:Y,className:"bg-pink-600 text-white font-bold py-2 px-6 rounded-full hover:bg-pink-700 transition-colors",children:"Decline Interception"})})]})},Xh=({decisionLog:I,onClose:$})=>{if(!I)return null;const Y=G=>{if(G.type==="deploy"||!G.target)return G.targetName;if(G.type==="attack")return`${G.target.name.replace(/([A-Z])/g," $1").replace(/^./,Ce=>Ce.toUpperCase())} (Lane ${G.attacker.lane.slice(-1)})`;const ne=G.target.owner===n()?"Player":"AI";return String(G.target.id).startsWith("lane")?`${ne} Lane ${G.target.id.slice(-1)}`:`${ne}: ${G.targetName}`};return v.jsxs(fn,{title:"AI Decision Matrix",text:"This log shows all actions the AI considered for its turn, the score it assigned, and the logic behind that score.",onClose:$,maxWidthClass:"max-w-7xl",children:[v.jsx("div",{className:"mt-4 max-h-[60vh] overflow-y-auto",children:v.jsxs("table",{className:"w-full text-left text-sm",children:[v.jsx("thead",{className:"sticky top-0 bg-slate-800",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-2",children:"Type"}),v.jsx("th",{className:"p-2",children:"Instigator"}),v.jsx("th",{className:"p-2",children:"Target"}),v.jsx("th",{className:"p-2 w-1/3",children:"Logic Breakdown"}),v.jsx("th",{className:"p-2",children:"Score"}),v.jsx("th",{className:"p-2",children:"Chosen"})]})}),v.jsx("tbody",{children:I.sort((G,ne)=>ne.score-G.score).map((G,ne)=>v.jsxs("tr",{className:`border-b border-gray-700/50 ${G.isChosen?"bg-purple-900/50":"hover:bg-slate-700/50"}`,children:[v.jsx("td",{className:"p-2 capitalize",children:G.type?G.type.replace("_"," "):"Deploy"}),v.jsx("td",{className:"p-2 text-purple-300",children:G.instigator}),v.jsx("td",{className:"p-2 text-cyan-300",children:Y(G)}),v.jsx("td",{className:"p-2 text-gray-400 text-xs",children:G.logic.join(" -> ")}),v.jsx("td",{className:"p-2 font-bold text-lg",children:G.score}),v.jsx("td",{className:"p-2 text-center",children:G.isChosen&&v.jsx("span",{className:"text-yellow-400",children:""})})]},ne))})]})}),v.jsx("div",{className:"flex justify-center mt-6",children:v.jsx("button",{onClick:$,className:"btn-continue",children:"Close"})})]})},Il=()=>{z(null);const I={player1:e.player1,player2:e.player2},$={player1:{totals:Un.totals},player2:{totals:ea.totals}},Y=_e.checkHandLimitViolations(I,$),G=n();Y[G].needsDiscard?(Qr({type:"discard",player:G,count:Y[G].discardCount}),rs(!0)):Du()},Wh=async()=>{Q(!1),jn(null),Ye(null),$n(null),xn(null),p(Fe.firstPasser),await S("roundStart",{newTurn:be+1,trigger:"roundEndModal"}),z({title:"Start of a New Round",text:"The new round has begun. You will now resolve any mandatory discards, followed by an optional discard phase. Afterwards, you will automatically draw cards to your hand limit.",onClose:Il,isBlocking:!0,children:v.jsx("div",{className:"flex justify-center mt-6",children:v.jsx("button",{onClick:Il,className:"btn-continue",children:"Begin"})})})},Qh=()=>{Du()},Zh=()=>{ae(!1);const I=eo>Un.totals.cpuLimit,$=ii>ea.totals.cpuLimit,Y=Xe===n()?[n(),r()]:[r(),n()],G=ne=>{if(ne===n()){if(I)return Qr({type:"destroy",player:n(),count:eo-Un.totals.cpuLimit}),rs(!0),!0}else if($){let ve={...Ie},Ce=Object.values(Ie.dronesOnBoard).flat().length-ea.totals.cpuLimit;for(let Re=0;Re<Ce;Re++){const Ve=Object.entries(ve.dronesOnBoard).flatMap(([rt,si])=>si.map(ta=>({...ta,lane:rt})));if(Ve.length===0)break;const lt=Math.min(...Ve.map(rt=>rt.class)),St=Ve.filter(rt=>rt.class===lt),vt=St[Math.floor(Math.random()*St.length)];ve.dronesOnBoard[vt.lane]=ve.dronesOnBoard[vt.lane].filter(rt=>rt.id!==vt.id);const nt=_e.onDroneDestroyed(ve,vt);Object.assign(ve,nt)}ve.dronesOnBoard=_e.updateAuras(ve,s(),en()),h(r(),ve)}return!1};G(Y[0])||G(Y[1])||Nu()};C.useEffect(()=>{Be&&Qn.current&&(console.log("[DEFENSIVE CLEANUP] Resetting stuck attack flag due to game state change"),Qn.current=!1)},[Be,te,he]);const[Ll,$l]=C.useState(he);C.useEffect(()=>{if(te!=="deployment"&&te!=="action"||Be||U||ge||L||re||ee||pt||he===Ll)return;const I=t(),$=i();console.log("[MODAL UPDATE] Turn change detected:",{currentPlayer:he,lastCurrentPlayer:Ll,myTurn:I,turnPhase:te,isMultiplayerGame:$,currentModalTitle:M?.title}),$l(he),I?te==="deployment"||te==="action"&&z({title:"Action Phase - Your Turn",text:"It's your turn to act. Select a drone to move or attack, play a card, or use an ability.",isBlocking:!0}):te==="deployment"?z({title:$?"Opponent's Turn":"AI Thinking...",text:$?"Your opponent is deploying a drone. Wait for their turn to complete.":"AI is deciding on drone deployment...",isBlocking:!1}):te==="action"&&z({title:$?"Opponent's Turn":"AI Thinking...",text:$?"Your opponent is taking their turn.":"AI is deciding on its next action...",isBlocking:!1})},[he,te,t,i,be,Be,U,ge,L,re,ee,pt,Ll,M?.title]);const Jh=()=>{y(),Qn.current=!1,Ye(null),z(null),ri(null),$n(null),Qi([]),Qr(null),rs(!1),ba(null),jn(null),Tl([]),gr(null),ue(!1)},ep=async()=>{me(!1);const I=Xe;await S("phaseTransition",{newPhase:"action",resetPassInfo:!0}),await S("turnTransition",{newPlayer:I,reason:"startActionPhase"}),!Be&&(I===n()?z({title:"Action Phase Begins",text:"It's your turn to act. Select a drone to move or attack, play a card, or use an ability.",isBlocking:!0}):z({title:"Opponent's Turn",text:"Your opponent is taking their turn.",isBlocking:!1}))},ku=async()=>{jn(null),Ye(null),$n(null);const I=Un.totals.shieldsPerTurn;Nl(JSON.parse(JSON.stringify(Pe.shipSections))),await S("phaseTransition",{newPhase:"allocateShields",trigger:"proceedToShieldAllocation"}),z({title:"Phase: Restore Shields",text:`You have ${I} shields to restore. Click on any of your damaged ship sections to add a shield. When finished, click "End Allocation" to continue.`,isBlocking:!0})},ju=async I=>{const{turnPhase:$}=e;if($==="allocateShields"){const Y=_e.processShieldAllocation({sectionName:I},s());h(n(),Y.newPlayerState)}else await S("allocateShield",{sectionName:I,playerId:n()})},tp=async I=>{if(Aa<=0||Pe.shipSections[I].allocatedShields<=0)return;(await S("reallocateShields",{action:"remove",sectionName:I,playerId:n()})).success&&(Ca(G=>G-1),Zi(G=>G+1))},np=async I=>{if(jl<=0)return;const $=Pe.shipSections[I],Y=_e.getEffectiveSectionMaxShields(I,Pe,Vn);if($.allocatedShields>=Y)return;(await S("reallocateShields",{action:"add",sectionName:I,playerId:n()})).success&&Zi(ne=>ne-1)},rp=I=>{if(Sa){Sa==="removing"?tp(I):Sa==="adding"&&np(I);return}te==="allocateShields"&&ju(I)},ap=I=>{const{turnPhase:$}=e;if($==="optionalDiscard"){const Y=s(),G=Y.hand.filter(ve=>ve.id!==I.id),ne=[...Y.discardPile,I];h(n(),{hand:G,discardPile:ne}),wu(ve=>ve+1),m({player:Y.name,actionType:"DISCARD_OPTIONAL",card:I.name,timestamp:Date.now()}),Bl()}},ip=()=>{const{turnPhase:I}=e;if(I==="optionalDiscard"){const $=s(),Y=j($,u()).totals;let G=[...$.deck],ne=[...$.hand],ve=[...$.discardPile];const Ce=Y.handLimit;for(;ne.length<Ce&&(G.length>0||ve.length>0);){G.length===0&&(G=[...ve].sort(()=>.5-Math.random()),ve=[]);const Re=G.shift();Re&&ne.push(Re)}h(n(),{deck:G,hand:ne,discardPile:ve}),m({player:$.name,actionType:"DRAW_TO_HAND_LIMIT",cardsDrawn:ne.length-$.hand.length,timestamp:Date.now()}),Bl()}},Bl=()=>{const{turnPhase:I}=e;if(I==="optionalDiscard")if(i()){const $=s(),Y=j($,u()).totals;$.hand.length<=Y.handLimit&&(_&&i()&&_.sendData({type:"PHASE_COMPLETED",phase:"optionalDiscard",playerId:n(),timestamp:Date.now()}),ku())}else{const $=s(),Y=c(),G=j($,u()).totals,ne=j(Y,d()).totals;if($.hand.length<=G.handLimit){if(Y.hand.length>ne.handLimit){const Ce=Y.hand.length-ne.handLimit,Re=Y.hand.slice(0,Ce);h(r(),{hand:Y.hand.slice(Ce),discardPile:[...Y.discardPile,...Re]})}op(),ku()}}},op=()=>{const I=c(),$=j(I,d()).totals;let Y=[...I.deck],G=[...I.hand],ne=[...I.discardPile];const ve=$.handLimit;for(;G.length<ve&&(Y.length>0||ne.length>0);){Y.length===0&&(Y=[...ne].sort(()=>.5-Math.random()),ne=[]);const Ce=Y.shift();Ce&&G.push(Ce)}h(r(),{deck:Y,hand:G,discardPile:ne}),m({player:I.name,actionType:"DRAW_TO_HAND_LIMIT",cardsDrawn:G.length-I.hand.length,timestamp:Date.now()})},Nu=async()=>{await S("phaseTransition",{newPhase:"deployment",resetPassInfo:!0}),!Be&&(Xe===n()||z({title:"Opponent's Turn",text:"Your opponent is deploying a drone. Wait for their turn to complete.",isBlocking:!1}))},sp=I=>{Fe[n()+"Passed"]||(ze&&ze.name===I.name?Ye(null):(Ye(I),$n(null),Dt()))},ss=async I=>{try{const $=await S("deployment",{droneData:ze,laneId:I,playerId:n(),turn:be});$.success?(Ye(null),Je(n())):z({title:$.error,text:$.message,isBlocking:!0})}catch($){console.error("Error executing deployment:",$),z({title:"Deployment Error",text:"Failed to execute deployment",isBlocking:!0})}},ao=I=>{if(!(!ze||he!==n()||Fe[n()+"Passed"])){if(be===1){const $=_e.validateDeployment(Pe,ze,be,eo,Un);if(!$.isValid){z({title:$.reason,text:$.message,isBlocking:!0});return}const{budgetCost:Y,energyCost:G}=$;if(G>0){W({lane:I,budgetCost:Y,energyCost:G});return}}ss(I)}},lp=()=>{if(!re)return;const{lane:I,budgetCost:$,energyCost:Y}=re;ss(I),W(null)},Mu=async()=>{Fe[`${n()}Passed`]||await S("playerPass",{playerId:n(),playerName:Pe.name,turnPhase:te,passInfo:Fe,opponentPlayerId:r()})};C.useEffect(()=>{if(!Ki||Ki.attackingPlayer!==r())return;const I=_e.calculateAiInterception(Ki,mr(),en());I.hasInterceptors?pa({attackDetails:I.attackDetails,interceptors:I.interceptors}):Ft(Ki)},[Ki,Ft,Vn,Ir]);const Ru=(I,$,Y)=>{if(I.stopPropagation(),te!=="action"||he!==n()||Fe[n()+"Passed"])return;const G=Y.cost||{};if($.isExhausted&&G.exhausts!==!1){z({title:"Drone Exhausted",text:"This drone cannot perform any more actions this turn.",isBlocking:!0});return}if(G.energy&&Pe.energy<G.energy){z({title:"Not Enough Energy",text:`This ability costs ${G.energy} energy, but you only have ${Pe.energy}.`,isBlocking:!0});return}if(Y.targeting?.type==="LANE"&&Y.targeting?.location==="SAME_LANE"){const ne=_e.getLaneOfDrone($.id,Pe);if(ne){Wr({ability:Y,drone:$,target:{id:ne,owner:n()}});return}}Bt&&Bt.drone.id===$.id?Nn():($n({drone:$,ability:Y}),Ye($),Dt())},Iu=(I,$,Y)=>{if(I.stopPropagation(),!(te!=="action"||!t()||Fe[`${n()}Passed`])){if(Pe.energy<Y.cost.energy){z({title:"Not Enough Energy",text:`This ability costs ${Y.cost.energy} energy, but you only have ${Pe.energy}.`,isBlocking:!0});return}tn?.ability.id===Y.id?Xr(null):Y.targeting?(Xr({sectionName:$.name,ability:Y}),Ye(null),Nn(),Dt()):Y.effect.type==="REALLOCATE_SHIELDS"?(kl("removing"),Ca(Y.effect.value.maxShields),Zi(0),Ji(JSON.parse(JSON.stringify(Pe.shipSections))),Jr({ability:Y,sectionName:$.name})):Bn({ability:Y,sectionName:$.name,target:null})}},Lu=(I,$,Y)=>{if(I.stopPropagation(),console.log(`--- handleTokenClick triggered for ${$.name} (isPlayer: ${Y}) ---`),mt&&mt.phase==="select_drones"&&Y){console.log("Action: Multi-move drone selection.");const{selectedDrones:G,maxSelection:ne}=mt;G.some(Ce=>Ce.id===$.id)?xn(Ce=>({...Ce,selectedDrones:Ce.selectedDrones.filter(Re=>Re.id!==$.id)})):G.length<ne&&xn(Ce=>({...Ce,selectedDrones:[...Ce.selectedDrones,$]}));return}if(Vr.some(G=>G.id===$.id)||ga.some(G=>G.id===$.id)){console.log("Action: Targeting for an active card/ability."),Ul($,"drone",Y);return}if(te==="action"&&t()&&ze&&!ze.isExhausted&&!Y){console.log("Action: Attempting a standard attack."),console.log("Attacker selected:",ze.name,`(ID: ${ze.id})`),console.log("Target clicked:",$.name,`(ID: ${$.id})`);const[G]=Object.entries(Pe.dronesOnBoard).find(([ve,Ce])=>Ce.some(Re=>Re.id===ze.id))||[],[ne]=Object.entries(Ie.dronesOnBoard).find(([ve,Ce])=>Ce.some(Re=>Re.id===$.id))||[];if(console.log("Calculated Attacker Lane:",G),console.log("Calculated Target Lane:",ne),G&&ne&&G===ne)if(console.log("SUCCESS: Lanes match. Checking for Guardian..."),Ie.dronesOnBoard[ne].some(Re=>O(Re,ne).keywords.has("GUARDIAN")))console.log("FAILURE: Target is protected by a Guardian drone."),z({title:"Invalid Target",text:"This lane is protected by a Guardian drone. You must destroy it before targeting other drones.",isBlocking:!0});else{console.log("SUCCESS: No Guardian. Checking for interception.");const Re={attacker:ze,target:$,targetType:"drone",lane:G,attackingPlayer:n()},Ve=O(ze,G),lt=Ie.dronesOnBoard[G].filter(vt=>{const nt=O(vt,G);return!vt.isExhausted&&(nt.speed>Ve.speed||nt.keywords.has("ALWAYS_INTERCEPTS"))&&vt.id!==$.id}).sort((vt,nt)=>vt.class-nt.class);let St=null;lt.length>0&&($.class===void 0||lt[0].class<$.class)&&(St=lt[0]),St?hr({interceptor:St,originalTarget:$,onClose:()=>{Ft({...Re,interceptor:St}),hr(null),Ye(null)}}):(Ft(Re),Ye(null))}else console.log("FAILURE: Lanes do not match or could not be found."),z({title:"Invalid Target",text:"You can only attack targets in the same lane.",isBlocking:!0});return}if(mt&&mt.phase==="select_drones"&&Y){console.log("Action: Multi-move drone selection.");const{selectedDrones:G,maxSelection:ne}=mt;G.some(Ce=>Ce.id===$.id)?xn(Ce=>({...Ce,selectedDrones:Ce.selectedDrones.filter(Re=>Re.id!==$.id)})):G.length<ne&&xn(Ce=>({...Ce,selectedDrones:[...Ce.selectedDrones,$]}));return}if(An?.type==="destroy"&&Y){console.log("Action: Mandatory destruction."),ba({type:"destroy",target:$,onConfirm:()=>$u($),onCancel:()=>ba(null),text:`Are you sure you want to destroy your ${$.name}?`});return}if(Y&&te==="action"&&t()&&!Fe[`${n()}Passed`]){if($.isExhausted){console.log("Action prevented: Drone is exhausted.");return}ze?.id===$.id?(console.log("Action: Deselecting drone",$.name),Ye(null)):(console.log("Action: Selecting drone",$.name),Ye($),Nn(),Dt());return}console.log("Action: Fallback - showing drone details."),ie($)},Ul=(I,$,Y)=>{if(tn&&Vr.some(G=>G.id===I.id)){Bn({ability:tn.ability,sectionName:tn.sectionName,target:I});return}if(Bt&&Vr.some(G=>G.id===I.id)){Ou(Bt.ability,Bt.drone,I);return}if(kn&&ga.some(G=>G.id===I.id)){const G=Y?n():r();gr({card:kn,target:{...I,owner:G}});return}if(te==="action"&&t()&&ze&&!ze.isExhausted&&!Y&&$==="section"){console.log("Action: Attempting ship section attack."),console.log("Attacker selected:",ze.name,`(ID: ${ze.id})`),console.log("Target clicked:",I.name,`(Type: ${$})`);const[G]=Object.entries(Pe.dronesOnBoard).find(([ne,ve])=>ve.some(Ce=>Ce.id===ze.id))||[];if(console.log("Calculated Attacker Lane:",G),G){console.log("SUCCESS: Found attacker lane. Checking for Guardian...");const ne=Ie.dronesOnBoard[G];if(ne&&ne.some(Ce=>O(Ce,G).keywords.has("GUARDIAN")))console.log("FAILURE: Ship section is protected by a Guardian drone."),z({title:"Invalid Target",text:"This lane is protected by a Guardian drone. You must destroy it before targeting the ship section.",isBlocking:!0});else{console.log("SUCCESS: No Guardian. Checking for interception.");const Ce={attacker:ze,target:I,targetType:"section",lane:G,attackingPlayer:n()},Re=O(ze,G),Ve=Ie.dronesOnBoard[G].filter(St=>{const vt=O(St,G);return!St.isExhausted&&(vt.speed>Re.speed||vt.keywords.has("ALWAYS_INTERCEPTS"))}).sort((St,vt)=>St.class-vt.class);let lt=null;Ve.length>0&&(lt=Ve[0]),lt?hr({interceptor:lt,originalTarget:I,onClose:()=>{Ft({...Ce,interceptor:lt}),hr(null),Ye(null)}}):(Ft(Ce),Ye(null))}}else console.log("FAILURE: Could not determine attacker lane."),z({title:"Invalid Attack",text:"Could not determine the attacking drone's lane.",isBlocking:!0});return}$==="drone"&&ie(I)},oi=(I,$,Y)=>{if(I.stopPropagation(),Bt&&Bt.ability.targeting.type==="LANE"){const G=Y?n():r();if(Vr.some(ne=>ne.id===$&&ne.owner===G)){Wr({ability:Bt.ability,drone:Bt.drone,target:{id:$,owner:G}});return}}if(mt&&Y&&ga.some(G=>G.id===$)){const{phase:G,sourceLane:ne,selectedDrones:ve}=mt;if(G==="select_source_lane"){xn(Ce=>({...Ce,phase:"select_drones",sourceLane:$}));return}if(G==="select_destination_lane"){os(mt.card,ve,ne,$);return}}if(mt&&mt.card.effect.type==="SINGLE_MOVE"&&mt.phase==="select_destination"&&Y){ga.some(G=>G.id===$)&&Tu(mt.card,mt.selectedDrone,mt.sourceLane,$);return}if(kn&&kn.targeting.type==="LANE"){const G=Y?n():r();if(ga.some(ne=>ne.id===$&&ne.owner===G)){gr({card:kn,target:{id:$,owner:G}});return}}if(kn){Dt();return}if(Bt){Nn();return}if(te==="deployment"&&Y)ao($);else if(te==="action"&&Y&&ze){const[G]=Object.entries(Pe.dronesOnBoard).find(([Ce,Re])=>Re.some(Ve=>Ve.id===ze.id))||[];if(!G)return;const ne=parseInt(G.replace("lane",""),10),ve=parseInt($.replace("lane",""),10);Math.abs(ne-ve)===1?pe({drone:ze,from:G,to:$}):z({title:"Invalid Move",text:"Drones can only move to adjacent lanes.",isBlocking:!0})}},cp=I=>{if(!(te!=="action"||!t()||Fe[`${n()}Passed`])&&!(Pe.energy<I.cost)){if(I.effect.type==="MULTI_MOVE"){mt&&mt.card.instanceId===I.instanceId?Dt():(xn({card:I,phase:"select_source_lane",sourceLane:null,selectedDrones:[],maxSelection:I.effect.count}),jn(I),Ye(null),$n(null));return}if(I.effect.type==="SINGLE_MOVE"){mt&&mt.card.instanceId===I.instanceId?Dt():(xn({card:I,phase:"select_drone",selectedDrone:null,sourceLane:null}),jn(I),Ye(null),$n(null));return}if(kn?.instanceId===I.instanceId)Dt();else if(I.name==="System Sabotage"){const $=_e.getValidTargets(n(),null,I,Pe,Ie);Sn({card:I,targets:$,opponentState:Ie}),jn(null),$n(null),Ye(null)}else if(I.type==="Upgrade"){const $=_e.getValidTargets(n(),null,I,Pe,Ie);$.length>0?(ts({card:I,targets:$}),jn(null),$n(null),Ye(null)):z({title:"No Valid Targets",text:`There are no drone types that can accept the '${I.name}' upgrade right now.`,isBlocking:!0})}else I.targeting?(jn(I),Ye(null),$n(null)):(gr({card:I,target:null}),jn(null),$n(null),Ye(null))}},up=()=>{if(!ee)return;const{drone:I,from:$,to:Y}=ee;m({player:Pe.name,actionType:"MOVE",source:I.name,target:Y,outcome:`Moved from ${$} to ${Y}.`},"playerMove");let G=JSON.parse(JSON.stringify(Pe));G.dronesOnBoard[$]=G.dronesOnBoard[$].filter(Ce=>Ce.id!==I.id);const ne={...I,isExhausted:!0};G.dronesOnBoard[Y].push(ne);const{newState:ve}=_e.applyOnMoveEffects(G,ne,$,Y,m);ve.dronesOnBoard=_e.updateAuras(ve,Ie,en()),h(n(),ve),pe(null),Ye(null),Je(n())},fp=I=>{const $=An;m({player:Pe.name,actionType:"DISCARD_MANDATORY",source:I.name,target:"N/A",outcome:`Discarded ${I.name}.`},"handleConfirmMandatoryDiscard"),h(n(),{...Pe,hand:Pe.hand.filter(G=>G.instanceId!==I.instanceId),discardPile:[...Pe.discardPile,I]}),ba(null);const Y=$.count-1;Y<=0?(Qr(null),$.fromAbility?Je(n()):Qh()):Qr(G=>({...G,count:Y}))},$u=I=>{const $=_e.getLaneOfDrone(I.id,Pe);if($){let Y={...Pe,dronesOnBoard:{...Pe.dronesOnBoard}};Y.dronesOnBoard[$]=Y.dronesOnBoard[$].filter(ne=>ne.id!==I.id);const G=_e.onDroneDestroyed(Y,I);Object.assign(Y,G),Y.dronesOnBoard=_e.updateAuras(Y,c(),en()),h(n(),Y)}Qr(Y=>{const G=Y.count-1;if(G<=0){if(ii>ea.totals.cpuLimit){let ve={...Ie},Ce=Object.values(Ie.dronesOnBoard).flat().length-j(Ie,Ir).totals.cpuLimit;for(let Re=0;Re<Ce;Re++){const Ve=Object.entries(ve.dronesOnBoard).flatMap(([rt,si])=>si.map(ta=>({...ta,lane:rt})));if(Ve.length===0)break;const lt=Math.min(...Ve.map(rt=>rt.class)),St=Ve.filter(rt=>rt.class===lt),vt=St[Math.floor(Math.random()*St.length)];ve.dronesOnBoard[vt.lane]=ve.dronesOnBoard[vt.lane].filter(rt=>rt.id!==vt.id);const nt=_e.onDroneDestroyed(ve,vt);Object.assign(ve,nt)}ve.dronesOnBoard=_e.updateAuras(ve,s(),en()),h(r(),ve)}return Nu(),null}return{...Y,count:G}}),ba(null)},Bu=()=>{if(ni.length===0){alert("The game log is empty.");return}const I=["Round","TimestampUTC","Player","Action","Source","Target","Outcome","DebugSource"],$=ni.map(ve=>[ve.round,ve.player,ve.actionType,ve.source,ve.target,ve.outcome,ve.debugSource||"N/A"].map(Re=>`"${String(Re).replace(/"/g,'""')}"`).join(",")),Y=[I.join(","),...$].join(`
`),G=new Blob([Y],{type:"text/csv;charset=utf-8;"}),ne=document.createElement("a");if(ne.download!==void 0){const ve=URL.createObjectURL(G);ne.setAttribute("href",ve),ne.setAttribute("download",`drone-wars-log-${new Date().toISOString()}.csv`),ne.style.visibility="hidden",document.body.appendChild(ne),ne.click(),document.body.removeChild(ne)}},io=C.useCallback(async()=>{ri(null),await S("turnTransition",{newPlayer:n(),reason:"aiReportClosed"})},[S,n]),oo=C.useCallback(async()=>{Xn&&!Xn.card.effect.goAgain?await S("turnTransition",{newPlayer:n(),reason:"aiCardReportClosed"}):Xn&&Xn.card.effect.goAgain&&!Be&&(await S("turnTransition",{newPlayer:r(),reason:"aiGoAgain"}),z({title:"Opponent's Turn",text:"Your opponent takes another action!",isBlocking:!1})),xu(null)},[S,n,r,Xn,Be]),dp=C.useMemo(()=>[...Pe.activeDronePool].sort((I,$)=>I.class!==$.class?I.class-$.class:I.name.localeCompare($.name)),[Pe.activeDronePool]);C.useMemo(()=>Pe?Object.keys(Pe.shipSections).some(I=>Pe.shipSections[I].allocatedShields<_e.getEffectiveSectionMaxShields(I,Pe,Vn)):!1,[Pe.shipSections,Vn]);const ls=()=>be===1?"The first player is determined randomly for the first round.":`${qe===n()?Pe.name:Ie.name} passed first in the previous round, securing the initiative.`;return v.jsxs("div",{className:"h-screen bg-gray-950 text-white font-sans overflow-hidden flex flex-col bg-gradient-to-br from-gray-900 via-indigo-950 to-black relative",ref:pr,onClick:()=>{Nn(),Dt()},children:[v.jsx("style",{children:`
            @import url('https://fonts.googleapis.com/css2?family=Exo:wght@400;700&family=Orbitron:wght@400;700;900&display=swap');
           .font-orbitron { font-family: 'Orbitron', sans-serif; }
            .font-exo { font-family: 'Exo', sans-serif; }
            .hexagon { clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%); }
            .hexagon-flat { clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%); }
            @keyframes pulse-glow {
                0%, 100% { filter: drop-shadow(0 0 2px rgba(255, 255, 0, 0.7)) drop-shadow(0 0 3px rgba(255, 0, 0, 0.6)); }
                50% { filter: drop-shadow(0 0 4px rgba(255, 255, 0, 1)) drop-shadow(0 0 7px rgba(255, 0, 0, 0.8)); }
            }
            .interceptor-glow { animation: pulse-glow 2s infinite ease-in-out; }
            @keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); } 20%, 40%, 60%, 80% { transform: translateX(5px); } }
           .animate-shake { animation: shake 0.5s ease-in-out; }
            .explosion { position: absolute; width: 100px; height: 100px; background-image: radial-gradient(circle, rgba(255,159,64,1) 0%, rgba(255,87,34,0.8) 40%, rgba(255,255,255,0) 70%); border-radius: 50%; transform: translate(-50%, -50%) scale(0); animation: explode 1s ease-out forwards; pointer-events: none; z-index: 50; }
            @keyframes explode { 0% { transform: translate(-50%, -50%) scale(0); opacity: 1; } 50% { transform: translate(-50%, -50%) scale(1.5); opacity: 0.8; } 100% { transform: translate(-50%, -50%) scale(2); opacity: 0; } }
           .bg-grid-cyan { background-image: linear-gradient(rgba(34, 211, 238, 0.2) 1px, transparent 1px), linear-gradient(90deg, rgba(34, 211, 238, 0.2) 1px, transparent 1px); background-size: 20px 20px;             .bg-grid-cyan { background-image: linear-gradient(rgba(34, 211, 238, 0.2) 1px, transparent 1px), linear-gradient(90deg, rgba(34, 211, 238, 0.2) 1px, transparent 1px); background-size: 20px 20px; }
            
            /* --- ADD THESE STYLES --- */
            .no-scrollbar::-webkit-scrollbar {
              display: none;
            }
            .no-scrollbar {
              -ms-overflow-style: none;  /* IE and Edge */
              scrollbar-width: none;  /* Firefox */}
            `}),v.jsx(Yh,{visible:Xi.visible,start:Xi.start,end:Xi.end,lineRef:$r}),Cl.map(I=>v.jsx(Rl,{top:I.top,left:I.left},I.id)),v.jsx(GY,{localPlayerState:Pe,opponentPlayerState:Ie,localPlayerEffectiveStats:Un,opponentPlayerEffectiveStats:ea,turnPhase:te,turn:be,passInfo:Fe,firstPlayerOfRound:Xe,shieldsToAllocate:ti,shieldsToRemove:Aa,shieldsToAdd:jl,reallocationPhase:Sa,totalLocalPlayerDrones:eo,totalOpponentPlayerDrones:ii,getLocalPlayerId:n,getOpponentPlayerId:r,isMyTurn:t,handlePlayerPass:Mu,handleReset:Jh,mandatoryAction:An,multiSelectState:mt,AI_HAND_DEBUG_MODE:k,setShowAiHandModal:N}),v.jsx(HY,{localPlayerState:Pe,opponentPlayerState:Ie,localPlacedSections:Vn,opponentPlacedSections:Ir,selectedCard:kn,validCardTargets:ga,abilityMode:Bt,validAbilityTargets:Vr,multiSelectState:mt,turnPhase:te,reallocationPhase:Sa,shipAbilityMode:tn,hoveredTarget:Fr,selectedDrone:ze,recentlyHitDrones:bn,potentialInterceptors:zh,droneRefs:Wn,mandatoryAction:An,gameEngine:_e,getLocalPlayerId:n,getOpponentPlayerId:r,isMyTurn:t,getPlacedSectionsForEngine:en,passInfo:Fe,handleTargetClick:Ul,handleLaneClick:oi,handleShipSectionClick:rp,handleShipAbilityClick:Iu,handleTokenClick:Lu,handleAbilityIconClick:Ru,setHoveredTarget:vn}),v.jsx(VF,{localPlayerState:Pe,localPlayerEffectiveStats:Un,sortedLocalActivePool:dp,gameLog:ni,footerView:Sl,isFooterOpen:Lr,multiSelectState:mt,selectedCard:kn,turnPhase:te,mandatoryAction:An,handleFooterButtonClick:qh,handleCardClick:cp,cancelCardSelection:Dt,downloadLogAsCSV:Bu,getLocalPlayerId:n,isMyTurn:t,hoveredCardId:Bh,setHoveredCardId:Uh,setIsViewDiscardModalOpen:Se,setIsViewDeckModalOpen:q,optionalDiscardCount:Dl,handleRoundStartDraw:ip,checkBothPlayersHandLimitComplete:Bl,handleToggleDroneSelection:sp,selectedDrone:ze,setViewUpgradesModal:ya,handleConfirmMandatoryDiscard:fp,handleRoundStartDiscard:ap,setConfirmationModal:ba,turn:be,passInfo:Fe,validCardTargets:ga,gameEngine:_e,opponentPlayerState:Ie,setAiDecisionLogToShow:Zo}),M&&v.jsx(fn,{title:M.title,text:M.text,onClose:M.onClose===null?null:M.onClose||(()=>z(null)),children:M.children}),v.jsx(BY,{show:U,firstPlayerOfRound:Xe,localPlayerId:n(),localPlayerName:Pe.name,opponentPlayerName:Ie.name,reasonText:ls(),onContinue:Zh}),v.jsx(UY,{show:ge,onContinue:ep}),v.jsx(zY,{show:L,onContinue:Wh}),re&&v.jsx(fn,{title:"Confirm Deployment",text:`This deployment will use ${re.budgetCost} Initial Deployment points and cost ${re.energyCost} Energy. Proceed?`,onClose:()=>W(null),children:v.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[v.jsx("button",{onClick:()=>W(null),className:"bg-pink-600 text-white font-bold py-2 px-6 rounded-full hover:bg-pink-700 transition-colors",children:"Cancel"}),v.jsx("button",{onClick:lp,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-full hover:bg-green-700 transition-colors",children:"Confirm"})]})}),ee&&v.jsx(fn,{title:"Confirm Move",text:`Move ${ee.drone.name} from ${ee.from} to ${ee.to}? The drone will be exhausted.`,onClose:()=>pe(null),children:v.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[v.jsx("button",{onClick:()=>pe(null),className:"bg-pink-600 text-white font-bold py-2 px-6 rounded-full hover:bg-pink-700 transition-colors",children:"Cancel"}),v.jsx("button",{onClick:up,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-full hover:bg-green-700 transition-colors",children:"Confirm"})]})}),Kr&&v.jsx(fn,{title:"Attack Intercepted!",text:`Your opponent used their ${Kr.interceptor.name} to protect ${Kr.originalTarget.name}!`,onClose:Kr.onClose,children:v.jsx("div",{className:"flex justify-center mt-6",children:v.jsx("button",{onClick:Kr.onClose,className:"btn-continue",children:"Continue"})})}),ha&&v.jsx(Vh,{choiceData:ha,onIntercept:I=>{Ft({...ha.attackDetails,interceptor:I}),pa(null)},onDecline:()=>{Ft(ha.attackDetails),pa(null)}}),v.jsx($Y,{isOpen:!!de,drone:de,onClose:()=>ie(null)}),xl&&v.jsx(Fh,{report:xl,onClose:io}),Xn&&v.jsx(Kh,{report:Xn,onClose:oo}),Qo&&v.jsx(Xh,{decisionLog:Qo,onClose:()=>Zo(null)}),Be&&V&&v.jsx(fn,{title:Be===n()?"Victory!":"Defeat!",text:Be===n()?"You have crippled the enemy command ship.":"Your command ship has been crippled.",onClose:()=>ue(!1),children:v.jsx("div",{className:"flex justify-center mt-6",children:v.jsx("button",{onClick:()=>ue(!1),className:"btn-continue",children:"View Final Board"})})}),An&&ai&&v.jsx(fn,{title:An.type==="discard"?"Hand Limit Exceeded":"CPU Limit Exceeded",text:An.type==="discard"?`Your hand limit is now ${Un.handLimit}. Please select ${An.count} card(s) to discard.`:`Your drone limit is now ${Un.cpuLimit}. Please select ${An.count} drone(s) to destroy.`,onClose:()=>rs(!1)}),va&&v.jsx(fn,{title:`Confirm ${va.type==="discard"?"Discard":"Destruction"}`,text:va.text,onClose:va.onCancel,children:v.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[v.jsx("button",{onClick:va.onCancel,className:"bg-gray-600 text-white font-bold py-2 px-6 rounded-full hover:bg-gray-700 transition-colors",children:"Cancel"}),v.jsx("button",{onClick:va.onConfirm,className:"bg-red-600 text-white font-bold py-2 px-6 rounded-full hover:bg-red-700 transition-colors",children:"Confirm"})]})}),ns&&v.jsx(IY,{modalData:ns,onClose:()=>ya(null)}),Eu&&v.jsx(LY,{selectionData:Eu,onConfirm:(I,$)=>{no(I,$,n()),Sn(null)},onCancel:()=>{Sn(null),Dt()}}),es&&v.jsx(RY,{selectionData:es,onConfirm:(I,$)=>{no(I,$,n()),ts(null)},onCancel:()=>{ts(null),Dt()}}),pt&&(()=>{let I="";return pt.target&&(pt.target.name?I=pt.target.name:pt.target.id.startsWith("lane")?I=`Lane ${pt.target.id.slice(-1)}`:I=pt.target.id.replace(/([A-Z])/g," $1").replace(/^./,$=>$.toUpperCase())),v.jsx(fn,{title:`Confirm Action: ${pt.card.name}`,text:`Use ${pt.card.name}${I?` on ${I}`:""}? This will cost ${pt.card.cost} energy.`,onClose:()=>gr(null),children:v.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[v.jsx("button",{onClick:()=>gr(null),className:"bg-pink-600 text-white font-bold py-2 px-6 rounded-full hover:bg-pink-700 transition-colors",children:"Cancel"}),v.jsx("button",{onClick:()=>no(pt.card,pt.target,n()),className:"bg-green-600 text-white font-bold py-2 px-6 rounded-full hover:bg-green-700 transition-colors",children:"Confirm"})]})})})(),Pu&&(()=>{const{ability:I,drone:$,target:Y}=Pu,G=`Lane ${Y.id.slice(-1)}`;return v.jsx(fn,{title:`Confirm Ability: ${I.name}`,text:`Use ${$.name}'s ability on ${G}? This will cost ${I.cost.energy||0} energy and exhaust the drone.`,onClose:()=>Wr(null),children:v.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[v.jsx("button",{onClick:()=>Wr(null),className:"bg-pink-600 text-white font-bold py-2 px-6 rounded-full hover:bg-pink-700 transition-colors",children:"Cancel"}),v.jsx("button",{onClick:()=>{Ou(I,$,Y),Wr(null)},className:"bg-green-600 text-white font-bold py-2 px-6 rounded-full hover:bg-green-700 transition-colors",children:"Confirm"})]})})})(),D&&k&&v.jsxs(fn,{title:"Opponent's Hand (Debug View)",text:`The opponent is holding ${Ie.hand.length} card(s). This view is for debug purposes only.`,onClose:()=>N(!1),maxWidthClass:"max-w-6xl",children:[v.jsx("div",{className:"flex flex-nowrap items-center gap-4 my-4 p-4 overflow-x-auto bg-black/20 rounded",children:Ie.hand.length>0?Ie.hand.map(I=>v.jsx(eh,{card:I,isPlayable:!1},I.instanceId)):v.jsx("p",{className:"text-gray-500 italic",children:"The opponent's hand is empty."})}),v.jsx("div",{className:"flex justify-center mt-6",children:v.jsx("button",{onClick:()=>N(!1),className:"btn-continue",children:"Close"})})]}),v.jsx(Mw,{isOpen:xe,onClose:()=>q(!1),cards:Pe.deck,title:"Remaining Cards in Deck",shouldSort:!0}),v.jsx(Mw,{isOpen:se,onClose:()=>Se(!1),cards:Pe.discardPile,title:"Discard Pile",shouldSort:!1}),v.jsx(DY,{isOpen:!!as,onClose:as?.onCancel||(()=>xa(null)),onConfirm:as?.onConfirm||(()=>{}),selectionData:as}),Ol&&(()=>{const{ability:I,sectionName:$,target:Y}=Ol,G=$.replace(/([A-Z])/g," $1").replace(/^./,ve=>ve.toUpperCase());let ne="";return Y&&(ne=Y.name),v.jsx(fn,{title:`Confirm Ability: ${I.name}`,text:`Use ${G}'s ability${Y?` on ${ne}`:""}? This will cost ${I.cost.energy} energy.`,onClose:()=>Bn(null),children:v.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[v.jsx("button",{onClick:()=>Bn(null),className:"bg-pink-600 text-white font-bold py-2 px-6 rounded-full hover:bg-pink-700 transition-colors",children:"Cancel"}),v.jsx("button",{onClick:()=>Ml(I,$,Y),className:"bg-green-600 text-white font-bold py-2 px-6 rounded-full hover:bg-green-700 transition-colors",children:"Confirm"})]})})})(),ye&&v.jsx(kY,{onGameStart:()=>{le(!1),console.log(" Starting multiplayer game"),E.startGame(e.gameMode,{name:"Player 1",deck:[],activeDronePool:[]},{name:"Player 2",deck:[],activeDronePool:[]}),qs.startGameFlow("droneSelection"),setTempSelectedDrones([]),z({title:"Phase 1: Choose Your Drones",text:"Select 5 drones from your full collection to add to your Active Drone Pool. These are the drones you can launch during the game. Your opponent is making their selections simultaneously.",isBlocking:!0})},onBack:()=>le(!1)}),v.jsx(jY,{isVisible:!1,currentPlayer:he,gameMode:e.gameMode,roomCode:null,lastAction:null,localPlayerState:Pe,opponentPlayerState:Ie,getLocalPlayerId:n})]})};function WF(){const{gameState:e}=Ui(),[t,n]=C.useState(!0);if(C.useEffect(()=>{const r=setTimeout(()=>{n(!1)},100);return()=>clearTimeout(r)},[]),C.useEffect(()=>{Li.initialize(tt,Gs,()=>e.gameMode!=="local"),console.log(" SimultaneousActionManager initialized in AppRouter")},[e.gameMode]),C.useEffect(()=>{Gs.initialize(tv,Tn,e.selectedAIPersonality||tv[0]),console.log(" AIPhaseProcessor initialized in AppRouter")},[e.selectedAIPersonality]),C.useEffect(()=>{qs.initialize(tt,Li,tt.actionProcessor,()=>e.gameMode!=="local",Gs),tt.setGameFlowManager(qs),console.log(" GameFlowManager initialized in AppRouter")},[e.gameMode]),t)return v.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#1a1a1a",color:"#ffffff",fontFamily:"Arial, sans-serif"},children:v.jsx("div",{children:"Loading Drone Wars..."})});switch(e.appState){case"menu":return v.jsx(RA,{});case"lobby":return v.jsx(OR,{});case"inGame":switch(e.turnPhase){case"droneSelection":return v.jsx(DR,{});case"deckSelection":return v.jsx(kR,{});case"deckBuilding":return v.jsx(_Y,{});case"placement":return v.jsx(NR,{});default:return v.jsx(XF,{})}default:return console.warn("Unknown app state:",e.appState,"defaulting to menu"),v.jsx(RA,{})}}rN.createRoot(document.getElementById("root")).render(v.jsx(Bw.StrictMode,{children:v.jsx(WF,{})}));export{rh as G,Tn as f};
