/* ========================================
   HIDDEN CARD STYLES
   Unrevealed/hidden card visual
   Used in Inventory and Loot Reveal
   ======================================== */

/* Base card - matches ActionCard dimensions */
.dw-hidden-card {
  width: 225px;
  height: 275px;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  position: relative;
  overflow: hidden;
  /* Background color set via inline style (rarity-based) */
  /* Angular clip-path matching ActionCard */
  clip-path: polygon(0 0, 100% 0, 100% calc(100% - 20px), calc(100% - 20px) 100%, 0 100%);
  /* Rarity-colored glow effect */
  box-shadow:
    0 4px 20px rgba(0, 0, 0, 0.4),
    0 0 20px var(--rarity-color, #808080);
  animation: hiddenCardGlow 2s ease-in-out infinite alternate;
}

/* Shimmer effect - moving highlight that sweeps across */
.dw-hidden-card::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 60%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, calc(var(--shimmer-intensity, 0.12) * 0.3)) 25%,
    rgba(255, 255, 255, var(--shimmer-intensity, 0.12)) 50%,
    rgba(255, 255, 255, calc(var(--shimmer-intensity, 0.12) * 0.3)) 75%,
    transparent 100%
  );
  transform: skewX(-20deg);
  animation: hiddenCardShimmer 6s ease-in-out infinite;
  animation-delay: var(--shimmer-delay, 0s);
  pointer-events: none;
}

@keyframes hiddenCardShimmer {
  0% {
    left: -100%;
  }
  30%, 100% {
    left: 150%;
  }
}

@keyframes hiddenCardGlow {
  from {
    box-shadow:
      0 4px 20px rgba(0, 0, 0, 0.4),
      0 0 15px var(--rarity-color, #808080);
  }
  to {
    box-shadow:
      0 4px 20px rgba(0, 0, 0, 0.4),
      0 0 30px var(--rarity-color, #808080);
  }
}

/* Small size variant for grids */
.dw-hidden-card--sm {
  width: 100%;
  height: auto;
  aspect-ratio: 225 / 275;
  /* Smaller clip for scaled cards */
  clip-path: polygon(0 0, 100% 0, 100% calc(100% - 12px), calc(100% - 12px) 100%, 0 100%);
  /* Subtler rarity glow for grid view */
  box-shadow:
    0 2px 10px rgba(0, 0, 0, 0.3),
    0 0 10px var(--rarity-color, #808080);
  /* Keep shimmer but slower */
}

/* Small cards use same shimmer */

.dw-hidden-card--sm:hover {
  box-shadow:
    0 4px 15px rgba(0, 0, 0, 0.4),
    0 0 20px var(--rarity-color, #808080);
}

/* Circular pattern container */
.dw-hidden-card__pattern {
  width: 80px;
  height: 80px;
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: 12px;
}

.dw-hidden-card--sm .dw-hidden-card__pattern {
  width: 50px;
  height: 50px;
  border-width: 2px;
  margin-bottom: 8px;
}

/* Question mark icon */
.dw-hidden-card__icon {
  font-family: 'Exo', sans-serif;
  font-size: 48px;
  font-weight: bold;
  color: rgba(255, 255, 255, 0.8);
  text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
}

.dw-hidden-card--sm .dw-hidden-card__icon {
  font-size: 28px;
}

/* Rarity badge - white text for readability on colored backgrounds */
.dw-hidden-card__rarity {
  font-family: 'Exo', sans-serif;
  font-size: 12px;
  font-weight: 600;
  color: rgba(255, 255, 255, 0.9);
  text-transform: uppercase;
  letter-spacing: 1px;
}

.dw-hidden-card--sm .dw-hidden-card__rarity {
  font-size: 10px;
  letter-spacing: 0.5px;
}
