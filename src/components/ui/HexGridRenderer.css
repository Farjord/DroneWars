/* ========================================
   HEX GRID RENDERER STYLES
   ======================================== */

.hex-grid-container {
  position: absolute;
  left: 0;
  top: 60px; /* Below 60px header - no gap */
  width: calc(100% - 320px); /* 320px panel, no margins */
  height: calc(100% - 60px); /* Full height minus header */
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  background: transparent;
  font-family: 'Exo', sans-serif;
  /* Glowing border matching Hangar - brighter cyan */
  border: 2px solid rgba(6, 212, 212, 0.8);
  box-shadow:
    inset 0 0 30px rgba(0, 0, 0, 0.8),
    0 0 25px rgba(6, 182, 212, 0.5),
    0 0 50px rgba(6, 182, 212, 0.3);
  border-radius: 4px;
  z-index: 50; /* Above base content but below overlays */
}

.hex-grid-svg {
  width: 100%;
  height: 100%;
  max-width: 100vw;
  max-height: 100vh;
}

/* Hex cells */
.hex-cell {
  cursor: pointer;
  transition: opacity 0.2s ease, stroke 0.2s ease;
}

.hex-cell:hover {
  stroke-width: 3;
  stroke: rgba(255, 255, 255, 0.6);
}

.hex-group {
  transition: filter 0.2s ease;
}

.hex-group:hover {
  filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.4)) brightness(1.15);
}

/* Path highlight glow */
.hex-path-glow {
  animation: path-pulse 1.5s ease-in-out infinite;
}

@keyframes path-pulse {
  0%, 100% {
    opacity: 0.3;
  }
  50% {
    opacity: 0.6;
  }
}

/* Grid pattern overlay */
.hex-grid-overlay {
  pointer-events: none;
}

/* POI and Gate pulsing glow effect */
.hex-poi-glow,
.hex-gate-glow {
  animation: important-hex-pulse 2.5s ease-in-out infinite;
}

@keyframes important-hex-pulse {
  0%, 100% {
    filter: drop-shadow(0 0 4px rgba(6, 182, 212, 0.3));
  }
  50% {
    filter: drop-shadow(0 0 14px rgba(6, 182, 212, 0.7));
  }
}

/* Insertion gate - Orange/amber glow (entry point) */
.hex-insertion-glow {
  animation: insertion-gate-pulse 2.5s ease-in-out infinite;
}

@keyframes insertion-gate-pulse {
  0%, 100% {
    filter: drop-shadow(0 0 4px rgba(245, 158, 11, 0.3));
  }
  50% {
    filter: drop-shadow(0 0 14px rgba(245, 158, 11, 0.7));
  }
}

/* Extraction gate - Blue/cyan glow (exit point) */
.hex-extraction-glow {
  animation: extraction-gate-pulse 2.5s ease-in-out infinite;
}

@keyframes extraction-gate-pulse {
  0%, 100% {
    filter: drop-shadow(0 0 4px rgba(59, 130, 246, 0.3));
  }
  50% {
    filter: drop-shadow(0 0 14px rgba(59, 130, 246, 0.7));
  }
}

/* Looted POI - greyed out, no glow animation */
.hex-poi-looted {
  filter: grayscale(70%) brightness(0.6);
  opacity: 0.7;
}

/* Icons */
.hex-icon {
  pointer-events: none;
  user-select: none;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));
}

/* Player sonar ping effect - expanding rings that fade */
.player-sonar-container {
  pointer-events: none;
}

.sonar-ping {
  transform-origin: center;
  transform-box: fill-box;
}

/* Sonar ping animation - ring expands outward and fades */
@keyframes sonar-ping-expand {
  0% {
    transform: scale(1);
    opacity: 0.8;
    stroke-width: 2;
  }
  100% {
    transform: scale(4);
    opacity: 0;
    stroke-width: 0.5;
  }
}

/* Staggered ping animations for continuous effect */
.sonar-ping-1 {
  animation: sonar-ping-expand 3s ease-out infinite;
}

.sonar-ping-2 {
  animation: sonar-ping-expand 3s ease-out infinite;
  animation-delay: 1s;
}

.sonar-ping-3 {
  animation: sonar-ping-expand 3s ease-out infinite;
  animation-delay: 2s;
}

/* Scanning animation - expanding cyan ring */
.scan-ring-animation {
  animation: scan-expand 0.5s ease-out infinite;
  filter: drop-shadow(0 0 8px rgba(6, 182, 212, 0.9));
}

@keyframes scan-expand {
  0% {
    r: 5;
    opacity: 1;
    stroke-width: 3;
  }
  100% {
    opacity: 0;
    stroke-width: 1;
  }
}

/* Zoom Controls */
.tactical-zoom-controls {
  position: absolute;
  bottom: 16px;
  left: 180px; /* Position after map info box */
  display: flex;
  gap: 8px;
  z-index: 200;
  pointer-events: auto;
}

.tactical-zoom-controls button {
  padding: 8px 12px;
  pointer-events: auto;
  cursor: pointer;
}

/* Responsive sizing */
@media (max-width: 768px) {
  .hex-grid-container {
    left: 0;
    top: 60px;
    width: calc(100% - 280px); /* Smaller panel on tablet */
    height: calc(100% - 60px);
  }

  .hex-grid-svg {
    max-width: 100vw;
    max-height: calc(100vh - 200px); /* Account for HUD */
  }

  .tactical-zoom-controls {
    left: 150px; /* Adjust for smaller map info box */
  }
}

@media (max-width: 480px) {
  .hex-grid-container {
    left: 0;
    top: 60px;
    width: 100%; /* Panel moves to bottom on mobile */
    height: calc(50vh - 60px); /* Account for bottom panel */
  }

  .tactical-zoom-controls {
    left: 130px;
    bottom: calc(50vh + 16px); /* Above the bottom panel */
  }
}
